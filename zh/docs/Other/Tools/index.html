<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  WSL
  #


  cmd
  #

wsl -l -v
wsl --shutdown	#关闭
wsl --list --verbose # 查看已安装的发行版、WSL 版本信息和当前状态
wsl --set-default <DistroName> # 重新指定默认发行版
wsl --export Ubuntu-22.04 e:\Ubuntu-22.04.tar#导出
wsl --unregister Ubuntu-22.04 #注销并卸载
wsl --import Ubuntu-22.04 E:\ubuntu2204 E:\Ubuntu-22.04.tar#导入
wsl --set-default <DistroName> # 重新指定默认发行版

  环境配置
  #


windows 设置打开： 适用于 Linux 的 Windows 子系统 和 虚拟机平台


  

  


Linux 内核更新包：https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi


wsl --list --verbose # 查看已安装的发行版、WSL 版本信息和当前状态
wsl --set-default <DistroName> # 重新指定默认发行版



  Windows 11：WSL 2 安装和管理指南，3 种方法任你选 - 系统极客 (sysgeek.cn)

  Win11 安装 Docker Desktop 和 WSL2 并进行安装位置迁移_windows 11 wsl 修改安装位置-CSDN 博客"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://pxgh02.github.io/zh/docs/Other/Tools/"><meta property="og:site_name" content="Pxmmmm"><meta property="og:title" content="Pxmmmm"><meta property="og:description" content="WSL # cmd # wsl -l -v wsl --shutdown	#关闭 wsl --list --verbose # 查看已安装的发行版、WSL 版本信息和当前状态 wsl --set-default <DistroName> # 重新指定默认发行版 wsl --export Ubuntu-22.04 e:\Ubuntu-22.04.tar#导出 wsl --unregister Ubuntu-22.04 #注销并卸载 wsl --import Ubuntu-22.04 E:\ubuntu2204 E:\Ubuntu-22.04.tar#导入 wsl --set-default <DistroName> # 重新指定默认发行版 环境配置 # windows 设置打开： 适用于 Linux 的 Windows 子系统 和 虚拟机平台 Linux 内核更新包：https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi
wsl --list --verbose # 查看已安装的发行版、WSL 版本信息和当前状态 wsl --set-default <DistroName> # 重新指定默认发行版 Windows 11：WSL 2 安装和管理指南，3 种方法任你选 - 系统极客 (sysgeek.cn)
Win11 安装 Docker Desktop 和 WSL2 并进行安装位置迁移_windows 11 wsl 修改安装位置-CSDN 博客"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-02-20T08:46:41+00:00"><title>Tools | Pxmmmm</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://pxgh02.github.io/zh/docs/Other/Tools/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.8eafbac7697c4856301cceaa115ee72ef60019c2c45132b637d7543a267762ca.js integrity="sha256-jq+6x2l8SFYwHM6qEV7nLvYAGcLEUTK2N9dUOiZ3Yso=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/zh/><span>Pxmmmm</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
Chinese</a></label><ul><li><a href=/>English</a></li></ul></li></ul><ul><li><input type=checkbox id=section-a7a8fb3cc34544172ff5103ce3adf7cc class=toggle checked>
<label for=section-a7a8fb3cc34544172ff5103ce3adf7cc class="flex justify-between"><a href=/zh/docs/Other/>Other</a></label><ul><li><input type=checkbox id=section-0f93294ac0398c75569110d47f22a323 class=toggle>
<label for=section-0f93294ac0398c75569110d47f22a323 class="flex justify-between"><a href=/zh/docs/Other/Other/>Other</a></label><ul><li><a href=/zh/docs/Other/Other/Algorithms/>Algorithms</a></li><li><a href=/zh/docs/Other/Other/Hardware/>Hardware</a></li><li><a href=/zh/docs/Other/Other/linux/>Linux</a></li><li><a href=/zh/docs/Other/Other/Literature/>Literature</a></li><li><a href=/zh/docs/Other/Other/network/>Network</a></li><li><a href=/zh/docs/Other/Other/Program/>Program</a></li><li><a href=/zh/docs/Other/Other/software/>Software</a></li><li><a href=/zh/docs/Other/Other/Tools/>Tools</a></li><li><a href=/zh/docs/Other/Other/window/>Window</a></li></ul></li><li><a href=/zh/docs/Other/Algorithms/>Algorithms</a></li><li><a href=/zh/docs/Other/git/>Git</a></li><li><a href=/zh/docs/Other/Hardware/>Hardware</a></li><li><a href=/zh/docs/Other/linux/>Linux</a></li><li><a href=/zh/docs/Other/Literature/>Literature</a></li><li><a href=/zh/docs/Other/makefile/>Makefile</a></li><li><a href=/zh/docs/Other/network/>Network</a></li><li><a href=/zh/docs/Other/Program/>Program</a></li><li><a href=/zh/docs/Other/Tools/ class=active>Tools</a></li><li><a href=/zh/docs/Other/window/>Window</a></li><li><a href=/zh/docs/Other/Writing-PPT-Presentation/>Writing Ppt Presentation</a></li></ul></li><li><input type=checkbox id=section-546194909198d851b05dc5d16088b0b9 class=toggle>
<label for=section-546194909198d851b05dc5d16088b0b9 class="flex justify-between"><a href=/zh/docs/Digtal/>Physical Design</a></label><ul><li><input type=checkbox id=section-50bd8d8e06f01bc507cff9ec875d9670 class=toggle>
<label for=section-50bd8d8e06f01bc507cff9ec875d9670 class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/>Physical Design</a></label><ul><li><input type=checkbox id=section-eb886ad00a6041494cd8a2d37b9502c1 class=toggle>
<label for=section-eb886ad00a6041494cd8a2d37b9502c1 class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/flow/EDA4PR/>EDA4PR</a></label></li><li><input type=checkbox id=section-56ecf627e9a5b7dcba2f2eeea116f5c8 class=toggle>
<label for=section-56ecf627e9a5b7dcba2f2eeea116f5c8 class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/flow/EDA4PR-Digtal/>EDA4PR-Digtal</a></label></li><li><input type=checkbox id=section-531f953e4132641abe87a288f8c87537 class=toggle>
<label for=section-531f953e4132641abe87a288f8c87537 class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/flow/flow/>Flow</a></label></li><li><input type=checkbox id=section-dd416fec3c1dfa9abc7052d958fac1fb class=toggle>
<label for=section-dd416fec3c1dfa9abc7052d958fac1fb class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/Placement/placement/>Placement</a></label></li><li><input type=checkbox id=section-edb5a12c4e85a0cb8ad856bb96d3a791 class=toggle>
<label for=section-edb5a12c4e85a0cb8ad856bb96d3a791 class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/Routing/routing2/>Routing</a></label></li><li><input type=checkbox id=section-85e7c64a7f59a04958f475e43f62710b class=toggle>
<label for=section-85e7c64a7f59a04958f475e43f62710b class="flex justify-between"><a href=/zh/docs/Digtal/Digtal/Routing/routing1/>Routing1</a></label></li></ul></li><li><input type=checkbox id=section-9bc128912acae8559e0b27b496b7779b class=toggle>
<label for=section-9bc128912acae8559e0b27b496b7779b class="flex justify-between"><a href=/zh/docs/Digtal/flow/EDA4PR/>EDA4PR</a></label></li><li><input type=checkbox id=section-50846ac4cdec99c8bd1f8b0417acad9a class=toggle>
<label for=section-50846ac4cdec99c8bd1f8b0417acad9a class="flex justify-between"><a href=/zh/docs/Digtal/flow/flow/>Flow</a></label></li><li><input type=checkbox id=section-b2241e4da59f24976e354abe344e8d4f class=toggle>
<label for=section-b2241e4da59f24976e354abe344e8d4f class="flex justify-between"><a href=/zh/docs/Digtal/Placement/placement/>Placement</a></label></li><li><input type=checkbox id=section-259735f9bf2708d778569b162c141df5 class=toggle>
<label for=section-259735f9bf2708d778569b162c141df5 class="flex justify-between"><a href=/zh/docs/Digtal/Routing/routing2/>Routing</a></label></li><li><input type=checkbox id=section-78b8f069c0c130e55062b802fff78361 class=toggle>
<label for=section-78b8f069c0c130e55062b802fff78361 class="flex justify-between"><a href=/zh/docs/Digtal/Routing/routing1/>Routing1</a></label></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Tools</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#wsl>WSL</a><ul><li><a href=#cmd>cmd</a></li><li><a href=#环境配置>环境配置</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#vmmemwsl-占用-cpu-或内存资源过高>VmmemWSL 占用 CPU 或内存资源过高</a></li><li><a href=#代理问题>代理问题</a></li></ul></li></ul></li><li><a href=#cc>C/C++</a></li><li><a href=#conda>conda</a><ul><li><a href=#基本命令>基本命令</a></li><li><a href=#环境配置-1>环境配置</a></li><li><a href=#常见问题-1>常见问题</a></li></ul></li><li><a href=#cuda-驱动cuda-toolkit-cudnn>cuda 驱动，cuda-toolkit, cudnn</a><ul><li><a href=#环境配置-2>环境配置</a><ul><li><a href=#安装-wsl-cuda-驱动>安装 WSL Cuda 驱动</a></li><li><a href=#cudatoolkit>cudatoolkit</a></li><li><a href=#cudnn>cudnn</a></li></ul></li><li><a href=#重装>重装</a></li></ul></li><li><a href=#pytorch-dgl-pyg>pytorch, dgl, PyG</a></li><li><a href=#docker>docker</a><ul><li><a href=#使用-dockerfile>使用 dockerfile</a><ul><li><a href=#dockerfile>dockerfile</a></li></ul></li><li><a href=#container-内的c项目debug>container 内的C++项目debug</a><ul><li></li></ul></li><li><a href=#centos-容器无法联网问题>centos 容器无法联网问题</a></li><li><a href=#修改vscode-docker容器内终端没有颜色>修改vscode docker容器内终端没有颜色</a></li><li><a href=#install>install</a></li></ul></li><li><a href=#cmake>Cmake</a><ul><li><a href=#basic>basic</a><ul><li><a href=#基本内置宏变量>基本内置宏变量</a></li><li><a href=#常用文件结构>常用文件结构</a></li><li><a href=#command>command</a></li></ul></li><li><a href=#案例>案例</a></li><li><a href=#动态库和静态库>动态库和静态库</a><ul><li><a href=#静态库>静态库</a></li><li><a href=#动态库>动态库</a></li></ul></li><li><a href=#场景>场景</a><ul><li><a href=#debug宏定义>debug宏定义</a></li><li><a href=#vscode-c-cmake-debug>vscode C++ cmake debug</a></li></ul></li><li><a href=#参考-2>参考</a></li><li><a href=#install-1>install</a></li></ul></li><li><a href=#latex>Latex</a><ul><li><a href=#latex-in-vscode>latex in vscode</a></li></ul></li><li><a href=#hugo>Hugo</a><ul><li><ul><li><a href=#参考-3>参考</a></li></ul></li></ul></li><li><a href=#代理>代理</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=wsl>WSL
<a class=anchor href=#wsl>#</a></h1><h2 id=cmd>cmd
<a class=anchor href=#cmd>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wsl -l -v
</span></span><span style=display:flex><span>wsl --shutdown	<span style=color:#75715e>#关闭</span>
</span></span><span style=display:flex><span>wsl --list --verbose <span style=color:#75715e># 查看已安装的发行版、WSL 版本信息和当前状态</span>
</span></span><span style=display:flex><span>wsl --set-default &lt;DistroName&gt; <span style=color:#75715e># 重新指定默认发行版</span>
</span></span><span style=display:flex><span>wsl --export Ubuntu-22.04 e:<span style=color:#ae81ff>\U</span>buntu-22.04.tar#导出
</span></span><span style=display:flex><span>wsl --unregister Ubuntu-22.04 <span style=color:#75715e>#注销并卸载</span>
</span></span><span style=display:flex><span>wsl --import Ubuntu-22.04 E:<span style=color:#ae81ff>\u</span>buntu2204 E:<span style=color:#ae81ff>\U</span>buntu-22.04.tar#导入
</span></span><span style=display:flex><span>wsl --set-default &lt;DistroName&gt; <span style=color:#75715e># 重新指定默认发行版</span>
</span></span></code></pre></div><h2 id=环境配置>环境配置
<a class=anchor href=#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae>#</a></h2><ul><li>windows 设置打开： <strong>适用于 Linux 的 Windows 子系统</strong> 和 <strong>虚拟机平台</strong></li></ul><p><img src=/image-20240915093843416.png alt=image-20240915093843416></p><p><img src=/image-20240915093856560.png alt=image-20240915093856560></p><ul><li><p>Linux 内核更新包：https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi</p></li><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wsl --list --verbose <span style=color:#75715e># 查看已安装的发行版、WSL 版本信息和当前状态</span>
</span></span><span style=display:flex><span>wsl --set-default &lt;DistroName&gt; <span style=color:#75715e># 重新指定默认发行版</span>
</span></span></code></pre></div></li></ul><p><a href=https://www.sysgeek.cn/install-wsl-2-windows/>Windows 11：WSL 2 安装和管理指南，3 种方法任你选 - 系统极客 (sysgeek.cn)</a></p><p><a href=https://blog.csdn.net/cn_ljr/article/details/132047516>Win11 安装 Docker Desktop 和 WSL2 并进行安装位置迁移_windows 11 wsl 修改安装位置-CSDN 博客</a></p><h2 id=常见问题>常见问题
<a class=anchor href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98>#</a></h2><h3 id=vmmemwsl-占用-cpu-或内存资源过高>VmmemWSL 占用 CPU 或内存资源过高
<a class=anchor href=#vmmemwsl-%e5%8d%a0%e7%94%a8-cpu-%e6%88%96%e5%86%85%e5%ad%98%e8%b5%84%e6%ba%90%e8%bf%87%e9%ab%98>#</a></h3><p><a href=https://blog.csdn.net/Power_Blogger/article/details/128158694>Vmmem 进程(WSL)占用 CPU 或内存资源过高的解决办法-CSDN 博客</a></p><h3 id=代理问题>代理问题
<a class=anchor href=#%e4%bb%a3%e7%90%86%e9%97%ae%e9%a2%98>#</a></h3><p><a href=https://blog.variantconst.com/posts/wsl2-clash/>WSL2 如何解决 clash 代理问题 - VariantConst</a></p><h1 id=cc>C/C++
<a class=anchor href=#cc>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install build-essential
</span></span><span style=display:flex><span>sudo apt -y install gcc g++ gdb
</span></span></code></pre></div><h1 id=conda>conda
<a class=anchor href=#conda>#</a></h1><h2 id=基本命令>基本命令
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e5%91%bd%e4%bb%a4>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda create --name myenv python<span style=color:#f92672>=</span>3.8
</span></span><span style=display:flex><span>conda activate myenv
</span></span><span style=display:flex><span>conda deactivate
</span></span><span style=display:flex><span>conda list	<span style=color:#75715e>#命令来查看当前环境中安装的包。</span>
</span></span><span style=display:flex><span>conda env remove --name myenv	<span style=color:#75715e>#删除</span>
</span></span><span style=display:flex><span>conda info --envs	<span style=color:#75715e>#查找所有虚拟环</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda install <span style=color:#f92672>[</span>package-name<span style=color:#f92672>]</span>        <span style=color:#75715e># 安装名为[package-name]的包</span>
</span></span><span style=display:flex><span>conda install <span style=color:#f92672>[</span>package-name<span style=color:#f92672>]=</span>X.X    <span style=color:#75715e># 安装名为[package-name]的包并指定版本X.X</span>
</span></span><span style=display:flex><span>conda update <span style=color:#f92672>[</span>package-name<span style=color:#f92672>]</span>         <span style=color:#75715e># 更新名为[package-name]的包</span>
</span></span><span style=display:flex><span>conda remove <span style=color:#f92672>[</span>package-name<span style=color:#f92672>]</span>         <span style=color:#75715e># 删除名为[package-name]的包</span>
</span></span><span style=display:flex><span>conda list                          <span style=color:#75715e># 列出当前环境下已安装的所有包</span>
</span></span><span style=display:flex><span>conda search <span style=color:#f92672>[</span>package-name<span style=color:#f92672>]</span>         <span style=color:#75715e># 列出名为[package-name]的包在conda源中的所有可用版本</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda create --name <span style=color:#f92672>[</span>env-name<span style=color:#f92672>]</span>      <span style=color:#75715e># 建立名为[env-name]的Conda虚拟环境</span>
</span></span><span style=display:flex><span>conda activate <span style=color:#f92672>[</span>env-name<span style=color:#f92672>]</span>           <span style=color:#75715e># 进入名为[env-name]的Conda虚拟环境</span>
</span></span><span style=display:flex><span>conda deactivate                    <span style=color:#75715e># 退出当前的Conda虚拟环境</span>
</span></span><span style=display:flex><span>conda env remove --name <span style=color:#f92672>[</span>env-name<span style=color:#f92672>]</span>  <span style=color:#75715e># 删除名为[env-name]的Conda虚拟环境</span>
</span></span><span style=display:flex><span>conda env list                      <span style=color:#75715e># 列出所有Conda虚拟环境</span>
</span></span></code></pre></div><h2 id=环境配置-1>环境配置
<a class=anchor href=#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae-1>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://repo.anaconda.com/miniconda/Miniconda3-py38_23.5.2-0-Linux-x86_64.sh
</span></span><span style=display:flex><span>bash Miniconda3-py38_23.5.2-0-Linux-x86_64.sh
</span></span></code></pre></div><p>安装以后要重启才能生效！</p><h2 id=常见问题-1>常见问题
<a class=anchor href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98-1>#</a></h2><ul><li><p>安装以后要重启才能生效！</p></li><li><p>pycharm 无法添加 conda 环境时无法找到对应环境的 python.exe 文件
<img src=C:%5cUsers%5cPxmmmm.DESKTOP-G18CTQU%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20240905112153852.png alt=image-20240905112153852></p></li></ul><blockquote><p>Conda Executable 是 conda 的执行文件，不是填环境的 python 解释器 0.0</p><p>看错两次了</p></blockquote><h1 id=cuda-驱动cuda-toolkit-cudnn>cuda 驱动，cuda-toolkit, cudnn
<a class=anchor href=#cuda-%e9%a9%b1%e5%8a%a8cuda-toolkit-cudnn>#</a></h1><h2 id=环境配置-2>环境配置
<a class=anchor href=#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae-2>#</a></h2><p><a href=https://blog.csdn.net/iwanvan/article/details/122119595>Windows 11/10 WSL2 Ubuntu 20.04 下配置 Cuda 及 Pytorch_win11 的 cuda 和 ubuntu 对比-CSDN 博客</a></p><h3 id=安装-wsl-cuda-驱动>安装 WSL Cuda 驱动
<a class=anchor href=#%e5%ae%89%e8%a3%85-wsl-cuda-%e9%a9%b1%e5%8a%a8>#</a></h3><h3 id=cudatoolkit>cudatoolkit
<a class=anchor href=#cudatoolkit>#</a></h3><p><a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64">CUDA Toolkit 12.6 Update 1 Downloads | NVIDIA Developer</a></p><p><img src=C:%5cUsers%5cPxmmmm%5cAppData%5cRoaming%5cTypora%5ctypora-user-images%5cimage-20240910154615669.png alt=image-20240910154615669></p><h3 id=cudnn>cudnn
<a class=anchor href=#cudnn>#</a></h3><p><a href=https://developer.nvidia.com/rdp/cudnn-archive>cuDNN Archive | NVIDIA Developer</a></p><h2 id=重装>重装
<a class=anchor href=#%e9%87%8d%e8%a3%85>#</a></h2><p><a href=https://zhuanlan.zhihu.com/p/520536351>CUDA 的正确安装/升级/重装/使用方式 - 知乎 (zhihu.com)</a></p><h1 id=pytorch-dgl-pyg>pytorch, dgl, PyG
<a class=anchor href=#pytorch-dgl-pyg>#</a></h1><p><a href=https://pytorch.org/>PyTorch</a></p><p><a href=https://www.dgl.ai/pages/start.html>Deep Graph Library (dgl.ai)</a></p><p><a href=https://pytorch-geometric.readthedocs.io/en/latest/notes/installation.html>PyG</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda install pytorch torchvision torchaudio pytorch-cuda<span style=color:#f92672>=</span>12.4 -c pytorch -c nvidia
</span></span><span style=display:flex><span>conda install -c dglteam/label/th24_cu124 dgl
</span></span><span style=display:flex><span>conda install pyg -c pyg
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#test</span>
</span></span><span style=display:flex><span>python <span style=color:#f92672>-</span>c <span style=color:#e6db74>&#34;import torch; print(torch.cuda.is_available())&#34;</span>
</span></span><span style=display:flex><span>python <span style=color:#f92672>-</span>c <span style=color:#e6db74>&#34;import torch; print(torch.version.cuda)&#34;</span>
</span></span></code></pre></div><h1 id=docker>docker
<a class=anchor href=#docker>#</a></h1><h2 id=使用-dockerfile>使用 dockerfile
<a class=anchor href=#%e4%bd%bf%e7%94%a8-dockerfile>#</a></h2><h3 id=dockerfile>dockerfile
<a class=anchor href=#dockerfile>#</a></h3><p>Dockerfile 是一个文本文件，包含一系列指令来组装 [Docker 镜像](
<a href="https://so.csdn.net/so/search?q=Docker">https://so.csdn.net/so/search?q=Docker</a> 镜像&amp;spm=1001.2101.3001.7020)。每个指令执行一个特定动作，例如安装包、复制文件或定义启动命令。</p><p><img src=/image-20241116203451094.png alt=image-20241116203451094></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker pull ubuntu:20.04 <span style=color:#75715e>#下一个镜像</span>
</span></span><span style=display:flex><span>docker run --rm ubuntu:22.04 nproc#安装，并查看cpu核心数
</span></span><span style=display:flex><span>docker run -it ubuntu:22.04 bash <span style=color:#75715e>#进入交互模式,这种情况在能用、</span>
</span></span><span style=display:flex><span>docker run -it --name my_centos7 -v /path/on/host:/path/in/container centos:7#如果需要将数据保存到宿主机上，可以挂载一个目录， 同时指定名字， 注意exit退出容器后容器还会存在，使用docker ps -a 才能看到
</span></span><span style=display:flex><span>docker start &lt;container_name&gt; <span style=color:#75715e>#重新启动暂停的容器</span>
</span></span><span style=display:flex><span>docker exec -it &lt;container_name&gt; bash <span style=color:#75715e>#重新进入容器</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>apt install, 注意update
</span></span><span style=display:flex><span>docker ps <span style=color:#75715e>#查看运行的容器</span>
</span></span><span style=display:flex><span>docker ps -a#查看运行的容器,包括暂停的
</span></span><span style=display:flex><span><span style=color:#75715e>#docker下 的gui显示也可以安装通过设置DISPLAY环境变量来处理</span>
</span></span><span style=display:flex><span>docker commit &lt;容器ID或名称&gt; &lt;镜像名称&gt;:&lt;标签&gt; <span style=color:#75715e>#保存容器为镜像</span>
</span></span><span style=display:flex><span>docker images <span style=color:#75715e>#查看保存的镜像</span>
</span></span><span style=display:flex><span>docker rm &lt;container_name&gt;#删除容器
</span></span><span style=display:flex><span>docker rmi -f &lt;镜像ID或名称&gt; <span style=color:#75715e>#删除镜像</span>
</span></span><span style=display:flex><span>docker exec -it my_container bash <span style=color:#75715e>#对同一个docker容器开启多个终端</span>
</span></span><span style=display:flex><span>docker run -v &lt;主机目录&gt;:&lt;镜像目录&gt; -it &lt;镜像名称&gt;:&lt;标签&gt; bash <span style=color:#75715e>#挂载</span>
</span></span></code></pre></div><h2 id=container-内的c项目debug>container 内的C++项目debug
<a class=anchor href=#container-%e5%86%85%e7%9a%84c%e9%a1%b9%e7%9b%aedebug>#</a></h2><p>linux下vscode支持的调试器为gdb</p><ol><li><p>安装vs code 插件： Dev Container</p></li><li><p>安装gdb:<code>apt-get install build-essential gdb</code></p></li><li><p>运行：Attach to Running Container</p><p><img src=/image-20241125165934766.png alt=image-20241125165934766></p></li><li><p>在vscode中打开工程目录，并添加launch文件</p></li><li><p>用g++或者用task.json生成binary可执行文件，注意编译的时候<strong>加上-g</strong>，-g意思就是编译出带调试信息的可执行文件，如果少了这个-g，生成的可执行文件就不能够调试了</p></li><li><p>然后点三角形就行。</p></li></ol><h4 id=参考>参考
<a class=anchor href=#%e5%8f%82%e8%80%83>#</a></h4><ul><li><a href=https://blog.csdn.net/xianxjm/article/details/112250699>VSCode调试docker中的程序(C++) 和离线安装VSCode插件的方法_vs code docker插件dev container下载-CSDN博客</a></li><li>launch.json官方教程https://go.microsoft.com/fwlink/?linkid=830387</li><li>launch.json教程
<a href=https://blog.csdn.net/qq_59084325/article/details/125662393>VScode 调试教程 tasks.json和launch.json的设置（超详细）-CSDN博客</a></li><li></li></ul><h2 id=centos-容器无法联网问题>centos 容器无法联网问题
<a class=anchor href=#centos-%e5%ae%b9%e5%99%a8%e6%97%a0%e6%b3%95%e8%81%94%e7%bd%91%e9%97%ae%e9%a2%98>#</a></h2><blockquote><p>Could not retrieve mirrorlist
<a href="http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=container">http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=container</a> error was
14: curl#6 - &ldquo;Could not resolve host: mirrorlist.centos.org; Unknown error&rdquo;</p></blockquote><pre tabindex=0><code>#还是不行。。。
</code></pre><h2 id=修改vscode-docker容器内终端没有颜色>修改vscode docker容器内终端没有颜色
<a class=anchor href=#%e4%bf%ae%e6%94%b9vscode-docker%e5%ae%b9%e5%99%a8%e5%86%85%e7%bb%88%e7%ab%af%e6%b2%a1%e6%9c%89%e9%a2%9c%e8%89%b2>#</a></h2><p><img src=/image-20241130203639869.png alt=image-20241130203639869></p><p><a href=https://blog.csdn.net/weixin_45277161/article/details/130883635>自定义优化VsCode终端样式（提示高亮）_vscode终端颜色设置-CSDN博客</a></p><h2 id=install>install
<a class=anchor href=#install>#</a></h2><p><a href=https://blog.csdn.net/breakaway_01/article/details/141285685>Ubuntu 安装 Docker_ubuntu 重新安装 docker-CSDN 博客</a></p><h1 id=cmake>Cmake
<a class=anchor href=#cmake>#</a></h1><h2 id=basic>basic
<a class=anchor href=#basic>#</a></h2><h3 id=基本内置宏变量>基本内置宏变量
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e5%86%85%e7%bd%ae%e5%ae%8f%e5%8f%98%e9%87%8f>#</a></h3><ul><li>PROJECT_SOURCE_DIR 使用cmake命令后紧跟的目录，一般是工程的根目录</li><li>PROJECT_BINARY_DIR 执行cmake命令的目录</li><li>CMAKE_CURRENT_SOURCE_DIR 当前处理的CMakeLists.txt所在的路径</li><li>CMAKE_CURRENT_BINARY_DIR target 编译目录</li><li>EXECUTABLE_OUTPUT_PATH 重新定义目标二进制可执行文件的存放位置</li><li>LIBRARY_OUTPUT_PATH 重新定义目标链接库文件的存放位置</li><li>PROJECT_NAME 返回通过PROJECT指令定义的项目名称</li><li>CMAKE_BINARY_DIR 项目实际构建路径，假设在build目录进行的构建，那么得到的就是这个目录的路径</li></ul><h3 id=常用文件结构>常用文件结构
<a class=anchor href=#%e5%b8%b8%e7%94%a8%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84>#</a></h3><ul><li><strong>inc</strong>目录下存放头文件</li><li><strong>src</strong>目录下存放源文件</li><li><strong>lib</strong>目录下存放生成的库</li><li><strong>bin</strong>目录下存放可执行文件</li><li><strong>build</strong>目录下存放构建项目相关的文件</li></ul><h3 id=command>command
<a class=anchor href=#command>#</a></h3><p>include_directories(headpath)</p><p>add_executable(app ${SRC_LIST})</p><h2 id=案例>案例
<a class=anchor href=#%e6%a1%88%e4%be%8b>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>|-- CMakeLists.txt
</span></span><span style=display:flex><span>|-- bin
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- binary
</span></span><span style=display:flex><span>|-- build
</span></span><span style=display:flex><span>|   |-- CMakeCache.txt
</span></span><span style=display:flex><span>|   |-- CMakeFiles
</span></span><span style=display:flex><span>|   |   |-- 3.27.0
</span></span><span style=display:flex><span>|   |   |-- CMakeConfigureLog.yaml
</span></span><span style=display:flex><span>|   |   |-- CMakeDirectoryInformation.cmake
</span></span><span style=display:flex><span>|   |   |-- CMakeScratch
</span></span><span style=display:flex><span>|   |   |-- Makefile.cmake
</span></span><span style=display:flex><span>|   |   |-- Makefile2
</span></span><span style=display:flex><span>|   |   |-- TargetDirectories.txt
</span></span><span style=display:flex><span>|   |   |-- binary.dir
</span></span><span style=display:flex><span>|   |   |-- cmake.check_cache
</span></span><span style=display:flex><span>|   |   |-- pkgRedirects
</span></span><span style=display:flex><span>|   |   |-- progress.marks
</span></span><span style=display:flex><span>|   |   <span style=color:#e6db74>`</span>-- src_dyn_lib_so.dir
</span></span><span style=display:flex><span>|   |-- Makefile
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- cmake_install.cmake
</span></span><span style=display:flex><span>|-- lib
</span></span><span style=display:flex><span>|   |-- libsrc_dyn_lib_so.so
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- libsrc_sta_lib_a.a
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>-- src
</span></span><span style=display:flex><span>    |-- db
</span></span><span style=display:flex><span>    |   |-- func.cpp
</span></span><span style=display:flex><span>    |   <span style=color:#e6db74>`</span>-- func.h
</span></span><span style=display:flex><span>    |-- main.cpp
</span></span><span style=display:flex><span>    |-- network
</span></span><span style=display:flex><span>    |-- test
</span></span><span style=display:flex><span>    <span style=color:#e6db74>`</span>-- utils
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>message(<span style=color:#e6db74>&#34;run cmake...&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 设置二进制文件的名称
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>BINARY_NAME</span> <span style=color:#e6db74>&#34;binary&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>PROJECT_DIR</span> <span style=color:#e6db74>&#34;/root/cmake_test&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>BIN_DIR</span> <span style=color:#e6db74>&#34;${PROJECT_DIR}/bin&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>SRC_DIR</span> <span style=color:#e6db74>&#34;${PROJECT_DIR}/src&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>LIB_DIR</span> <span style=color:#e6db74>&#34;${PROJECT_DIR}/lib&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># set(LIBRARY_OUTPUT_DIRECTORY ${LIB_DIR})           # 动态库(.so) 输出路径
</span></span></span><span style=display:flex><span><span style=color:#75715e># set(ARCHIVE_OUTPUT_DIRECTORY ${LIB_DIR})           # 静态库(.a) 输出路径
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>EXECUTABLE_OUTPUT_PATH</span> <span style=color:#f92672>${</span>BIN_DIR<span style=color:#f92672>}</span>)              <span style=color:#75715e>#设置可执行文件位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 设置CMake的最低版本
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>cmake_minimum_required(<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>3.10</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 项目名称
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>project(<span style=color:#e6db74>MyProject</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 设置C++标准
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>CMAKE_CXX_STANDARD</span> <span style=color:#e6db74>11</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 获取所有子目录下的源文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>file(<span style=color:#e6db74>GLOB_RECURSE</span> <span style=color:#e6db74>SOURCES</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/db/*.cpp&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/network/*.cpp&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/utils/*.cpp&#34;</span> 
</span></span><span style=display:flex><span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 获取所有头文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>file(<span style=color:#e6db74>GLOB_RECURSE</span> <span style=color:#e6db74>HEADERS</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/db/*.h&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/network/*.h&#34;</span> 
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;${SRC_DIR}/utils/*.h&#34;</span>
</span></span><span style=display:flex><span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#静态库和动态库
</span></span></span><span style=display:flex><span><span style=color:#75715e># add_library(src_sta_lib_a STATIC ${SOURCES})
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>add_library(<span style=color:#e6db74>src_dyn_lib_so</span> <span style=color:#e6db74>SHARED</span> <span style=color:#f92672>${</span>SOURCES<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># set_target_properties(src_sta_lib_a PROPERTIES ARCHIVE_OUTPUT_DIRECTORY ${LIB_DIR})# 静态库(.a) 输出路径
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set_target_properties(<span style=color:#e6db74>src_dyn_lib_so</span> <span style=color:#e6db74>PROPERTIES</span> <span style=color:#e6db74>LIBRARY_OUTPUT_DIRECTORY</span> <span style=color:#f92672>${</span>LIB_DIR<span style=color:#f92672>}</span>)<span style=color:#75715e># 动态库(.so) 输出路径
</span></span></span><span style=display:flex><span><span style=color:#75715e># link_directories(${LIB_DIR})# 通过命令指定出要链接的动态库的位置，指定静态库位置使用的也是这个命令 #如果该静态库不是系统提供的（自己制作或者使用第三方提供的静态库）可能出现静态库找不到的情况，此时可以将静态库的路径也指定出来
</span></span></span><span style=display:flex><span><span style=color:#75715e># link_libraries(src_sta_lib_a)# 链接静态库 #用于设置全局链接库，这些库会链接到之后定义的所有目标上 #可以是全名 libxxx.a #也可以是掐头（lib）去尾（.a）之后的名字 xxx
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 创建可执行文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>add_executable(<span style=color:#f92672>${</span>BINARY_NAME<span style=color:#f92672>}</span> <span style=color:#f92672>${</span>SRC_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/main.cpp</span> <span style=color:#f92672>${</span>SOURCES<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#链接动态库
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>target_link_libraries(<span style=color:#f92672>${</span>BINARY_NAME<span style=color:#f92672>}</span> <span style=color:#e6db74>src_dyn_lib_so</span>)<span style=color:#75715e>#用于指定一个目标（如可执行文件或库）在编译时需要链接哪些库#支持指定库的名称、路径以及链接库的顺序。#动态库的链接具有传递性
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># 设置头文件目录
</span></span></span><span style=display:flex><span><span style=color:#75715e># 必须放到add_executable后面 add
</span></span></span><span style=display:flex><span><span style=color:#75715e># 指定包含目录，以便编译器在编译源文件时能够找到所需的头文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>target_include_directories(<span style=color:#f92672>${</span>BINARY_NAME<span style=color:#f92672>}</span> <span style=color:#e6db74>PRIVATE</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>SRC_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/db</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>SRC_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/network</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>SRC_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/utils</span>
</span></span><span style=display:flex><span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_BUILD_TYPE</span> <span style=color:#e6db74>&#34;Debug&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># set(CMAKE_CXX_FLAGS &#34;${CMAKE_CXX_FLAGS} -Wall   -O3 -march=native&#34;)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>message(<span style=color:#e6db74>&#34;cmake done...&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h2 id=动态库和静态库>动态库和静态库
<a class=anchor href=#%e5%8a%a8%e6%80%81%e5%ba%93%e5%92%8c%e9%9d%99%e6%80%81%e5%ba%93>#</a></h2><p>有些时候我们编写的源代码并不需要将他们编译生成可执行程序，而是生成一些静态库或动态库提供给第三方使用，下面来讲解在cmake中生成这两类库文件的方法。</p><h3 id=静态库>静态库
<a class=anchor href=#%e9%9d%99%e6%80%81%e5%ba%93>#</a></h3><p>.a</p><p>静态库会在生成可执行程序的链接阶段被打包到可执行程序中，所以可执行程序启动，静态库就被加载到内存中了。cmake中指定要链接的动态库的时候，应该将命令写到生成了可执行文件之后</p><p><code>add_library(库名称 STATIC 源文件1 [源文件2] ...)</code></p><blockquote><p>add_library(calc STATIC ${SRC_LIST})</p><p>这样最终就会生成对应的静态库文件libcalc.a。</p></blockquote><h3 id=动态库>动态库
<a class=anchor href=#%e5%8a%a8%e6%80%81%e5%ba%93>#</a></h3><p>.so</p><p>动态库在生成可执行程序的链接阶段不会被打包到可执行程序中，当可执行程序被启动并且调用了动态库中的函数的时候，动态库才会被加载到内存</p><blockquote><p>add_library(calc SHARED ${SRC_LIST})</p><p>这样最终就会生成对应的动态库文件libcalc.so。</p></blockquote><p>动态库的链接具有传递性，如果动态库 A 链接了动态库B、C，动态库D链接了动态库A，此时动态库D相当于也链接了动态库B、C，并可以使用动态库B、C中定义的方法</p><p><code>add_library(库名称 SHARED 源文件1 [源文件2] ...)</code></p><blockquote><p>target_link_libraries(A B C)
target_link_libraries(D A)</p></blockquote><h2 id=场景>场景
<a class=anchor href=#%e5%9c%ba%e6%99%af>#</a></h2><h3 id=debug宏定义>debug宏定义
<a class=anchor href=#debug%e5%ae%8f%e5%ae%9a%e4%b9%89>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define NUMBER  3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef DEBUG
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    printf(<span style=color:#e6db74>&#34;我是一个程序猿, 我不会爬树...</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; i<span style=color:#f92672>&lt;</span>NUMBER; <span style=color:#f92672>++</span>i)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        printf(<span style=color:#e6db74>&#34;hello, GCC!!!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>在测试的时候去把它定义出来，其中一种方式就是在gcc/g++命令中去指定，如下：<code> gcc test.c -DDEBUG -o app</code>
在gcc/g++命令中通过参数 -D指定出要定义的宏的名字，这样就相当于在代码中定义了一个宏，其名字为DEBUG。</p><p>在CMake中我们也可以做类似的事情，对应的命令叫做<strong>add_definitions</strong></p><p><code>add_definitions(-D宏名称)</code></p><h3 id=vscode-c-cmake-debug>vscode C++ cmake debug
<a class=anchor href=#vscode-c-cmake-debug>#</a></h3><p>目录结构</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>|-- LICENSE
</span></span><span style=display:flex><span>|-- README.md
</span></span><span style=display:flex><span>|-- build
</span></span><span style=display:flex><span>|   |-- CMakeCache.txt
</span></span><span style=display:flex><span>|   |-- CMakeFiles
</span></span><span style=display:flex><span>|   |-- Makefile
</span></span><span style=display:flex><span>|   |-- POST9.dat
</span></span><span style=display:flex><span>|   |-- POWV9.dat
</span></span><span style=display:flex><span>|   |-- cmake_install.cmake
</span></span><span style=display:flex><span>|   |-- compile_commands.json
</span></span><span style=display:flex><span>|   |-- debug.guide
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- iccad19gr
</span></span><span style=display:flex><span>|-- data
</span></span><span style=display:flex><span>|-- drcu
</span></span><span style=display:flex><span>|-- ispd18eval
</span></span><span style=display:flex><span>|   |-- README
</span></span><span style=display:flex><span>|   |-- ispd18eval.sh
</span></span><span style=display:flex><span>|   |-- ispd18eval.tcl
</span></span><span style=display:flex><span>|   |-- ispd18eval.w
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- ispd18eval_bin
</span></span><span style=display:flex><span>|-- ispd19eval
</span></span><span style=display:flex><span>|   |-- README
</span></span><span style=display:flex><span>|   |-- ispd19eval.sh
</span></span><span style=display:flex><span>|   |-- ispd19eval.tcl
</span></span><span style=display:flex><span>|   |-- ispd19eval.w
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- ispd19eval_bin
</span></span><span style=display:flex><span>|-- lib
</span></span><span style=display:flex><span>|-- mybenchmarks
</span></span><span style=display:flex><span>|   |-- aes_cipher_top
</span></span><span style=display:flex><span>|   |-- ispd18_test1
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- ispd19_test3
</span></span><span style=display:flex><span>|-- myoutput
</span></span><span style=display:flex><span>|   |-- flow.log
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- ispd18_test1
</span></span><span style=display:flex><span>|-- rsyn
</span></span><span style=display:flex><span>|   |-- LICENSE
</span></span><span style=display:flex><span>|   |-- README.md
</span></span><span style=display:flex><span>|   |-- include
</span></span><span style=display:flex><span>|   |-- lib
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- src
</span></span><span style=display:flex><span>|-- run
</span></span><span style=display:flex><span>|   |-- POST9.dat
</span></span><span style=display:flex><span>|   |-- POWV9.dat
</span></span><span style=display:flex><span>|   |-- __pycache__
</span></span><span style=display:flex><span>|   |-- build.py
</span></span><span style=display:flex><span>|   |-- debug.sh
</span></span><span style=display:flex><span>|   |-- drcu
</span></span><span style=display:flex><span>|   |-- flow.py
</span></span><span style=display:flex><span>|   |-- gprof2dot.py
</span></span><span style=display:flex><span>|   |-- iccad19gr
</span></span><span style=display:flex><span>|   |-- ispd18eval
</span></span><span style=display:flex><span>|   |-- ispd19eval
</span></span><span style=display:flex><span>|   |-- lefRWarning.log
</span></span><span style=display:flex><span>|   |-- rebuilt.sh
</span></span><span style=display:flex><span>|   |-- run.py
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- run_base.py
</span></span><span style=display:flex><span>|-- scripts
</span></span><span style=display:flex><span>|   |-- build.py
</span></span><span style=display:flex><span>|   |-- gprof2dot.py
</span></span><span style=display:flex><span>|   |-- run.py
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- run_base.py
</span></span><span style=display:flex><span>|-- src
</span></span><span style=display:flex><span>|   |-- CMakeLists.txt
</span></span><span style=display:flex><span>|   |-- db
</span></span><span style=display:flex><span>|   |-- flute
</span></span><span style=display:flex><span>|   |-- global.h
</span></span><span style=display:flex><span>|   |-- gr_db
</span></span><span style=display:flex><span>|   |-- main.cpp
</span></span><span style=display:flex><span>|   |-- multi_net
</span></span><span style=display:flex><span>|   |-- single_net
</span></span><span style=display:flex><span>|   <span style=color:#e6db74>`</span>-- utils
</span></span><span style=display:flex><span><span style=color:#e6db74>`</span>-- test.sh
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#75715e>#########
</span></span></span><span style=display:flex><span><span style=color:#75715e># Setup #
</span></span></span><span style=display:flex><span><span style=color:#75715e>#########
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Specify the minimum version for CMake
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>cmake_minimum_required(<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>2.8</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Message
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>message(<span style=color:#e6db74>STATUS</span> <span style=color:#e6db74>&#34;ICCAD19 GR CUHK&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>message(<span style=color:#e6db74>STATUS</span> <span style=color:#f92672>${</span>CMAKE_CURRENT_SOURCE_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>message(<span style=color:#e6db74>STATUS</span> <span style=color:#f92672>${</span>PROJECT_SOURCE_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Find includes in the build directories
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>CMAKE_INCLUDE_CURRENT_DIR</span> <span style=color:#e6db74>ON</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Project&#39;s name
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>project(<span style=color:#e6db74>iccad19gr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Set the output folder where your program will be created
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>EXECUTABLE_OUTPUT_PATH</span> <span style=color:#f92672>${</span>CMAKE_BINARY_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>LIBRARY_OUTPUT_PATH</span> <span style=color:#f92672>${</span>CMAKE_BINARY_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_CXX_STANDARD</span> <span style=color:#e6db74>14</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>PATH_RSYN</span> <span style=color:#f92672>${</span>CMAKE_CURRENT_SOURCE_DIR<span style=color:#f92672>}</span><span style=color:#e6db74>/../rsyn</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>PATH_ICCAD19</span> <span style=color:#f92672>${</span>CMAKE_CURRENT_SOURCE_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>###################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Warnings/Errors #
</span></span></span><span style=display:flex><span><span style=color:#75715e>###################
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>CMAKE_CXX_FLAGS</span>  <span style=color:#e6db74>&#34;${CMAKE_CXX_FLAGS} -Werror=return-type&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>######################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Check Dependencies #
</span></span></span><span style=display:flex><span><span style=color:#75715e>######################
</span></span></span><span style=display:flex><span><span style=color:#75715e># uncommment this line if you are using self-compiled boost lib
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set(<span style=color:#e6db74>Boost_USE_STATIC_LIBS</span> <span style=color:#e6db74>ON</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>find_package(<span style=color:#e6db74>Boost</span> <span style=color:#e6db74>COMPONENTS</span> <span style=color:#e6db74>system</span> <span style=color:#e6db74>filesystem</span> <span style=color:#e6db74>program_options</span> <span style=color:#e6db74>REQUIRED</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># find_package(Threads)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>###############
</span></span></span><span style=display:flex><span><span style=color:#75715e># Source Code #
</span></span></span><span style=display:flex><span><span style=color:#75715e>###############
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>file(<span style=color:#e6db74>GLOB_RECURSE</span> <span style=color:#e6db74>SRC_FILES_RSYN</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/src/*.cpp</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/src/*.cc</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/src/*.c</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>file(<span style=color:#e6db74>GLOB_RECURSE</span> <span style=color:#e6db74>SRC_FILES_ICCAD19</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>PATH_ICCAD19<span style=color:#f92672>}</span><span style=color:#e6db74>/*.cpp</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>${</span>PATH_ICCAD19<span style=color:#f92672>}</span><span style=color:#e6db74>/*.c</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>set(<span style=color:#e6db74>SRC_FILES</span> <span style=color:#f92672>${</span>SRC_FILES_RSYN<span style=color:#f92672>}</span> <span style=color:#f92672>${</span>SRC_FILES_ICCAD19<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Library Paths #
</span></span></span><span style=display:flex><span><span style=color:#75715e>#################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Need to come before target is created.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>if(<span style=color:#f92672>${</span>CMAKE_SYSTEM_NAME<span style=color:#f92672>}</span> <span style=color:#e6db74>MATCHES</span> <span style=color:#e6db74>&#34;Linux&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>link_directories(<span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/lib/linux</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>endif()<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>if(<span style=color:#f92672>${</span>CMAKE_SYSTEM_NAME<span style=color:#f92672>}</span> <span style=color:#e6db74>MATCHES</span> <span style=color:#e6db74>&#34;Darwin&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>link_directories(<span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/lib/macosx</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>endif()<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>###########
</span></span></span><span style=display:flex><span><span style=color:#75715e># Targets #
</span></span></span><span style=display:flex><span><span style=color:#75715e>###########
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>add_executable(<span style=color:#e6db74>iccad19gr</span> <span style=color:#f92672>${</span>SRC_FILES<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#######################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Include Directories #
</span></span></span><span style=display:flex><span><span style=color:#75715e>#######################
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>include_directories(<span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/src</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>include_directories(<span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/src/rsyn/export</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>include_directories(<span style=color:#f92672>${</span>PATH_RSYN<span style=color:#f92672>}</span><span style=color:#e6db74>/include</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>include_directories(<span style=color:#f92672>${</span>PATH_ICCAD19<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>#################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Linker Flags  #
</span></span></span><span style=display:flex><span><span style=color:#75715e>#################
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># TODO: set static under release mode only
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set_target_properties(<span style=color:#e6db74>iccad19gr</span> <span style=color:#e6db74>PROPERTIES</span> <span style=color:#e6db74>LINK_FLAGS</span> <span style=color:#e6db74>&#34;-static -Wl,--whole-archive -rdynamic -lpthread -Wl,--no-whole-archive&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># LEF/DEF
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>target_link_libraries(<span style=color:#e6db74>iccad19gr</span> <span style=color:#e6db74>lef</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>target_link_libraries(<span style=color:#e6db74>iccad19gr</span> <span style=color:#e6db74>def</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Boost
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>target_include_directories(<span style=color:#e6db74>iccad19gr</span> <span style=color:#e6db74>PUBLIC</span> <span style=color:#f92672>${</span>Boost_INCLUDE_DIR<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>target_link_libraries(<span style=color:#e6db74>iccad19gr</span> <span style=color:#f92672>${</span>Boost_LIBRARIES<span style=color:#f92672>}</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><blockquote><p>#进行debug编译</p><p>cmake src/ -B build <strong>-DCMAKE_BUILD_TYPE=Debug</strong></p></blockquote><blockquote><p>测试指令：</p><pre tabindex=0><code>cp run/PO* build/.
cd build
./iccad19gr -lef ../mybenchmarks/ispd18_test1/ispd18_test1.input.lef -def ../mybenchmarks/ispd18_test1/ispd18_test1.input.def -output debug.guide --thread 8
</code></pre></blockquote><p>c_cpp_properties.json</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;configurations&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Linux&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;includePath&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;/root/cu-gr/src/&#34;</span>
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;defines&#34;</span>: [],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;compilerPath&#34;</span>: <span style=color:#e6db74>&#34;/usr/bin/gcc&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;cStandard&#34;</span>: <span style=color:#e6db74>&#34;c17&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;cppStandard&#34;</span>: <span style=color:#e6db74>&#34;gnu++14&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;intelliSenseMode&#34;</span>: <span style=color:#e6db74>&#34;linux-gcc-x64&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;configurationProvider&#34;</span>: <span style=color:#e6db74>&#34;ms-vscode.cmake-tools&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>launch.json</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;configurations&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;(gdb) Launch&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;cppdbg&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;request&#34;</span>: <span style=color:#e6db74>&#34;launch&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;program&#34;</span>: <span style=color:#e6db74>&#34;/root/cu-gr/build/iccad19gr&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;args&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;stopAtEntry&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;cwd&#34;</span>: <span style=color:#e6db74>&#34;${workspaceFolder}&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;environment&#34;</span>: [],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;externalConsole&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;MIMode&#34;</span>: <span style=color:#e6db74>&#34;gdb&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;setupCommands&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Enable pretty-printing for gdb&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;text&#34;</span>: <span style=color:#e6db74>&#34;-enable-pretty-printing&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;ignoreFailures&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Set Disassembly Flavor to Intel&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;text&#34;</span>: <span style=color:#e6db74>&#34;-gdb-set disassembly-flavor intel&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;ignoreFailures&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>一个相关bug</strong></p><p><img src=/1733285535807.png alt=1733285535807></p><blockquote><p>apt-get install gdb</p></blockquote><h4 id=参考-1>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-1>#</a></h4><p><a href=https://blog.csdn.net/weixin_43731435/article/details/117789670>c++程序的 cmake编译+vscode来 debug 方法和步骤(ubuntu)_ubuntu c++ debug-CSDN博客</a></p><h2 id=参考-2>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-2>#</a></h2><p><a href=https://subingwen.cn/cmake/CMake-primer/#2-2-2-%e6%8c%87%e5%ae%9a%e4%bd%bf%e7%94%a8%e7%9a%84C-%e6%a0%87%e5%87%86>CMake 保姆级教程（上） | 爱编程的大丙</a></p><h2 id=install-1>install
<a class=anchor href=#install-1>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 以v3.25.1版本为例</span>
</span></span><span style=display:flex><span>git clone -b v3.25.1 https://github.com/Kitware/CMake.git 
</span></span><span style=display:flex><span>cd CMake
</span></span><span style=display:flex><span><span style=color:#75715e># 你使用`--prefix`来指定安装路径，或者去掉`--prefix`,安装在默认路径。</span>
</span></span><span style=display:flex><span>./bootstrap --prefix<span style=color:#f92672>=</span>&lt;安装路径&gt; <span style=color:#f92672>&amp;&amp;</span> make <span style=color:#f92672>&amp;&amp;</span> sudo make install
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 验证</span>
</span></span><span style=display:flex><span>cmake --version
</span></span></code></pre></div><h1 id=latex>Latex
<a class=anchor href=#latex>#</a></h1><h2 id=latex-in-vscode>latex in vscode
<a class=anchor href=#latex-in-vscode>#</a></h2><ul><li><a href=https://zhuanlan.zhihu.com/p/624932249>texlive2023+vscode安装与配置（简洁版） - 知乎</a></li><li><a href=https://zhuanlan.zhihu.com/p/166523064>Visual Studio Code (vscode)配置LaTeX - 知乎</a></li></ul><h1 id=hugo>Hugo
<a class=anchor href=#hugo>#</a></h1><h3 id=参考-3>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-3>#</a></h3><p><a href=https://krislinzhao.github.io/docs/create-a-wesite-using-github-pages-and-hugo/#9-reference>如何用 GitHub Pages + Hugo 搭建个人博客 · KrislinBlog</a></p><h1 id=代理>代理
<a class=anchor href=#%e4%bb%a3%e7%90%86>#</a></h1><p><a href=https://blog.csdn.net/qq_39316962/article/details/139927197>windows11 搭建 WSL2 运行环境（2024）-CSDN 博客</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/d7c6057f9423f417d2c652ed30fcb1424d3b5138 title='最后修改者 pxhg02 | 二月 20, 2025' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>二月 20, 2025</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content.zh/docs/Other/Tools.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>编辑本页</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#wsl>WSL</a><ul><li><a href=#cmd>cmd</a></li><li><a href=#环境配置>环境配置</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#vmmemwsl-占用-cpu-或内存资源过高>VmmemWSL 占用 CPU 或内存资源过高</a></li><li><a href=#代理问题>代理问题</a></li></ul></li></ul></li><li><a href=#cc>C/C++</a></li><li><a href=#conda>conda</a><ul><li><a href=#基本命令>基本命令</a></li><li><a href=#环境配置-1>环境配置</a></li><li><a href=#常见问题-1>常见问题</a></li></ul></li><li><a href=#cuda-驱动cuda-toolkit-cudnn>cuda 驱动，cuda-toolkit, cudnn</a><ul><li><a href=#环境配置-2>环境配置</a><ul><li><a href=#安装-wsl-cuda-驱动>安装 WSL Cuda 驱动</a></li><li><a href=#cudatoolkit>cudatoolkit</a></li><li><a href=#cudnn>cudnn</a></li></ul></li><li><a href=#重装>重装</a></li></ul></li><li><a href=#pytorch-dgl-pyg>pytorch, dgl, PyG</a></li><li><a href=#docker>docker</a><ul><li><a href=#使用-dockerfile>使用 dockerfile</a><ul><li><a href=#dockerfile>dockerfile</a></li></ul></li><li><a href=#container-内的c项目debug>container 内的C++项目debug</a><ul><li></li></ul></li><li><a href=#centos-容器无法联网问题>centos 容器无法联网问题</a></li><li><a href=#修改vscode-docker容器内终端没有颜色>修改vscode docker容器内终端没有颜色</a></li><li><a href=#install>install</a></li></ul></li><li><a href=#cmake>Cmake</a><ul><li><a href=#basic>basic</a><ul><li><a href=#基本内置宏变量>基本内置宏变量</a></li><li><a href=#常用文件结构>常用文件结构</a></li><li><a href=#command>command</a></li></ul></li><li><a href=#案例>案例</a></li><li><a href=#动态库和静态库>动态库和静态库</a><ul><li><a href=#静态库>静态库</a></li><li><a href=#动态库>动态库</a></li></ul></li><li><a href=#场景>场景</a><ul><li><a href=#debug宏定义>debug宏定义</a></li><li><a href=#vscode-c-cmake-debug>vscode C++ cmake debug</a></li></ul></li><li><a href=#参考-2>参考</a></li><li><a href=#install-1>install</a></li></ul></li><li><a href=#latex>Latex</a><ul><li><a href=#latex-in-vscode>latex in vscode</a></li></ul></li><li><a href=#hugo>Hugo</a><ul><li><ul><li><a href=#参考-3>参考</a></li></ul></li></ul></li><li><a href=#代理>代理</a></li></ul></nav></div></aside></main></body></html>