<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  AI 4 Science
  #


  

  

  

  数字集成电路后端设计整体流程
  #

在完成前端设计、逻辑综合和时序分析后，后端设计阶段开始

  

  
（1）布局规划（Floorplan）： 在布局规划阶段，设计团队确定芯片的大致布局，包括模块位置、互连和电源网络的布局。这个阶段的主要目标是确保设计满足所有功能需求和制造约束，同时优化芯片的性能和成本。
（2）宏块和标准单元布局（Placement）： 此阶段中，具体摆放包括宏模块和标准单元。算法将尝试在保持功能和电气性能的前提下，最小化连线长度和延迟，优化布局密度。
（3）时钟树合成（Clock Tree Synthesis，CTS）： 布局完成后，进行时钟树合成。CTS 的目的是构建一个时钟网络，以最小化芯片上不同部分之间的时钟偏差，并确保整个芯片的同步运行。
（4）布线（Routing）： 在 CTS 之后，进行布线阶段，此阶段建立电子连接，以实现设计中的所有逻辑互联。布线需要解决路径规划和信号完整性问题，确保信号在整个芯片上无干扰地传递。
（5）验证和测评： 最后，进行布局与布线后的验证工作，包括电路验证、时序分析和功耗分析等。

  

  

  

  Floorplanning（布图)
  #


确定核心和外围区域：定义芯片的核心逻辑区和外围接口区。

核心区域：这是用于放置 
  逻辑门、触发器等基础元件的区域。
外围区域：这里通常用于放置 I/O pads，电源和地引脚。


确定 IP Blocks 的位置：IP（Intellectual Property）模块的大致位置和尺寸。

硬宏（Hard Macros）：例如存储器、
  模数转换器（ADCs）等，通常有固定的大小和形状。
软宏（Soft Macros）：通常是可以重新合成的逻辑模块，如处理器核心、
  DSP 单元 等。


初步 Power Planning：设计初步的电源网格和地网。


  电源网格设计：创建电源和地网格来提供电流和参考电压。
电源环（Power Rings）：在芯片外围设计电源环，用于电源和地的分发。
电源铺垫（Power Pads）：确定用于外部电源连接的电源和地铺垫的位置。


I/O Planning：规划输入/输出引脚的位置。

引脚位置：根据接口要求（如 GPIO、DDR 接口等）确定 I/O 引脚的位置。
引脚电特性：确定每个 I/O 引脚的电性能需求，如驱动能力、接受阈值等。


设置约束：设置时序、面积和功耗的约束。（各种 view, block)


  时序约束：定义时钟域、时钟频率和时序要求。
面积约束：如果有面积限制，需要明确这一点。
功耗约束：设定功耗上限或优化目标。




  Placement（布局）
  #

设计的所有逻辑元件（例如标准单元、触发器、门等）和预定义的 IP 块（例如硬宏）被物理地放置在芯片的核心区域内"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://pxgh02.github.io/zh/docs/Digtal/flow/flow/"><meta property="og:site_name" content="Pxmmmm"><meta property="og:title" content="Flow"><meta property="og:description" content="AI 4 Science # 数字集成电路后端设计整体流程 # 在完成前端设计、逻辑综合和时序分析后，后端设计阶段开始
（1）布局规划（Floorplan）： 在布局规划阶段，设计团队确定芯片的大致布局，包括模块位置、互连和电源网络的布局。这个阶段的主要目标是确保设计满足所有功能需求和制造约束，同时优化芯片的性能和成本。
（2）宏块和标准单元布局（Placement）： 此阶段中，具体摆放包括宏模块和标准单元。算法将尝试在保持功能和电气性能的前提下，最小化连线长度和延迟，优化布局密度。
（3）时钟树合成（Clock Tree Synthesis，CTS）： 布局完成后，进行时钟树合成。CTS 的目的是构建一个时钟网络，以最小化芯片上不同部分之间的时钟偏差，并确保整个芯片的同步运行。
（4）布线（Routing）： 在 CTS 之后，进行布线阶段，此阶段建立电子连接，以实现设计中的所有逻辑互联。布线需要解决路径规划和信号完整性问题，确保信号在整个芯片上无干扰地传递。
（5）验证和测评： 最后，进行布局与布线后的验证工作，包括电路验证、时序分析和功耗分析等。
Floorplanning（布图) # 确定核心和外围区域：定义芯片的核心逻辑区和外围接口区。 核心区域：这是用于放置 逻辑门、触发器等基础元件的区域。 外围区域：这里通常用于放置 I/O pads，电源和地引脚。 确定 IP Blocks 的位置：IP（Intellectual Property）模块的大致位置和尺寸。 硬宏（Hard Macros）：例如存储器、 模数转换器（ADCs）等，通常有固定的大小和形状。 软宏（Soft Macros）：通常是可以重新合成的逻辑模块，如处理器核心、 DSP 单元 等。 初步 Power Planning：设计初步的电源网格和地网。 电源网格设计：创建电源和地网格来提供电流和参考电压。 电源环（Power Rings）：在芯片外围设计电源环，用于电源和地的分发。 电源铺垫（Power Pads）：确定用于外部电源连接的电源和地铺垫的位置。 I/O Planning：规划输入/输出引脚的位置。 引脚位置：根据接口要求（如 GPIO、DDR 接口等）确定 I/O 引脚的位置。 引脚电特性：确定每个 I/O 引脚的电性能需求，如驱动能力、接受阈值等。 设置约束：设置时序、面积和功耗的约束。（各种 view, block) 时序约束：定义时钟域、时钟频率和时序要求。 面积约束：如果有面积限制，需要明确这一点。 功耗约束：设定功耗上限或优化目标。 Placement（布局） # 设计的所有逻辑元件（例如标准单元、触发器、门等）和预定义的 IP 块（例如硬宏）被物理地放置在芯片的核心区域内"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-02-20T08:28:24+00:00"><title>Flow | Pxmmmm</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://pxgh02.github.io/zh/docs/Digtal/flow/flow/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.b08d01413d975a4c380ae1a5bfe3265f5e9c5c6655f82c0481f7d419c7faba49.js integrity="sha256-sI0BQT2XWkw4CuGlv+MmX16cXGZV+CwEgffUGcf6ukk=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/zh/><span>Pxmmmm</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
Chinese</a></label><ul><li><a href=/>English</a></li></ul></li></ul><ul><li><input type=checkbox id=section-a7a8fb3cc34544172ff5103ce3adf7cc class=toggle>
<label for=section-a7a8fb3cc34544172ff5103ce3adf7cc class="flex justify-between"><a href=/zh/docs/Other/>Other</a></label><ul><li><a href=/zh/docs/Other/Algorithms/>Algorithms</a></li><li><a href=/zh/docs/Other/git/>Git</a></li><li><a href=/zh/docs/Other/Hardware/>Hardware</a></li><li><a href=/zh/docs/Other/linux/>Linux</a></li><li><a href=/zh/docs/Other/Literature/>Literature</a></li><li><a href=/zh/docs/Other/makefile/>Makefile</a></li><li><a href=/zh/docs/Other/network/>Network</a></li><li><a href=/zh/docs/Other/Program/>Program</a></li><li><a href=/zh/docs/Other/Tools/>Tools</a></li><li><a href=/zh/docs/Other/window/>Window</a></li><li><a href=/zh/docs/Other/Writing-PPT-Presentation/>Writing Ppt Presentation</a></li></ul></li><li><input type=checkbox id=section-546194909198d851b05dc5d16088b0b9 class=toggle checked>
<label for=section-546194909198d851b05dc5d16088b0b9 class="flex justify-between"><a href=/zh/docs/Digtal/>Physical Design</a></label><ul><li><input type=checkbox id=section-9bc128912acae8559e0b27b496b7779b class=toggle>
<label for=section-9bc128912acae8559e0b27b496b7779b class="flex justify-between"><a href=/zh/docs/Digtal/flow/EDA4PR/>EDA4PR</a></label></li><li><input type=checkbox id=section-50846ac4cdec99c8bd1f8b0417acad9a class=toggle checked>
<label for=section-50846ac4cdec99c8bd1f8b0417acad9a class="flex justify-between"><a href=/zh/docs/Digtal/flow/flow/ class=active>Flow</a></label></li><li><input type=checkbox id=section-b2241e4da59f24976e354abe344e8d4f class=toggle>
<label for=section-b2241e4da59f24976e354abe344e8d4f class="flex justify-between"><a href=/zh/docs/Digtal/Placement/placement/>Placement</a></label></li><li><input type=checkbox id=section-259735f9bf2708d778569b162c141df5 class=toggle>
<label for=section-259735f9bf2708d778569b162c141df5 class="flex justify-between"><a href=/zh/docs/Digtal/Routing/routing2/>Routing</a></label></li><li><input type=checkbox id=section-78b8f069c0c130e55062b802fff78361 class=toggle>
<label for=section-78b8f069c0c130e55062b802fff78361 class="flex justify-between"><a href=/zh/docs/Digtal/Routing/routing1/>Routing1</a></label></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Flow</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ai-4-science>AI 4 Science</a></li><li><a href=#数字集成电路后端设计整体流程>数字集成电路后端设计整体流程</a><ul><li><a href=#floorplanning布图>Floorplanning（布图)</a></li><li><a href=#placement布局>Placement（布局）</a></li><li><a href=#clock-tree-synthesis-cts时钟树-综合>Clock Tree Synthesis (CTS)（<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%E6%97%B6%E9%92%9F%E6%A0%91&amp;zhida_source=entity">时钟树</a> 综合）</a></li><li><a href=#routing布线>Routing（布线）</a></li><li><a href=#physical-verification物理验证>Physical Verification（物理验证）</a></li><li><a href=#sign-off-checks>Sign-off Checks</a></li></ul></li><li><a href=#eda-软件研发难点>EDA 软件研发难点</a><ul><li><a href=#参考>参考</a></li></ul></li><li><a href=#eda-重要性>EDA 重要性</a></li><li><a href=#eda-发展历史>EDA 发展历史</a><ul><li><a href=#中国大陆>中国大陆</a></li><li><a href=#参考-1>参考</a><ul><li><a href=#超大规模集成电路物理设计-从图分割到时序收敛第一章>超大规模集成电路物理设计-从图分割到时序收敛：第一章</a></li></ul></li></ul></li><li><a href=#ai4eda>AI4EDA</a><ul><li><ul><li><a href=#传统-eda-缺点>传统 EDA 缺点</a></li></ul></li><li><a href=#gnn>GNN</a><ul><li><a href=#relate-work-素材>relate work 素材</a></li></ul></li><li><a href=#rl>RL</a></li><li><a href=#市场>市场</a><ul><li><a href=#三巨头>三巨头：</a></li></ul></li><li><a href=#历史>历史</a></li><li><a href=#eda-流程>EDA 流程</a><ul><li><a href=#数字前端>数字前端</a></li><li><a href=#数字后端>数字后端</a></li><li><a href=#模拟>模拟</a></li><li><a href=#llm-大语言模型>LLM 大语言模型</a></li></ul></li><li><a href=#lcm>LCM</a></li><li><a href=#团队>团队</a></li><li><a href=#参考-3>参考</a></li></ul></li><li><a href=#innovus>innovus</a><ul><li><a href=#flow>flow</a><ul><li><a href=#floorplan>floorplan</a></li><li><a href=#placement>placement</a></li><li><a href=#cts>CTS</a></li><li><a href=#route>route</a></li><li><a href=#sign-off>sign off</a></li></ul></li><li><a href=#common-command>common command</a></li><li><a href=#实战-c>实战 c</a><ul><li><a href=#0_所需文件>0_所需文件：</a></li><li><a href=#1_数据初始化>1_数据初始化</a></li><li><a href=#2_import>2_import</a></li><li><a href=#3_floorplan>3_floorPlan</a></li><li><a href=#4_powerplan>4_powerPlan</a></li><li><a href=#5_place_opt>5_place_opt</a></li><li><a href=#6_cts>6_CTS</a></li><li><a href=#7_cts_opt>7_cts_opt</a></li><li><a href=#8_route>8_route</a></li></ul></li><li><a href=#优化>优化</a><ul><li><a href=#优化目标>优化目标</a></li><li><a href=#innovus-优化流程>innovus 优化流程</a></li></ul></li><li><a href=#文件名称>文件名称</a><ul><li><a href=#gdsii><strong>GDSII：</strong></a></li><li><a href=#cif><strong>CIF：</strong></a></li><li><a href=#lef><strong>LEF：</strong></a></li></ul></li><li><a href=#standard-cell>Standard cell</a><ul><li><a href=#def><strong>DEF：</strong></a></li><li><a href=#lib><strong>Lib:</strong></a></li><li><a href=#sdf><strong>SDF：</strong></a></li><li><a href=#dspfrspfsbpf-和-spef><strong>DSPF、RSPF、SBPF 和 SPEF：</strong></a></li><li><a href=#alf><strong>ALF：</strong></a></li><li><a href=#pdef><strong>PDEF：</strong></a></li><li><a href=#tlf><strong>TLF</strong></a></li><li><a href=#gcf><strong>GCF</strong></a></li></ul></li><li><a href=#install>install</a><ul><li><a href=#依赖>依赖</a></li><li><a href=#解压>解压</a></li><li><a href=#安装>安装</a></li><li><a href=#破解>破解</a></li><li><a href=#环境变量>环境变量</a></li><li><a href=#大致结束>大致结束</a></li><li><a href=#其他相关-bug>其他相关 bug</a></li><li><a href=#参考-4>参考</a></li></ul></li><li><a href=#参考-5>参考</a></li></ul></li><li><a href=#openroadorfsopenlane>OpenROAD/ORFS/OpenLane</a><ul><li><a href=#特点>特点</a><ul><li><a href=#优点>优点</a></li><li><a href=#缺点>缺点</a></li></ul></li><li><a href=#relation-between-openroadsrfsopenlane>relation between openroad/SRFS/openlane</a><ul><li><a href=#openroad>openroad</a></li><li><a href=#orfs>ORFS</a></li><li><a href=#openlance><strong>openlance</strong></a></li></ul></li><li><a href=#architecture>Architecture</a></li><li><a href=#openlane-flow-stages>OpenLane Flow Stages</a></li><li><a href=#pdk>PDK</a><ul><li></li></ul></li><li><a href=#basic-run>Basic Run</a></li><li><a href=#basic-command>Basic Command</a><ul><li><a href=#area>area</a></li><li><a href=#save-image>Save Image<a href=https://openroad.readthedocs.io/en/latest/main/src/gui/README.html#save-image>#</a></a></li><li><a href=#select-objects>Select Objects</a></li><li><a href=#add-a-single-net-to-selection>Add a single net to selection</a></li><li><a href=#add-multiple-nets-to-selection>Add multiple nets to selection</a></li><li><a href=#add-a-single-inst-to-selection>Add a single inst to selection</a></li><li><a href=#add-multiple-insts-to-selection>Add multiple insts to selection</a></li><li><a href=#select-at-point-or-area>Select at point or area</a></li><li><a href=#select-next-item-from-selection>Select next item from selection</a></li><li><a href=#select-previous-item-from-selection>Select previous item from selection</a></li><li><a href=#clear-selection>Clear Selection</a></li><li><a href=#set-heatmap>Set Heatmap</a></li><li><a href=#dump-heatmap-to-file>Dump Heatmap to file</a></li></ul></li><li><a href=#init>init</a></li><li><a href=#floorplant>floorplant</a></li><li><a href=#placement-1>placement</a></li><li><a href=#routing>Routing</a><ul><li><a href=#globle-routing>globle routing</a></li></ul></li><li><a href=#report-and-dump>report and dump</a><ul><li><a href=#write-macro-placement>Write Macro Placement</a></li></ul></li><li><a href=#global-routing---fastroute41>Global Routing - FastRoute4.1</a></li><li><a href=#using-macro-in-openlane>Using Macro in openlane</a></li><li><a href=#debug-in-openroad>debug in openroad</a><ul><li></li><li><a href=#my-lancunjson>my lancun.json</a></li></ul></li><li><a href=#install-1>install</a></li></ul></li><li><a href=#开源工具>开源工具</a></li><li><a href=#数据集>数据集</a></li><li><a href=#pdk-1>PDK</a><ul><li><a href=#内容>内容</a></li><li><a href=#生态>生态</a></li><li><a href=#开源pdk>开源PDK</a><ul><li><a href=#sky130>sky130</a></li><li><a href=#gf180>GF180</a></li><li><a href=#freepdk45>FreePDK45</a></li><li><a href=#nangate45><a href=https://github.com/rbarzic/platform_nangate45>nangate45</a></a></li><li><a href=#ihp-open-source-pdk>IHP Open Source PDK</a></li><li><a href=#asap7>ASAP7</a></li><li><a href=#asap5>ASAP5</a></li></ul></li><li><a href=#参考-6>参考</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=ai-4-science>AI 4 Science
<a class=anchor href=#ai-4-science>#</a></h1><p><img src=assets/image-20241213120306409.png alt=image-20241213120306409></p><p><img src=assets/image-20241213120350716.png alt=image-20241213120350716></p><p><img src=assets/image-20241213120425645.png alt=image-20241213120425645></p><h1 id=数字集成电路后端设计整体流程>数字集成电路后端设计整体流程
<a class=anchor href=#%e6%95%b0%e5%ad%97%e9%9b%86%e6%88%90%e7%94%b5%e8%b7%af%e5%90%8e%e7%ab%af%e8%ae%be%e8%ae%a1%e6%95%b4%e4%bd%93%e6%b5%81%e7%a8%8b>#</a></h1><p>在完成前端设计、逻辑综合和时序分析后，后端设计阶段开始</p><p><img src=assets/image-20241210110751568.png alt=image-20241210110751568></p><p><img src=assets/image-20241210024517847.png alt=image-20241210024517847></p><p>（1）布局规划（Floorplan）： 在布局规划阶段，设计团队确定芯片的大致布局，包括模块位置、互连和电源网络的布局。这个阶段的主要目标是确保设计满足所有功能需求和制造约束，同时优化芯片的性能和成本。</p><p>（2）宏块和标准单元布局（Placement）： 此阶段中，具体摆放包括宏模块和标准单元。算法将尝试在保持功能和电气性能的前提下，最小化连线长度和延迟，优化布局密度。</p><p>（3）时钟树合成（Clock Tree Synthesis，CTS）： 布局完成后，进行时钟树合成。CTS 的目的是构建一个时钟网络，以最小化芯片上不同部分之间的时钟偏差，并确保整个芯片的同步运行。</p><p>（4）布线（Routing）： 在 CTS 之后，进行布线阶段，此阶段建立电子连接，以实现设计中的所有逻辑互联。布线需要解决路径规划和信号完整性问题，确保信号在整个芯片上无干扰地传递。</p><p>（5）验证和测评： 最后，进行布局与布线后的验证工作，包括电路验证、时序分析和功耗分析等。</p><p><img src=assets/image-20241116193848706.png alt=image-20241116193848706></p><p><img src=assets/image-20241116142815434.png alt=image-20241116142815434></p><p><img src=assets/image-20241116142826799.png alt=image-20241116142826799></p><h2 id=floorplanning布图>Floorplanning（布图)
<a class=anchor href=#floorplanning%e5%b8%83%e5%9b%be>#</a></h2><ul><li>确定核心和外围区域：定义芯片的核心逻辑区和外围接口区。<ul><li><strong>核心区域</strong>：这是用于放置
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e9%80%bb%e8%be%91%e9%97%a8&amp;zhida_source=entity">逻辑门</a>、触发器等基础元件的区域。</li><li><strong>外围区域</strong>：这里通常用于放置 I/O pads，电源和地引脚。</li></ul></li><li>确定 IP Blocks 的位置：IP（Intellectual Property）模块的大致位置和尺寸。<ul><li>硬宏（Hard Macros）：例如存储器、
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e6%a8%a1%e6%95%b0%e8%bd%ac%e6%8d%a2%e5%99%a8&amp;zhida_source=entity">模数转换器</a>（ADCs）等，通常有固定的大小和形状。</li><li>软宏（Soft Macros）：通常是可以重新合成的逻辑模块，如处理器核心、
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=DSP%e5%8d%95%e5%85%83&amp;zhida_source=entity">DSP 单元</a> 等。</li></ul></li><li>初步 Power Planning：设计初步的电源网格和地网。<ul><li><strong><a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e7%94%b5%e6%ba%90%e7%bd%91%e6%a0%bc%e8%ae%be%e8%ae%a1&amp;zhida_source=entity">电源网格设计</a></strong>：创建电源和地网格来提供电流和参考电压。</li><li><strong>电源环（Power Rings）</strong>：在芯片外围设计电源环，用于电源和地的分发。</li><li><strong>电源铺垫（Power Pads）</strong>：确定用于外部电源连接的电源和地铺垫的位置。</li></ul></li><li>I/O Planning：规划输入/输出引脚的位置。<ul><li><strong>引脚位置</strong>：根据接口要求（如 GPIO、DDR 接口等）确定 I/O 引脚的位置。</li><li><strong>引脚电特性</strong>：确定每个 I/O 引脚的电性能需求，如驱动能力、接受阈值等。</li></ul></li><li>设置约束：设置时序、面积和功耗的约束。（各种 view, block)<ul><li><strong><a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e6%97%b6%e5%ba%8f%e7%ba%a6%e6%9d%9f&amp;zhida_source=entity">时序约束</a></strong>：定义时钟域、时钟频率和时序要求。</li><li><strong>面积约束</strong>：如果有面积限制，需要明确这一点。</li><li><strong>功耗约束</strong>：设定功耗上限或优化目标。</li></ul></li></ul><h2 id=placement布局>Placement（布局）
<a class=anchor href=#placement%e5%b8%83%e5%b1%80>#</a></h2><p>设计的所有逻辑元件（例如标准单元、触发器、门等）和预定义的 IP 块（例如硬宏）被物理地放置在芯片的核心区域内</p><ol><li><strong>全局布局</strong>：进行粗略的布局优化。<ul><li><strong>草图生成</strong>：使用不同的算法（例如
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e6%a8%a1%e6%8b%9f%e9%80%80%e7%81%ab&amp;zhida_source=entity">模拟退火</a>、
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e9%81%97%e4%bc%a0%e7%ae%97%e6%b3%95&amp;zhida_source=entity">遗传算法</a> 等）来生成一个初步的元件布局草图。（不会对准 row)</li><li><strong>优化目标</strong>：主要考虑的是最小化布线长度、改善功耗和满足时序约束。</li></ul></li><li><strong>详细布局</strong>：进一步优化每个标准单元和宏单元的位置。<ul><li><strong>局部优化</strong>：在全局布局的基础上进行更细致的调整。</li><li><strong>对齐和间距检查</strong>：确保所有元件都符合工艺规则，包括对齐、间距和其他布局规则。</li></ul></li><li><strong>优化</strong>：针对时序、功耗等进行局部优化。<ul><li><strong>Timing Driven Placement</strong>：根据时序需求进行局部或全局优化。</li><li><strong>功耗优化</strong>：通过智能地布局来减少功耗（例如，通过聚集功耗高的单元）。</li><li><strong>Power Planning</strong>：尽管大部分电源规划可能已在 Floorplanning 阶段完成，但在 Placement 阶段也可能需要进行一些细致的调整。例如，为了满足特定模块或逻辑块的电流需求，可能需要添加额外的电源或地连接。</li></ul></li><li><strong>验证</strong><ul><li><strong><a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e8%ae%be%e8%ae%a1%e8%a7%84%e5%88%99%e6%a3%80%e6%9f%a5&amp;zhida_source=entity">设计规则检查</a>（DRC）</strong>：确保布局满足所有工艺和设计规则。</li><li><strong>电气规则检查（ERC）</strong>：确保布局不会导致电气问题（例如，电流密度过高）。</li></ul></li></ol><h2 id=clock-tree-synthesis-cts时钟树-综合>Clock Tree Synthesis (CTS)（
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e6%97%b6%e9%92%9f%e6%a0%91&amp;zhida_source=entity">时钟树</a> 综合）
<a class=anchor href=#clock-tree-synthesis-cts%e6%97%b6%e9%92%9f%e6%a0%91-%e7%bb%bc%e5%90%88>#</a></h2><p>主要目的是生成一个有效的时钟分布网络。这个网络负责将时钟信号从一个或多个时钟源（Clock Source）传送到芯片内所有需要时钟的元件（如触发器和存储器元件）。在这一过程中，设计师需要权衡多个因素，包括但不限于时序、功耗、面积和可靠性</p><ol><li><strong>创建时钟树</strong>：构建用于分发时钟信号的时钟树。</li><li><strong>时钟缓冲</strong>：添加缓冲器来减少时钟偏斜。</li><li><strong>优化</strong>：优化时钟树以满足时序和功耗需求。</li></ol><h2 id=routing布线>Routing（布线）
<a class=anchor href=#routing%e5%b8%83%e7%ba%bf>#</a></h2><p>实现逻辑元件之间的物理连接</p><ol><li><strong>全局布线</strong>：确定大致的连线路径。<ul><li><strong>路径规划</strong>：在这一步骤中，算法会大致规划出每一条互联线（net）应该走的路径。主要目标是规划逻辑元素（或电路网）之间的连接路径。这通常在一个 <strong>高级的抽象层面</strong> 上进行，一般不考虑过于详细的设计规则，比如具体的线宽和距离。</li><li><strong>资源分配</strong>：为了确保所有的互联线都能被合适地布置，需要进行资源分配。</li><li><strong>路径搜索</strong>：使用各种搜索算法（如 A*、Maze Routing 等）为每个网络找到一条或多条全局路径。</li><li><strong>资源分配</strong>：在布线网格上为每条路径分配必要的资源，如布线轨和过孔。</li><li><strong>处理冲突</strong>：当两个或更多的路径有冲突时（如共用相同的网格或资源），进行调整以解决冲突。</li><li><strong>Skew 和延迟优化</strong>：对关键网络（如时钟网络）进行特殊处理，以最小化 skew 和信号延迟。</li></ul></li><li><strong>详细布线</strong>：在全局布线指导下，进行精确的连线。<ul><li><strong>实际布线</strong>：依据全局布线的结果，进行实际的布线操作。</li><li><strong>处理冲突和过载</strong>：如果在布线过程中出现资源冲突或过载，需要进行相应的调整。</li></ul></li><li><strong>修复布线冲突</strong>：解决任何布线冲突或溢出。</li><li><strong>生成最终的布线文件</strong>：这通常是一个包含所有物理信息的 GDSII 文件或其他类似格式的文件。</li></ol><h2 id=physical-verification物理验证>Physical Verification（物理验证）
<a class=anchor href=#physical-verification%e7%89%a9%e7%90%86%e9%aa%8c%e8%af%81>#</a></h2><p>负责确保设计满足所有工艺和功能规格</p><ol><li><p><strong>DRC（Design Rule Check）</strong>：使用工艺规则文件来验证设计，确保没有违反任何制程规则。</p></li><li><p><strong>LVS（Layout vs. Schematic）</strong>：确保物理布局与逻辑原理图一致。</p></li><li><p><strong>ERC（Electrical Rule Check）</strong>：检查电流路径、电源连通性等。</p></li><li><p><strong><a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e5%a4%a9%e7%ba%bf%e6%95%88%e5%ba%94&amp;zhida_source=entity">天线效应</a> 检查</strong>：运用专用的检查工具来识别和解决可能的天线效应。</p></li><li><p>抗辐射和电磁兼容（EMC）验证</p></li><li><p>抗静电放电（ESD）和抗热设计</p></li><li><p>时序验证(STA)</p></li><li><p>RC 提取和
<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%e4%bf%a1%e5%8f%b7%e5%ae%8c%e6%95%b4%e6%80%a7%e5%88%86%e6%9e%90&amp;zhida_source=entity">信号完整性分析</a></p></li><li><p>尺寸和密度检查</p></li></ol><h2 id=sign-off-checks>Sign-off Checks
<a class=anchor href=#sign-off-checks>#</a></h2><p>它标志着设计即将完成，并准备进入制造阶段。在这个阶段，设计需要经过一系列严格的验证和审查，以确保其满足所有工艺、性能和功能规格</p><ol><li><strong>时序 Sign-off</strong>：使用工艺库的最终版本和高精度模型来执行最终的时序分析。<ul><li><strong>静态时序分析（STA）</strong>：使用工艺最差条件（PVT，Process-Voltage-Temperature）进行时序验证。</li><li><strong>动态时序分析</strong>：仿真整个时钟树和关键数据路径，以确认时序要求得到满足。</li></ul></li><li><strong>功耗 Sign-off</strong>：进行全芯片级的功耗</li></ol><h1 id=eda-软件研发难点>EDA 软件研发难点
<a class=anchor href=#eda-%e8%bd%af%e4%bb%b6%e7%a0%94%e5%8f%91%e9%9a%be%e7%82%b9>#</a></h1><p><img src=assets/image-20241102103529055.png alt=image-20241102103529055></p><p><img src=assets/image-20241102103538594.png alt=image-20241102103538594></p><h2 id=参考>参考
<a class=anchor href=#%e5%8f%82%e8%80%83>#</a></h2><ol><li><a href=https://zhuanlan.zhihu.com/p/654326353>数字后端整体流程（Physical Design） - 知乎</a></li></ol><h1 id=eda-重要性>EDA 重要性
<a class=anchor href=#eda-%e9%87%8d%e8%a6%81%e6%80%a7>#</a></h1><p><img src=assets/image-20241116193659992.png alt=image-20241116193659992></p><p><img src=assets/image-20250106164128669.png alt=image-20250106164128669></p><h1 id=eda-发展历史>EDA 发展历史
<a class=anchor href=#eda-%e5%8f%91%e5%b1%95%e5%8e%86%e5%8f%b2>#</a></h1><p><img src=assets/image-20241116194008548.png alt=image-20241116194008548></p><h2 id=中国大陆>中国大陆
<a class=anchor href=#%e4%b8%ad%e5%9b%bd%e5%a4%a7%e9%99%86>#</a></h2><p>由于1994年至2008年，中国大陆在EDA领域有差不多十五年的低迷期。很多高校失去了EDA的研究条件和生存环境，使得很多项目搞不下去，老师开始转型，导致高校从事EDA研究的人员越来越少。</p><h2 id=参考-1>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-1>#</a></h2><ol><li><h3 id=超大规模集成电路物理设计-从图分割到时序收敛第一章>超大规模集成电路物理设计-从图分割到时序收敛：第一章
<a class=anchor href=#%e8%b6%85%e5%a4%a7%e8%a7%84%e6%a8%a1%e9%9b%86%e6%88%90%e7%94%b5%e8%b7%af%e7%89%a9%e7%90%86%e8%ae%be%e8%ae%a1-%e4%bb%8e%e5%9b%be%e5%88%86%e5%89%b2%e5%88%b0%e6%97%b6%e5%ba%8f%e6%94%b6%e6%95%9b%e7%ac%ac%e4%b8%80%e7%ab%a0>#</a></h3></li></ol><h1 id=ai4eda>AI4EDA
<a class=anchor href=#ai4eda>#</a></h1><p><img src=assets/image-20240928193424675.png alt=image-20240928193424675></p><p><img src=assets/image-20240928193602018.png alt=image-20240928193602018></p><p><img src=assets/image-20240928193818449.png alt=image-20240928193818449></p><p><img src=assets/image-20240928195328357.png alt=image-20240928195328357></p><h3 id=传统-eda-缺点>传统 EDA 缺点
<a class=anchor href=#%e4%bc%a0%e7%bb%9f-eda-%e7%bc%ba%e7%82%b9>#</a></h3><p><strong>(1) 它依赖于硬件设计人员的专业知识来选择合适的 EDA 工具配置</strong>，<strong>(2) RTL 的设计空间探索，逻辑综合和物理综合是手动的，因此是有限且耗时的</strong>，<strong>(3) 设计中的更正将重新初始化流程</strong>，<strong>(4) 没有早期分析或结果的可预测性。</strong></p><p><img src=assets/image-20241211142807806.png alt=image-20241211142807806></p><h2 id=gnn>GNN
<a class=anchor href=#gnn>#</a></h2><p>近年来，随着深度学习技术的广泛应用，越来越多的研究将其引入EDA领域。特别是图神经网络（Graph Neural Networks, GNN），凭借其在处理复杂图结构数据方面的显著优势，逐渐成为EDA后端设计中物理验证的重要工具。–cite–>
<a href=https://mp.weixin.qq.com/s/DTyRuFTws49WtwWEJaL8fQ>专题解读 | GNN在EDA后端设计物理验证环节中验证应力的应用</a></p><p>由于考虑了特征和拓扑信息，GNN 已被证明优于其他 ML 模型</p><p>[41] 中的研究 <strong>首次认识到 GNN 在 EDA 中的巨大潜力</strong>。他们表示，<strong>图形结构是表示布尔函数、网表和布局的最直观方式</strong>，这些是 EDA 流程的主要关注点。他们 <strong>将 GNN 视为 EDA 改进 QoR 并取代使用的传统浅层方法或数学优化技术的机会</strong>。</p><p><strong>基于 GNN 的架构优于其他模型和解决方案</strong>。上面列出的工作将他们的结果与浅层 ML、深度学习方法或特定任务的基线进行了比较。毫无疑问，<strong>GNN 的优越性是由于对拓扑和特征信息的考虑，这是以构建训练数据集的更大努力和更高的训练时间为代价的</strong></p><p>GNN 的优势与两个因素有关：<strong>定义明确的初始特征和图学习能力</strong> [39]。<strong>定义明确的特征捕捉任务的基本特征，并为图学习提供宝贵的信息。 GNN 捕获特征和拓扑信息。</strong> 这与仅考虑图形连通性的方法相比，它具有明显的优势。</p><p><img src=assets/image-20241007092504211.png alt=image-20241007092504211></p><p><img src=assets/image-20241007092635062.png alt=image-20241007092635062></p><p>G =(V, E) 分别不同的任务</p><p>是否有向</p><p>是否有环</p><p>是否异构</p><p>是否动态</p><p>其他特殊图：二分图，正交图，超图</p><h3 id=relate-work-素材>relate work 素材
<a class=anchor href=#relate-work-%e7%b4%a0%e6%9d%90>#</a></h3><p><img src=assets/image-20241026182855975.png alt=image-20241026182855975></p><p><img src=assets/image-20241026182913978.png alt=image-20241026182913978></p><h2 id=rl>RL
<a class=anchor href=#rl>#</a></h2><h2 id=市场>市场
<a class=anchor href=#%e5%b8%82%e5%9c%ba>#</a></h2><h3 id=三巨头>三巨头：
<a class=anchor href=#%e4%b8%89%e5%b7%a8%e5%a4%b4>#</a></h3><ol><li><strong>新思科技（Synopsys）</strong>：成立于 1986 年，是全球排名第一的电子设计自动化解决方案提供商，提供从设计到制造的全流程 EDA 工具，包括逻辑综合、时序分析、验证等。最大，还有 ip</li><li><strong>楷登电子（Cadence Design Systems）</strong>：由 SDA Systems 和 ECAD 两家公司于 1988 年合并而成，提供广泛的 EDA 工具，包括模拟及数字集成电路设计和验证工具。</li><li><strong>西门子 EDA（Siemens EDA）</strong>：前身是 Mentor Graphics，成立于 1981 年，2016 年被 <strong>西门子收购</strong>。Siemens EDA 提供全面的 EDA 软件、硬件及服务，包括 FPGA 设计、PCB 设计和 IC 设计工具、、、、、、、、、、、、、、、、、、、、、、</li></ol><p><img src=assets/image-20240930104708096.png alt=image-20240930104708096></p><h2 id=历史>历史
<a class=anchor href=#%e5%8e%86%e5%8f%b2>#</a></h2><h2 id=eda-流程>EDA 流程
<a class=anchor href=#eda-%e6%b5%81%e7%a8%8b>#</a></h2><p><img src=assets/image-20240929103745540.png alt=image-20240929103745540></p><h3 id=数字前端>数字前端
<a class=anchor href=#%e6%95%b0%e5%ad%97%e5%89%8d%e7%ab%af>#</a></h3><p><strong>逻辑综合</strong> 将 HDL 中的 RTL 块映射到从 <strong>给定技术库</strong> 中选择的 <strong>门组合</strong>，同时针对不同目标优化设计。通常，这种优化涉及 <strong>时序收敛、面积和功耗之间的权衡</strong>。</p><h4 id=无需进行逻辑综合-通过-rtl-预测-ppa>无需进行逻辑综合, 通过 RTL 预测 PPA
<a class=anchor href=#%e6%97%a0%e9%9c%80%e8%bf%9b%e8%a1%8c%e9%80%bb%e8%be%91%e7%bb%bc%e5%90%88-%e9%80%9a%e8%bf%87-rtl-%e9%a2%84%e6%b5%8b-ppa>#</a></h4><p><strong>精确时序或逻辑估计</strong> [83]、[84]。</p><p><strong>功耗</strong></p><p>来识别与功耗相关的 RTL 信号。 Simmani [92] 和早期的功耗 建模工作 [93] 专注于 FPGA 和其他平台上的快速功耗 仿真，强调了 ML 方法的更广泛适用性，有助于在设 计阶段进行高效功耗分析。</p><p><strong>RTL 测试和验证领域</strong>：过学习 RTL 设计的语义抽象、促进功能预测和有效的测试生 成（显着缩短验证周期）</p><p><img src=assets/image-20240928194128443.png alt=image-20240928194128443></p><h3 id=数字后端>数字后端
<a class=anchor href=#%e6%95%b0%e5%ad%97%e5%90%8e%e7%ab%af>#</a></h3><ul><li><code>Floorplanning</code><ul><li>Floorplan initialization - define the chip area, utilization</li><li>IO pin placement (for designs without pads)</li><li>Tap cell and well tie insertion</li><li>PDN- power distribution network creation</li></ul></li><li><code>Global Placement</code><ul><li>Macro placement (RAMs, embedded macros)</li><li>Standard cell placement</li><li>Automatic placement optimization and repair for max slew, max capacitance, and max fanout violations and long wires</li></ul></li><li><code>Detailed Placement</code><ul><li>Legalize placement - align to grid, adhere to design rules</li><li>Incremental timing analysis for early estimates</li></ul></li><li><code>Clock Tree Synthesis</code><ul><li>Insert buffers and resize for high fanout nets</li></ul></li><li><code>Optimize setup/hold timing</code></li><li><code>Global Routing</code><ul><li>Antenna repair</li><li>Create routing guides</li></ul></li><li><code>Detailed Routing</code><ul><li>Legalize routes, DRC-correct routing to meet timing, power constraints</li></ul></li><li><code>sign off</code><ul><li>Parasitic extraction using OpenRCX</li><li>Final timing verification</li><li>Final physical verification</li><li>Dummy metal fill for manufacturability</li><li>Use KLayout or Magic using generated GDS for DRC signoff</li></ul></li></ul><p><img src=assets/image-20240928194141278.png alt=image-20240928194141278></p><p><img src=assets/image-20240928205127083.png alt=image-20240928205127083></p><p><img src=assets/image-20240928205152370.png alt=image-20240928205152370></p><h4 id=网表>网表
<a class=anchor href=#%e7%bd%91%e8%a1%a8>#</a></h4><p>AI for Datapath Circuits：优化电路网表结构？加法器乘法器等</p><p>[DRiLLS-Synthesis optimization(min area)-DAC-2020-RL(A2C)-](DRiLLS-Synthesis optimization(min area)-DAC-2020-RL(A2C)-.pdf)</p><ul><li>与仿真器互动</li></ul><p><img src=assets/image-20241013202349849.png alt=image-20241013202349849></p><p><img src=assets/image-20240928212316263.png alt=image-20240928212316263></p><h4 id=布图-floorplanning>布图 floorplanning
<a class=anchor href=#%e5%b8%83%e5%9b%be-floorplanning>#</a></h4><p>较大块被放置在二维网格上，以实现 <strong>最佳 PPA</strong>，同时 <strong>遵守设计规则</strong>。这可以表示为 <strong>马尔可夫过程</strong>，<strong>可以使用 RL 来解决</strong>。</p><p>Google 展示了使用 DRL 框架对张量处理单元 (TPU) 加速器进行局部规划的成功芯片宏放置。在 [44] 中，将 GNN 合并到 RL 框架中以对过程的不同状态进行编码，预测拥塞、密度和线路长度的奖励标签，并推广到未见的网表。所提出的架构称为基于边缘的图神经网络（Edge-GNN）[44]，它计算整个网表的节点和边缘嵌入。此 RL 代理提供与人类设计师相当或更好的结果，但需要数小时而不是数月。</p><h4 id=布局>布局
<a class=anchor href=#%e5%b8%83%e5%b1%80>#</a></h4><p><img src=assets/image-20241007150405176.png alt=image-20241007150405176></p><p>人工智能在标准单元设计中的应用，特别是布局和布线，由于其高密度和严格的可布线性要求，带来了一 系列独特的挑战。利用强化学习的人工智能辅助方法 已被证明可以改善布局顺序和可布线性，从而提供更 好的线长性能 [188]。</p><p>任务：致力于确定单元内最佳晶体管位置</p><p><strong>global placement</strong></p><ul><li>involves macro placement and standard cell placement,</li><li>most crucial but timeconsuming steps in the chip design process, which can be cast as a constrained optimization problem.</li></ul><p><strong>Detailed placement</strong></p><ul><li>includes legalization, wirelength and routability refinement</li><li>Solution from global placement is often illegal: cells may overlap or occupy illegal sites, e.g. between placement rows. This is because global placers are unaware of these constraints.</li><li>snaps standard cell to the sites of rows with minimum adverse impact on placement quality.</li></ul><p><strong>方向</strong></p><ol><li><p><strong>Traditional Placers Enhancement</strong></p><ul><li><p><strong>PL-GNN</strong> [Ward et al., 2012]</p><p>结合了支持向量机（SVM）和神经网络来进行数据路径提取和评估，促进数据路径感知的放置策略。</p></li><li><p><strong>PL-GNN</strong> [Lu et al., 2021]</p><p>种基于图学习的框架，该框架通过基于逻辑亲和性信息和设计实例的属性生成单元簇来为商业布局器提供布局指导</p><p><img src=assets/image-20241007102413593.png alt=image-20241007102413593></p></li><li><p><strong>DREAMPlace [Lin et al., 2020]</strong> 基于最先进的分析放置算法 RePlAce，DREAMPlace 通过深度学习工具包 PyTorch 实现手动优化的关键运算符，并比基于 CPU 的工具实现了超过 30 倍的加速</p></li></ul></li><li><p><strong>Placement Decision Making</strong></p><ul><li><p><strong>Google [Mirhoseini et al., 2021] nature.</strong></p><p>proposes an end-to-end learning method for macro placement that models chip placement as a <strong>sequential decision making problem</strong>. In each step, the <strong>RL</strong> agent places one macro and target metrics are used as reward until the last action.</p><p><strong>GNN</strong> is adopted in the value network to encode the netlist information and deconvolution layers in the policy network output the mask of current macro position.</p></li><li><p>DeepPlace [Cheng and Yan, 2021]</p><ul><li>for the placement of macros and standard cells</li><li>RL + GNN + CNN</li><li>base a gradient-based classical cell placer ([Lin et al., 2020])</li></ul></li></ul></li><li><p><strong>Prediction Model Embedded in Placement</strong></p><p>ML also assists placers to optimize complicated objectives like <strong>routability</strong> by embedding prediction models, as it is difficult to foresee routing <strong>congestion</strong> accurately during placement</p><ul><li><p><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=8715126">IEEE Xplore Full-Text PDF:</a></p><ul><li>built to predict #DRVs at the macro placement stage without cell placement and routing information</li><li>macro placer : 此外，模拟退火优化用于搜索具有预期最少 DRV 的最优宏布局</li><li>cnn</li></ul></li><li><p>[Chan et al., 2017]</p><p>(1) machine-learning techniques to effectively predict detailed-route DRC violations after global routing and</p><p>(2) detailed placement techniques to effectively reduce detailed-route DRC violations.</p></li><li><p>[Liu et al., 2021b]</p><p>predicts congestion hotspots and then incorporates this prediction model into a placement engine,</p><p>RL</p></li></ul></li></ol><p>许多研究探索了早期可路由性预测。 RouteNet [114] 使用 CNN 来预测路由设计后规则违 规 (DRV)，从而避免难以路由的布局。</p><p>称为 <strong>Net</strong> 的 <strong>GAT</strong> 用于在 [61] 布局前中 <strong>估计路径长度</strong>。为此，他们 <strong>将网表转换为有向图</strong>，其中网络代表节点，边在两个方向上连接网络。<strong>单元数、扇入、扇出大小和面积用作特征节点。使用聚类和分区结果定义边缘特征</strong>。</p><p><a href=https://gtcad.gatech.edu/www/papers/neurips21-1.pdf>neurips21-1.pdf 全流程参数优化</a>&
<a href=https://dl.acm.org/doi/pdf/10.1145/3400302.3415690>VLSI Placement Parameter Optimization using Deep Reinforcement Learning (acm.org)</a> 为了实现 PPA（性能、功耗、面积）目标，人类工程师通常需要花费大量时间调整商业放置工具的多个设置（maximum density, congestion effort, etc.）。本文提出了一个深度强化学习（RL）框架，用于优化商业 EDA 工具的放置参数。<strong>GCN（GraphSAGE） 是一个关键组件，因为它提取 RL 代理所需的本地和全局信息</strong></p><p><img src=assets/image-20241007103637165.png alt=image-20241007103637165></p><p><img src=assets/image-20241007105134964.png alt=image-20241007105134964></p><p>常见解决算法：动态规划，强化学习，满足性模型理论</p><h4 id=布线>布线
<a class=anchor href=#%e5%b8%83%e7%ba%bf>#</a></h4><p>任务：完成 cell 之间的连线。按照设计规则（例如允许角度的类型）<strong>连接放置的组件、门和时钟信号</strong></p><p><strong>global routing</strong></p><p><img src=assets/image-20241007152328526.png alt=image-20241007152328526></p><p><img src=assets/image-20241007152402759.png alt=image-20241007152402759></p><p><strong>detail routing</strong></p><ul><li>considering complicated design rules</li><li>详细布线还需要考虑优选布线方向，其中相邻布线层优选垂直布线方向。遵循其相应层的首选方向（例如，X 或 Y 方向）的连续网格边缘被描述为布线轨道</li></ul><p><strong>方向</strong></p><ol><li>Learning-aided Routability Prediction</li><li></li></ol><p>常用方法：A-star、整数线性规划和可满足性模理论</p><p>DRC 检查：RL 方法，，简化了路由过程并支持使用 A 星或迷宫路由来获得最佳解决方案。机器学习技术 还促进了 DRC 规则的适应，简化了标准单元布局跨技 术节点的迁移 [190]</p><p><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=8920342&amp;tag=1">CongestionNet </a>使用多层 GAT, <strong>特征节点是 50 维向量</strong>，包含有关 <strong>单元类型、大小、引脚数和逻辑描述</strong> 的信息, <strong>拥塞图被分成网格</strong>，<strong>每个网格的拥塞值被作为放置在该网格中的单元格的标签</strong>。<strong>对于超过 100 万个单元的电路，推理时间约为 19 秒</strong></p><p><img src=assets/image-20241007114109425.png alt=image-20241007114109425></p><p><a href=https://ieeexplore.ieee.org/document/9643435/>https://ieeexplore.ieee.org/document/9643435/</a>：GNN+LSTM, <strong>预测端口路由 TNS</strong>, 利用 gnn 获得 embedding，用 place, opt.place, opt.cts 后的图分别预测电路 TNS 值，各自的 TNS 预测再构建一个 LSTM 网络，用于预测最后的 routing 后的 TNS 值，</p><p>每个节点的特征都与任务相关，例如单元的最差松弛、最差的输出和输入压摆以及驱动网络的开关功率。这些是从技术库中收集并生成的报告。每个阶段的网表由全局 GNN 编码。在这三个阶段中的每一个阶段，图嵌入的使用都是双重的：它们是预测模型和 LSTM 的输入，其中图嵌入用作时间序列。单一预测模型预测每个阶段的 TNS，而 LSTM 将综合低点映射到连续低点。每阶段预测平均实现小于 12.6% 的归一化均方根误差，而基于 GNN 的 LSTM 预测在两个测试电路中实现小于 5.2%</p><p><img src=assets/image-20241007121002859.png alt=image-20241007121002859></p><p><img src=assets/image-20241007121010300.png alt=image-20241007121010300></p><h4 id=验证>验证
<a class=anchor href=#%e9%aa%8c%e8%af%81>#</a></h4><p>timing, power, drc</p><p><img src=assets/image-20241007095959776.png alt=image-20241007095959776></p><h4 id=逆向工程>逆向工程
<a class=anchor href=#%e9%80%86%e5%90%91%e5%b7%a5%e7%a8%8b>#</a></h4><p>ReIGNN [107] 和 GNN-RE [108] 等工具利用 ML 来执行逆向工程任务，例如识 别状态寄存器和破译子电路的功能。</p><h3 id=模拟>模拟
<a class=anchor href=#%e6%a8%a1%e6%8b%9f>#</a></h3><p><strong>模拟设计流程</strong> 的高复杂度是由于 <strong>大的设计空间和信号敏感性 w.r.t.噪音</strong>。因此，<strong>模拟流程可以从 ML 等现代方法中受益匪浅</strong>，从而使方法现代化并提高 QoR。</p><h4 id=拓扑生成>拓扑生成
<a class=anchor href=#%e6%8b%93%e6%89%91%e7%94%9f%e6%88%90>#</a></h4><h4 id=sizing调整长宽比->Sizing(调整长宽比 )
<a class=anchor href=#sizing%e8%b0%83%e6%95%b4%e9%95%bf%e5%ae%bd%e6%af%94->#</a></h4><h4 id=circuitgnn>CircuitGNN
<a class=anchor href=#circuitgnn>#</a></h4><p><a href=https://ieeexplore.ieee.org/abstract/document/9116200>AutoCkt</a>
<a href=https://ieeexplore.ieee.org/abstract/document/9116200>: Deep Reinforcement Learning of Analog Circuit Designs</a> (DATE,2020）</p><p><a href=https://ieeexplore.ieee.org/abstract/document/9218757>GCN-RL Circuit Designer: Transferable Transistor Sizing with Graph Neural Networks and Reinforcement Learning</a> (DAC, 2020)</p><p><a href=https://arxiv.org/abs/2308.16406>CktGNN</a>
<a href=https://arxiv.org/abs/2308.16406>: Circuit Graph Neural Network for Electronic Design Automation</a> (ICLR, 2023)</p><p><a href=https://ieeexplore.ieee.org/abstract/document/9586139>DNN-</a>
<a href=https://ieeexplore.ieee.org/abstract/document/9586139>Opt</a>
<a href=https://ieeexplore.ieee.org/abstract/document/9586139>: An RL Inspired Optimization for Analog Circuit Sizing using Deep Neural Networks</a> (DAC, 2021)</p><h4 id=analog-layout-automation版图大小drc-预测-208布局-212路由-210>Analog Layout Automation：版图大小，DRC 预测 [208]，布局 [212]，路由 [210]，
<a class=anchor href=#analog-layout-automation%e7%89%88%e5%9b%be%e5%a4%a7%e5%b0%8fdrc-%e9%a2%84%e6%b5%8b-208%e5%b8%83%e5%b1%80-212%e8%b7%af%e7%94%b1-210>#</a></h4><h4 id=预测寄生参数217paragraph-46--35>预测寄生参数：[217]，ParaGraph [46] ， [35]
<a class=anchor href=#%e9%a2%84%e6%b5%8b%e5%af%84%e7%94%9f%e5%8f%82%e6%95%b0217paragraph-46--35>#</a></h4><h3 id=llm-大语言模型>LLM 大语言模型
<a class=anchor href=#llm-%e5%a4%a7%e8%af%ad%e8%a8%80%e6%a8%a1%e5%9e%8b>#</a></h3><p>将生成式人工智能（特别是大型语言模型 (LLM)）集成 到 IC 设计中正在成为一种变革趋势。通过利用专有数 据集，IC 设计公司可以开发人工智能助手来增强和加快 设计过程。这些工具能够提供深入的见解，自动执行和 完善传统的手动任务</p><p><img src=assets/image-20241028220039220.png alt=image-20241028220039220></p><p>相关数据集：</p><p><img src=assets/image-20241028220123130.png alt=image-20241028220123130></p><h4 id=生成-rtl>生成 RTL
<a class=anchor href=#%e7%94%9f%e6%88%90-rtl>#</a></h4><p><img src=assets/image-20240928210023665.png alt=image-20240928210023665></p><h4 id=功能验证>功能验证
<a class=anchor href=#%e5%8a%9f%e8%83%bd%e9%aa%8c%e8%af%81>#</a></h4><p>LLM 通过将自然语言规范转换为 SystemVerilog 断言 (SVA)，在功能验证方面取得了重大进展。此过程 确保 RTL 实现遵循他们的预期规格。</p><p>LLM 在解决布尔可满足性 （SAT）问题 [179] 方面取得了成功，可应用于验证算 术电路。</p><p>Security Verification: 使用 LLM 指出 RTL 的安全漏洞，基于 ChatGPT 推荐安全 RTL 代码 [181] 和相关的断言 [182]</p><h4 id=脚本生成和架构设计>脚本生成和架构设计
<a class=anchor href=#%e8%84%9a%e6%9c%ac%e7%94%9f%e6%88%90%e5%92%8c%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1>#</a></h4><p>TCL 脚本生成: ChatEDA [183] 引入了基于 LLM 的代理，旨 在促进使用自然语言进行 EDA 工具控制，提供了一种 替代方案传统 TCL 脚本。</p><p>GPT4AIGChip [184] 利用 LLMs 生成 AI 加速器高级合成的 C 代码。</p><p>同样，Yan 等人 [185] 研究了 llm 在优化 <strong>内存计算(CIM)</strong> DNN 加速器中的使用，展示了该模型在提高计算效率方面的潜力</p><p>[186] 深入研 究量子架构设计，探索量子计算的前沿。</p><h4 id=模拟-1>模拟
<a class=anchor href=#%e6%a8%a1%e6%8b%9f-1>#</a></h4><p><img src=assets/image-20240928201347244.png alt=image-20240928201347244></p><p><img src=assets/image-20240928201355039.png alt=image-20240928201355039></p><h4 id=参考-2>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-2>#</a></h4><p><a href=https://mp.weixin.qq.com/s/LlsIwkwB2LabdZHgi8V5iA>浅谈大语言模型与 EDA</a></p><p>LLM4EDA: Emerging Progress in Large Language Models for Electronic Design Automation</p><h2 id=lcm>LCM
<a class=anchor href=#lcm>#</a></h2><p><img src=assets/image-20240928214207556.png alt=image-20240928214207556></p><p>EDA 工作流程从最初的规格延伸到详细的最终布局， 涵盖各种电路设计格式，每种格式都需要 LCM 内的 不同编码器。这些编码器旨在处理特定模式（规范、 架构设计、高级算法、RTL 设计、电路网表和物理布 局），是 LCM 的核心组件。</p><p><img src=assets/image-20240928213833319.png alt=image-20240928213833319></p><p>虽然这些模型已经在基准数据集上 证明了有效性，但它们推广到新颖设计的能力仍然是 一个令人担忧的问题。</p><p>电路数据固有的计算和结构的 独特融合需要超越通用人工智能解决方案能力的细致 入微的理解。例如，在不深入理解电路设计细微差别 的情况下将 LLM 应用于 RTL 生成通常无法实现最佳 PPA 结果。</p><p>大型基础模型（如 BERT [2]、GPT [5] 和 MAE [8]）的出现，已经重新定义了人工智能的格 局，提供了一种分叉的方法，对不同的数据进行广泛 的预训练，然后针对特定任务进行有针对性的微调。 这种方法有助于实现各种数据类型的突破，预示着人 工智能应用的新时代。</p><p>通过支 持 LCM，我们站在 EDA 革命的风口浪尖，超越特定 于任务的限制，拥抱人工智能原生解决方案推动电路 设计创新、效率和卓越的未来</p><p>对齐挑战</p><p>鉴于 LCM 依赖于广泛、高质量的训练数据集，数据 稀缺成为一个关键障碍</p><h2 id=团队>团队
<a class=anchor href=#%e5%9b%a2%e9%98%9f>#</a></h2><p>北大 CECA</p><p>上交</p><p>香港中文</p><p>复旦</p><p>华为诺亚方舟实验室，华为海思</p><h2 id=参考-3>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-3>#</a></h2><p><a href=https://arxiv.org/abs/2403.07257>2403.07257] The Dawn of AI-Native EDA: Opportunities and Challenges of Large Circuit Models (arxiv.org)</a></p><p><a href=https://blog.csdn.net/sxf1061700625/article/details/127865492>A Comprehensive Survey on Electronic Design Automation and Graph Neural Networks——EDA+GNN</a></p><p>书：
<a href=https://link.springer.com/book/10.1007/978-3-031-13074-8>Machine Learning Applications in Electronic Design Automation | SpringerLink</a></p><h1 id=innovus>innovus
<a class=anchor href=#innovus>#</a></h1><h2 id=flow>flow
<a class=anchor href=#flow>#</a></h2><p><img src=assets/image-20240930100121889.png alt=image-20240930100121889></p><p><img src=assets/image-20241004110311589.png alt=image-20241004110311589></p><h3 id=floorplan>floorplan
<a class=anchor href=#floorplan>#</a></h3><h4 id=考虑因素>考虑因素
<a class=anchor href=#%e8%80%83%e8%99%91%e5%9b%a0%e7%b4%a0>#</a></h4><ul><li>封装形式</li><li>面积、绕通性、电源完整性、时序性能、功耗</li><li>Hard IP 使用需求</li></ul><p><img src=assets/image-20240930141615916.png alt=image-20240930141615916></p><h4 id=基础概念>基础概念
<a class=anchor href=#%e5%9f%ba%e7%a1%80%e6%a6%82%e5%bf%b5>#</a></h4><h5 id=box>Box
<a class=anchor href=#box>#</a></h5><p><img src=assets/image-20240930141500405.png alt=image-20240930141500405></p><p><strong>Die Box</strong>: 整个芯片区域</p><p><strong>Core Box</strong>: 标准单元和 IP 摆放单元</p><p><strong>IO Box</strong>: IO 单元摆放区域(红色与黄色之间)</p><p><strong>Core2IO Box</strong>: 隔离距离，电压隔离，ESD 保护，Core 电源环创建（绿色红色之间）</p><h5 id=site-row>site, row,
<a class=anchor href=#site-row>#</a></h5><p><img src=assets/image-20240930141709762.png alt=image-20240930141709762></p><p><img src=assets/image-20241002191542281.png alt=image-20241002191542281></p><h6 id=site最小布局单位>Site(最小布局单位)
<a class=anchor href=#site%e6%9c%80%e5%b0%8f%e5%b8%83%e5%b1%80%e5%8d%95%e4%bd%8d>#</a></h6><p><img src=assets/image-20241002191714370.png alt=image-20241002191714370></p><ul><li>SITE 的类别通常分为 core 和 pad，分别对应着 std cell 的 row 和 io cell 的 row。</li><li>SITE 的方向通常有 X，Y，R90 三个参数。X 代表可以沿 X 轴翻转，Y 代表可以沿 Y 轴翻转，R90 代表可以任意翻转。</li><li>SIZE 定义了 site 的宽度，通常 std cell 都是 site 的整数倍高度，宽度</li></ul><h6 id=rowstandardl0-cell-摆放位置>Row(Standard/l0 cell 摆放位置)
<a class=anchor href=#rowstandardl0-cell-%e6%91%86%e6%94%be%e4%bd%8d%e7%bd%ae>#</a></h6><p><img src=assets/image-20241002192323907.png alt=image-20241002192323907></p><ul><li>整数倍 Site</li><li>Row 也有自己的方向，如上图箭头所示，通常相邻的 row 会 abut 且 flip，这样相邻 site 可以 <strong>共用一根电源线</strong>，节省 Power 资源。</li><li>Row Cut 问题<ul><li>非整数倍 Row</li><li>低功耗设计</li></ul></li></ul><p><img src=assets/image-20241002193605284.png alt=image-20241002193605284></p><ul><li>所有 std cell 都必须 snap 到 row 上面，这是最基本的 place 规则</li></ul><p><img src=assets/image-20241002192638409.png alt=image-20241002192638409></p><ul><li>默认的 std cell 摆放方向遵从 Row 的方向，即方向箭头一致，但是根据 cell 本身的 symmetry，std cell 的摆放位置也可以有如上图所示的选择</li></ul><p><img src=assets/image-20241002192847064.png alt=image-20241002192847064></p><ul><li>实际 design 中，我们还能经常见到一些其他种类的 row。常见的有 double height，trible height 的 row，用来摆放两倍高，三倍高的 cell。</li><li>一般我们只允许创建整数倍高的 row，而在 Voltage island 中，我们允许创建非整数倍高的 Row，比如默认电压区域用的是 9T 单元，而在 Voltage island 中我们使用了 12T 的 cell，这时候就需要创建非整数倍高度的 row</li></ul><h5 id=endcap-welltap-decap>EndCap, WellTap, Decap
<a class=anchor href=#endcap-welltap-decap>#</a></h5><p>在后端物理设计中，除了与，非，或等一些常见的标准单元外，还有一些特殊的物理单元(physical cell)，它们通常 <strong>没有逻辑电路</strong>，不存在与 netlist 当中，但是对整个芯片的运行，稳定却起着举足轻重的作用。</p><h6 id=endcap>EndCap
<a class=anchor href=#endcap>#</a></h6><ul><li>也叫 boundary cell， 拐角单元</li><li>是一种特殊的标准单元。</li><li>作用是确保每个 nwell 都是 nwell enclosed，类似一个封闭环。主要加在 row 的结尾(两边都要加)，以及 memory 或者其他 block 的周围包边</li><li><img src=assets/image-20241002193847751.png alt=image-20241002193847751></li><li><img src=assets/image-20241002193923030.png alt=image-20241002193923030></li></ul><h6 id=welltap>WellTap
<a class=anchor href=#welltap>#</a></h6><ul><li><p>welltap 是只包含 well contact 的 cell，将衬底接到电源和地网络，避免衬底悬浮。主要防止 CMOS 器件的寄生闩锁效应(latch-up)</p></li><li><p>一般 tap cell 的作用范围是 30~40um, 即每隔 60um 左右放置一个 tap cell，具体的数据要参考艺商给的 document</p></li><li><p>well tap cell 一般交错摆放，类似棋盘分布。
<img src=assets/image-20241002194219100.png alt=image-20241002194219100></p></li></ul><h6 id=decap>Decap
<a class=anchor href=#decap>#</a></h6><ul><li>Decap cell，去耦单元，这是一种特殊的 <strong>Filler cell</strong>。</li><li>当电路中大量单元同时翻转时会导致冲放电瞬间电流增大，使得电路 <strong>动态供电电压下降</strong> 或地线电压升高，引起动态电压降俗称 <strong>IR-drop</strong>。为了避免 IR-drop 对电路性能的影响，通常在电源和地线之间放置 <strong>由 MOS 管构成的电容</strong>，这种电容被称为去耦电容或者去耦单元，它的作用是在瞬态电流增大，电压下降时向电路补充电流以保持电源和地线之间的电压稳定，防止电源线的电压降和地线电压的升高。</li></ul><h5 id=filler>Filler
<a class=anchor href=#filler>#</a></h5><p>缓解 dynamic IR drop, eco</p><ul><li><p>通常是单元库中与逻辑无关的填充物</p></li><li><p>可以分为 I/O filler(pad filler)以及普通的 standard cell filler.</p></li><li><p><strong>pad filer</strong>，通常是用来填充 I/O 单元与 I/O 单元之间的空隙。为了更好的完成 power ring，也就是 ESD 之间的电源连接。通常是在 Floorplan 阶段时添加。</p><p><img src=assets/image-20241002200454998.png alt=image-20241002200454998></p></li><li><p><strong>standard cell filler</strong>, 也是为了填充 std cell 之间的空隙。主要是为了满足 DRC 规则和设计需求，并形成 power rails。这个在 route 之前，之后加都可以。</p><p><img src=assets/image-20241002200509231.png alt=image-20241002200509231></p></li><li><p><strong>Decap cell，去耦单元</strong>，这是一种特殊的 <strong>Filler cell</strong>。</p><ul><li><p>当电路中大量单元同时翻转时会导致冲放电瞬间电流增大，使得电路 <strong>动态供电电压下降</strong> 或地线电压升高，引起动态电压降俗称 <strong>IR-drop</strong>。为了避免 IR-drop 对电路性能的影响，通常在电源和地线之间放置 <strong>由 MOS 管构成的电容</strong>，这种电容被称为去耦电容或者去耦单元，它的作用是在瞬态电流增大，电压下降时向电路补充电流以保持电源和地线之间的电压稳定，防止电源线的电压降和地线电压的升高。</p></li><li><p>需要注意的是 Decap cell 是 <strong>带有 metal 层</strong> 的，为了不影响工具 routing resource，一般建议是最后 <strong>routing 全部结束后再加</strong>，加完之后再添加普通的不带 metal 的 filer.</p></li></ul></li></ul><h5 id=hard-ip><strong>hard IP</strong>
<a class=anchor href=#hard-ip>#</a></h5><ul><li><p>hard IP 就是 macro</p></li><li><p>macro 有自己 <strong>单独的 lef 文件</strong>， 定义形状，pin 信息等等</p></li><li><p>hard IP 一般有：SRAM/DDR/PLL/AD/DA</p><p><img src=assets/image-20240930143754210.png alt=image-20240930143754210></p></li><li><p>常用原则</p><ul><li>Macro 一般摆放在芯片或模块(block)边缘</li><li>Macro 摆放时尽量缩短与其通信的 10 或 Macro 的距离</li><li>Macro 摆放时尽量缩短其 pins 与 standard cell 谡辑的距离</li><li>Macro 之间留够安全距离</li><li>重视 macro 之间的 channel，可以 abut 尽量 abut, channel 中在 place 时根据需求加入 soft blockage</li><li>标准单元区域尽量保持连续，不要产生小宽度的 channel; 长宽比接近 1</li></ul></li></ul><h5 id=backbox>backbox
<a class=anchor href=#backbox>#</a></h5><p>BlackBox 类似于一个 HardMacro，它内部的东西完全看不见，只是一个黑盒子，但是它又类似于一个 ModuleBoundary。它可以被改变形状，而且它可以被分配 pin 和被分割出去(partition)。如下图所示，灰色的形状就是 Black Box。</p><p><img src=assets/image-20241002194534751.png alt=image-20241002194534751></p><p>BlackBox 是一种较为粗糙的模型，由于它看不见里面的东西，这样的结构使得它做任何 implementation 速度都很快，取而代之的精准度就会相对较低</p><h5 id=track-pitch>track, pitch
<a class=anchor href=#track-pitch>#</a></h5><h6 id=track>track
<a class=anchor href=#track>#</a></h6><ul><li>走线轨道，信号线通常在 track 上</li><li>可以约束走线的方向</li><li>Std Cell 的高度通常用 metal2 track pitch 来表示，常用的 std cell 库有 7T/9T /12T，就是以 track 来区分的， 9T 就是说 std cell 的高度范围内可以走九条线，所以一般来讲， 7Tcell 的 size 最小， 9T cell 的 size 稍大。</li><li>布线时，往往第一层一般是水平，第二层垂直，相互交替</li></ul><p>.lef 中定义如下，举例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>LAYER M1
</span></span><span style=display:flex><span>TYPE ROUTING <span style=color:#66d9ef>;</span><span style=color:#75715e>#TYPE ROUTING代表这是一层走线层，我们还有其他的type包括Implant, Masterslice等.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>DIRECTION VERTICAL <span style=color:#66d9ef>;</span> <span style=color:#75715e>#DIRECTION代表这层Metal prefer走线方向，这边值得注意的是，每层track会分为pref track和non pref track。pref track就是这层layer上主流的走线方向，那剩下的non pref track就是非主流方向。因此上述例子中的主流走线方向就是vertical(纵向)，非主流就是横向(honrizontal)。通常。走non-pref track的wire会比较宽，这样就比较占用绕线资源。所以，一般不推荐使用non-pref track。特别是在先进工艺的设计中，绕线资源极其紧张，一般很少用到non-pref track.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>PITCH <span style=color:#ae81ff>0.090</span> <span style=color:#ae81ff>0.064</span> <span style=color:#960050;background-color:#1e0010>#</span>track之间的间距<span style=color:#960050;background-color:#1e0010>，</span>垂直方向间距是0.09<span style=color:#960050;background-color:#1e0010>，</span>水平方向是0.064.
</span></span><span style=display:flex><span>OFFSET <span style=color:#ae81ff>0.000</span> <span style=color:#ae81ff>0.000</span> <span style=color:#960050;background-color:#1e0010>#</span>第一条track偏离起始点的举例
</span></span><span style=display:flex><span>MAXWIDTH <span style=color:#ae81ff>2</span><span style=color:#66d9ef>;</span> <span style=color:#75715e>#WIDTH就代表默认这层layer上wire的宽度？MAXWIDTH就代表最高不能超过多少width
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>WIDTH <span style=color:#ae81ff>0.032</span><span style=color:#66d9ef>;</span>
</span></span></code></pre></div><p><img src=assets/image-20240930142548304.png alt=image-20240930142548304></p><h5 id=grid><strong>Grid</strong>
<a class=anchor href=#grid>#</a></h5><ul><li>Litho Grid，中文名，光刻格点。又被称为制造单元格点，这是 <strong>最基本的网格单元</strong>，任何元件都要对 Litho Grid 上，不然就无法被制造</li><li>它定义在 design 的 <strong>technology LEF</strong>. e.g.: <code>MANUFACTURINGGRID 0.001;</code>. 这就代表着改设计的制造单元格点间距为 0.001, 起始点是 Die Box 的 lower left 角上</li></ul><p><img src=assets/image-20240930142930084.png alt=image-20240930142930084></p><h5 id=blockage-halo>Blockage, halo
<a class=anchor href=#blockage-halo>#</a></h5><p><img src=assets/image-20240930143227587.png alt=image-20240930143227587></p><h5 id=net-wire>Net, Wire
<a class=anchor href=#net-wire>#</a></h5><h6 id=net>Net
<a class=anchor href=#net>#</a></h6><ul><li>线网，也就是 Verilog 里的 wire(还有 tri、wor、trior、wand、triand、trireg、tri1、tri0、supply0、supply1)</li></ul><p>Wire</p><ul><li>后端工具中的 wire 指的是 net 的 <strong>物理化概念</strong></li><li>每一条 net 在后端工具里面是由许多小段的 wire 组成，每一小段 wire 我们称之为 wire segment.</li><li>wire 按照类型可以分为 Regular Wire(信号线)，Special Wire(电源线)，Patch Wire(补丁线)。<ul><li>Regular Wire 就是我们平常见到的信号连线，连接各个 Siqnal Pin 的金属线段。每层金属层上的 Regular wire 默认的宽度都是一样的。</li><li>Special Wire 就是电源接地线，平常我们所见到的 power ring，stripes，power rail 等都是 Special Wire。<strong>一般用高层金属走线.</strong></li><li>Patch Wire，我们称之为补丁线。这是先进工艺中的一种走线，用于修复 Min Area，MinStep 等 DRC，不属于任何 net。</li></ul></li></ul><h5 id=pin>Pin
<a class=anchor href=#pin>#</a></h5><ul><li><p>引脚</p></li><li><p>分为 Instance Pin, I/O Pin, Physical Pin, Partition Pin:</p><ul><li><p>Instance Pin: cell 的 pin</p></li><li><p>I/O Pin: 模块输入输出，也叫 IO port</p><p><img src=assets/image-20241002204352530.png alt=image-20241002204352530></p></li><li><p>Physical Pin: Physical Pin 是 IO pin 具体物理化的信息，该引脚用于底层模块与上层模块拼接时的接口，类似一个纽扣一样，定义模块走线的起点和终点。它也是有具体的金属层参数信息，和普通 wire 一样。</p><p><img src=assets/image-20241002204357609.png alt=image-20241002204357609></p></li><li><p>Partition Pin: 切分模块的引脚。用于在顶层模块未切分时，定义 physical pin 的位置，这个阶段的 physical pin，我们称之为 partition pin。和 Physical Pin 一样，他具有实际的金属层参数信息。</p><p><img src=assets/image-20241002204339153.png alt=image-20241002204339153></p></li></ul></li></ul><h3 id=placement>placement
<a class=anchor href=#placement>#</a></h3><p><img src=assets/image-20241005160434746.png alt=image-20241005160434746></p><p>摆放标准单元，同时满足各种 constraint</p><p>会删掉综合后加入的 buffer</p><h4 id=基础概念-1>基础概念
<a class=anchor href=#%e5%9f%ba%e7%a1%80%e6%a6%82%e5%bf%b5-1>#</a></h4><ul><li><p>Tie High/Low</p><p>电压转换</p><p>尺寸越小越重要，静电</p></li><li><p>Global/Detail Place</p><p>Detail 是把 Global 后的单元放到网格上同时满足 constraint 要求</p></li><li><p>drv</p></li><li><p>hvt 和 lvt</p><ol><li><strong>HVT (High Voltage Threshold)</strong>：高电压阈值晶体管。这类单元库的特点是它们的阈值电压较高，因此它们在泄漏电流（leakage current）方面表现较好，也就是说 <strong>在静态功耗方面比较低。但是，它们的开关速度较慢</strong>，因此在性能（speed）方面不如低阈值电压的单元库。HVT 单元库通常用于对功耗要求较高的场合，但对性能要求不是非常高的地方。</li><li><strong>LVT (Low Voltage Threshold)</strong>：低电压阈值晶体管。与 HVT 相反，LVT 单元库的阈值电压较低，这使得它们在开关速度上更快，因此性能较高。但是，这种速度的提升是以增加泄漏电流为代价的，也就是说它们的静态功耗较高。LVT 单元库通常用于对性能要求较高的设计中。</li></ol></li></ul><h3 id=cts>CTS
<a class=anchor href=#cts>#</a></h3><p>placement 后的 clock tree 是理想的（没有延时）</p><p>主要的行为是插入 buffer/inverter</p><p>希望到同一级（流水线的级？）的时钟 delay 是一致的</p><p>如果有不同 clock，也要考虑 clock 之间的影响</p><p>innouvs 的 CTS 工具叫 ccopt</p><p>评价指标：(latency (insertion delay), skew, clock power, clock em, long common path(cppr), duty cycle)</p><h4 id=基本概念>基本概念
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5>#</a></h4><h3 id=route>route
<a class=anchor href=#route>#</a></h3><p>三个步骤：global route, track assignment（分配 global route 的 track 给对应的 net）, detail route</p><h4 id=基本知识>基本知识
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e7%9f%a5%e8%af%86>#</a></h4><h5 id=nano>nano
<a class=anchor href=#nano>#</a></h5><h5 id=si>SI
<a class=anchor href=#si>#</a></h5><h5 id=antenna>Antenna
<a class=anchor href=#antenna>#</a></h5><h5 id=eco-route>eco route
<a class=anchor href=#eco-route>#</a></h5><p>工艺制造，栅极放电破坏</p><p>signoff 的时候会检查这个问题，工具会加上</p><p>连接到栅极的面积不要太大</p><h3 id=sign-off>sign off
<a class=anchor href=#sign-off>#</a></h3><h4 id=基本知识-1>基本知识
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e7%9f%a5%e8%af%86-1>#</a></h4><h5 id=mode>mode
<a class=anchor href=#mode>#</a></h5><h6 id=function>function
<a class=anchor href=#function>#</a></h6><ul><li>最常见</li><li>标准时序约束模式</li></ul><h6 id=scan-shift>Scan shift
<a class=anchor href=#scan-shift>#</a></h6><ul><li>移位扫描模式</li><li>由于芯片内部是个黑盒子，在外部难以控制。我们将芯片中的所应用的普通寄存器替换成带有扫描功能的扫描寄存器，首尾相连成串，从而可以实现附加的测试功能，这就是 Scan chain 的概念。下图一就是扫描寄存器，下图二就是将扫描寄存器串起来的 Scan Chain
<img src=assets/image-20241002202752859.png alt=image-20241002202752859></li><li><img src=assets/image-20241002202818164.png alt=image-20241002202818164></li></ul><h6 id=capture>Capture
<a class=anchor href=#capture>#</a></h6><ul><li>也叫 Stuck-at 模式</li><li>DC 模式：主要检查我们平时常见的 stuckat 0/1 错误。比如下图中的 inverter A 端如果被接到了 VSS 端的话，就是一个 stuck at 1 的 fault
<img src=assets/image-20241002203035446.png alt=image-20241002203035446></li></ul><h6 id=asst>ASST
<a class=anchor href=#asst>#</a></h6><p><img src=assets/image-20241002203206577.png alt=image-20241002203206577></p><h6 id=at-speed-mbist>At Speed MBIST
<a class=anchor href=#at-speed-mbist>#</a></h6><p><img src=assets/image-20241002203408688.png alt=image-20241002203408688></p><h6 id=boundary-scan>Boundary Scan
<a class=anchor href=#boundary-scan>#</a></h6><p><img src=assets/image-20241002203430961.png alt=image-20241002203430961></p><h2 id=common-command>common command
<a class=anchor href=#common-command>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#gui
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>innovus <span style=color:#f92672>-</span>no_gui
</span></span><span style=display:flex><span>win<span style=color:#f92672>/</span>win_off <span style=color:#960050;background-color:#1e0010>#</span>gui 开关 win_off用不了<span style=color:#960050;background-color:#1e0010>？</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#run
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>innovus <span style=color:#f92672>-</span>init init.tcl
</span></span><span style=display:flex><span>source xxx.tcl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>dbGet top.insts.name
</span></span><span style=display:flex><span>selectInst xxx_insts_name
</span></span><span style=display:flex><span>dbGet selected.pgInstTerms.name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#kill
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>ps <span style=color:#f92672>-</span>ef <span style=color:#f92672>|</span> grep innovus
</span></span><span style=display:flex><span>killall <span style=color:#f92672>-</span><span style=color:#ae81ff>9</span> innovus
</span></span></code></pre></div><h2 id=实战-c>实战 c
<a class=anchor href=#%e5%ae%9e%e6%88%98-c>#</a></h2><h3 id=0_所需文件>0_所需文件：
<a class=anchor href=#0_%e6%89%80%e9%9c%80%e6%96%87%e4%bb%b6>#</a></h3><ul><li><p>netlist</p></li><li><p>tech_lef, cell_lef(standard cell, io, ip(ram))</p></li><li><p>pex_tech(best, worst, typ_qrcTechFile)</p></li><li><p>mmmc.viewDefinition.tcl</p><p><img src=assets/image-20240930121217225.png alt=image-20240930121217225></p><ul><li><p>library_set</p><ul><li>fast standard cell&rsquo;s .lib, ip&rsquo;s .lib</li><li>slow standard cell&rsquo;s .lib, ip&rsquo;s .lib</li></ul></li><li><p>rc corner</p><ul><li>best/worst qrcTechFile(unreadable)</li><li><img src=assets/image-20240930172333729.png alt=image-20240930172333729></li></ul></li><li><p>delay_corner</p><p><img src=assets/image-20240930172420305.png alt=image-20240930172420305></p></li><li><p>constraint_mode</p><p>config sdc_file</p></li><li><p>analysis_view</p><p><img src=assets/image-20240930173206702.png alt=image-20240930173206702></p></li></ul></li></ul><h3 id=1_数据初始化>1_数据初始化
<a class=anchor href=#1_%e6%95%b0%e6%8d%ae%e5%88%9d%e5%a7%8b%e5%8c%96>#</a></h3><ul><li><p>设置 netlist</p></li><li><p>tech_lef，cell_lef</p></li><li><p>pex_tech</p></li><li><p>set scenarios</p><p><img src=assets/image-20240930160834663.png alt=image-20240930160834663></p></li><li><p>set cell type</p><p><img src=assets/image-20240930160845601.png alt=image-20240930160845601></p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>##############################################################
</span></span></span><span style=display:flex><span><span style=color:#75715e># Common design settings
</span></span></span><span style=display:flex><span><span style=color:#75715e># Created by Yanfuti
</span></span></span><span style=display:flex><span><span style=color:#75715e>##############################################################
</span></span></span><span style=display:flex><span><span style=color:#75715e>### design information
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> design <span style=color:#e6db74>&#34;leon&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### design data directory
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> project_root    <span style=color:#e6db74>&#34;..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> library_root 	<span style=color:#e6db74>&#34;~/BackEnd/innovus_learn/library&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> reports_root    <span style=color:#e6db74>&#34;${project_root}/reports&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### gate level netlist files
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> import_netlists     <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>lappend import_netlists <span style=color:#e6db74>&#34;${project_root}/netlist/post_syn_netlist/${design}.vnet.gz&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>### SDC files
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>### tech lef
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> tech_lef <span style=color:#e6db74>&#34;${library_root}/tlef/gsclib045_tech.lef&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### library files
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> cell_lef <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/gsclib045_hvt_macro.lef&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/gsclib045_macro.lef&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/MEM1_256X32.lef&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/MEM2_128X32.lef&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/pdkIO.lef&#34;</span>
</span></span><span style=display:flex><span>lappend lef_files <span style=color:#e6db74>&#34;${library_root}/lef/pads.lef&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### PEX tech
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> qrc_tech<span style=color:#66d9ef>(</span>rcbest<span style=color:#66d9ef>)</span>        <span style=color:#e6db74>&#34;${library_root}/tech/qrc/rcbest/qrcTechFile&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> qrc_tech<span style=color:#66d9ef>(</span>rcworst<span style=color:#66d9ef>)</span>       <span style=color:#e6db74>&#34;${library_root}/tech/qrc/rcworst/qrcTechFile&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> qrc_tech<span style=color:#66d9ef>(</span>typical<span style=color:#66d9ef>)</span>       <span style=color:#e6db74>&#34;${library_root}/tech/qrc/typical/qrcTechFile&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### view (scenarios) of each step
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> default_scenarios  <span style=color:#e6db74>&#34;func_slow_rcworst&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> placeopt_scenarios <span style=color:#e6db74>&#34;func_slow_rcworst&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> cts_scenarios      <span style=color:#e6db74>&#34;cts_slow_rcworst&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> clockopt_scenarios <span style=color:#e6db74>&#34;func_slow_rcworst func_fast_rcbest&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> routeopt_scenarios <span style=color:#e6db74>&#34;func_slow_rcworst func_fast_rcbest&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### cells type settings
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> fillers_ref     <span style=color:#e6db74>&#34;FILL1 FILL16 FILL2 FILL32 FILL4 FILL64 FILL8&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> welltap_ref     <span style=color:#e6db74>&#34;DECAP8&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>##############################################################
</span></span></span><span style=display:flex><span><span style=color:#75715e># END
</span></span></span><span style=display:flex><span><span style=color:#75715e>##############################################################
</span></span></span></code></pre></div><h3 id=2_import>2_import
<a class=anchor href=#2_import>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#66d9ef>set</span> init_top_cell $design  <span style=color:#960050;background-color:#1e0010>#</span>给该design赋一个名字
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> init_verilog $import_netlists <span style=color:#960050;background-color:#1e0010>#</span>设置verilog文件的路径
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> init_lef_file <span style=color:#66d9ef>[</span>concat $tech_lef $lef_files<span style=color:#66d9ef>]</span> <span style=color:#960050;background-color:#1e0010>#</span>设置lef file的路径
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> init_pwr_net <span style=color:#e6db74>&#34;VDD&#34;</span> <span style=color:#960050;background-color:#1e0010>#</span>表示初始电源网络的标识符或名称
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> init_gnd_net <span style=color:#e6db74>&#34;VSS&#34;</span> <span style=color:#960050;background-color:#1e0010>#</span>表示初始接地网络的标识符或名称
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> init_mmmc_file <span style=color:#e6db74>&#34;../viewDefinition.tcl&#34;</span> <span style=color:#960050;background-color:#1e0010>#</span>设置mmmc文件的路径
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setImportMode <span style=color:#f92672>-</span>keepEmptyModule true  <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>-</span>keepEmptyModule是一个命令的参数<span style=color:#960050;background-color:#1e0010>，</span>它指定是否在导入设计时保留空的模块<span style=color:#960050;background-color:#1e0010>，</span>空的模块<span style=color:#960050;background-color:#1e0010>，</span>顾名思义<span style=color:#960050;background-color:#1e0010>，</span>没有任何内容<span style=color:#960050;background-color:#1e0010>（</span>如实例化<span style=color:#960050;background-color:#1e0010>，</span>信号<span style=color:#960050;background-color:#1e0010>，</span>逻辑<span style=color:#960050;background-color:#1e0010>，</span>声明等<span style=color:#960050;background-color:#1e0010>）</span>的模块<span style=color:#960050;background-color:#1e0010>。</span>通过保留这些模块<span style=color:#960050;background-color:#1e0010>，</span>可以确保设计的层次结构不变<span style=color:#960050;background-color:#1e0010>，</span>方便后续的设计迭代与调试<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### read design
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>init_design       <span style=color:#960050;background-color:#1e0010>#</span>开始导入设计
</span></span><span style=display:flex><span>setIoFlowFlag <span style=color:#ae81ff>0</span>  <span style=color:#960050;background-color:#1e0010>#</span>此内容可以先忽略
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### connect pg (pg--power ground)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>globalNetConnect $init_pwr_net <span style=color:#f92672>-</span>type pgpin <span style=color:#f92672>-</span>pin VDD <span style=color:#f92672>-</span>all  <span style=color:#960050;background-color:#1e0010>#</span>globalNetConnect<span style=color:#960050;background-color:#1e0010>，</span>用于连接全局网络也就是用于定义全局电源<span style=color:#960050;background-color:#1e0010>（</span>Power<span style=color:#960050;background-color:#1e0010>）</span>和地<span style=color:#960050;background-color:#1e0010>（</span>Ground<span style=color:#960050;background-color:#1e0010>）</span>连接<span style=color:#960050;background-color:#1e0010>。</span>在后端设计阶段<span style=color:#960050;background-color:#1e0010>，</span>需要明确的定义电源和地如何连接到各个模块和单元<span style=color:#960050;background-color:#1e0010>。</span>$init_pwr_net 是一个变量<span style=color:#960050;background-color:#1e0010>，</span>表示初始电源网络的名称<span style=color:#960050;background-color:#1e0010>，</span>此处等价于VDD<span style=color:#960050;background-color:#1e0010>，</span><span style=color:#f92672>-</span>type 是指定连接的类型是电源<span style=color:#f92672>/</span>地引脚<span style=color:#960050;background-color:#1e0010>（</span>pgpin<span style=color:#960050;background-color:#1e0010>）</span><span style=color:#f92672>-------</span>pgpin<span style=color:#960050;background-color:#1e0010>（</span>power ground pin<span style=color:#960050;background-color:#1e0010>），</span><span style=color:#f92672>-</span>pin VDD<span style=color:#960050;background-color:#1e0010>，</span>这是另一个参数<span style=color:#960050;background-color:#1e0010>，</span>用于指定连接的引脚名称或标识符<span style=color:#960050;background-color:#1e0010>，</span>这里是指定连接到电源引脚<span style=color:#960050;background-color:#1e0010>，</span>也就是要将$init_pwr_net 连接到所有名为VDD的引脚上<span style=color:#960050;background-color:#1e0010>，</span><span style=color:#f92672>-</span>all 表示该连接适用于设计中的所有实例<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>globalNetConnect $init_gnd_net <span style=color:#f92672>-</span>type pgpin <span style=color:#f92672>-</span>pin VSS <span style=color:#f92672>-</span>all <span style=color:#960050;background-color:#1e0010>#</span>同上<span style=color:#960050;background-color:#1e0010>，</span>这里不挨个解释<span style=color:#960050;background-color:#1e0010>，</span>综合说明一下<span style=color:#960050;background-color:#1e0010>，</span>也可看作是上一条的总结<span style=color:#960050;background-color:#1e0010>：</span>将变量$init_pwr_net<span style=color:#960050;background-color:#1e0010>（</span>通常是表示某个电源网络<span style=color:#960050;background-color:#1e0010>，</span>例如 VSS<span style=color:#960050;background-color:#1e0010>）</span>连接到设计中所有单元和模块中的 VSS 引脚<span style=color:#960050;background-color:#1e0010>。</span>这种全局连接是为了确保设计中的所有模块和单元都能正确地连接到电源网络<span style=color:#960050;background-color:#1e0010>，</span>确保电源供给的一致性和可靠性<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### save design
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>file delete <span style=color:#f92672>-</span>force <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>data_dir<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>current_step<span style=color:#66d9ef>}</span>.enc<span style=color:#f92672>*</span> <span style=color:#960050;background-color:#1e0010>#</span>保存设计之前把该路径下存在的.enc文件全部删除
</span></span><span style=display:flex><span>saveDesign <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>data_dir<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>current_step<span style=color:#66d9ef>}</span>.enc <span style=color:#960050;background-color:#1e0010>#</span>saveDesign命令<span style=color:#960050;background-color:#1e0010>，</span>用于保存设计<span style=color:#960050;background-color:#1e0010>，</span>其后接的是保存设计的文件路径
</span></span></code></pre></div><p><img src=assets/image-20240930191541624.png alt=image-20240930191541624></p><p><img src=assets/image-20240930212733953.png alt=image-20240930212733953></p><p><strong>mmmc(viewDefinition.tcl)</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>  <span style=color:#75715e>### library set (-aocv or lvf, spatial socv)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>create_library_set <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;fast&#34;</span> <span style=color:#f92672>-</span>timing<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>list <span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>fast_vdd1v2_basicCells.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>fast_vdd1v2_basicCells_hvt.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>MEM1_256X32_slow.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>MEM2_128X32_slow.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>create_library_set <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;slow&#34;</span> <span style=color:#f92672>-</span>timing<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>list <span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>slow_vdd1v0_basicCells.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>slow_vdd1v0_basicCells_hvt.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>MEM1_256X32_slow.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>liberty<span style=color:#f92672>/</span>MEM2_128X32_slow.lib<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### rc corner
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>create_rc_corner <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;rc_best&#34;</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_res <span style=color:#ae81ff>1.34236</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_res <span style=color:#ae81ff>1.34236</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_cap <span style=color:#ae81ff>1.10066</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_cap <span style=color:#ae81ff>0.960235</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_xcap <span style=color:#ae81ff>1.22327</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_clkres <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_clkcap <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_clkcap <span style=color:#66d9ef>{</span>0.969117 <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span><span style=color:#66d9ef>}</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -T <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -qx_tech_file <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>tech<span style=color:#f92672>/</span>qrc<span style=color:#f92672>/</span>rcbest<span style=color:#f92672>/</span>qrcTechFile
</span></span><span style=display:flex><span>create_rc_corner <span style=color:#f92672>-</span>name <span style=color:#e6db74>&#34;rc_worst&#34;</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_res <span style=color:#ae81ff>1.34236</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_res <span style=color:#ae81ff>1.34236</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_cap <span style=color:#ae81ff>1.10066</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_cap <span style=color:#ae81ff>0.960234</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_xcap <span style=color:#ae81ff>1.22327</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_clkres <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -preRoute_clkcap <span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -postRoute_clkcap <span style=color:#66d9ef>{</span>0.969117 <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span><span style=color:#66d9ef>}</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -T <span style=color:#ae81ff>125</span><span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -qx_tech_file <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>library_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>tech<span style=color:#f92672>/</span>qrc<span style=color:#f92672>/</span>rcworst<span style=color:#f92672>/</span>qrcTechFile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### delay corner for each pvt (process voltage temperature) : library set + rc corner
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>create_delay_corner <span style=color:#f92672>-</span>name slow_rcworst<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -library_set slow<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -rc_corner rc_worst
</span></span><span style=display:flex><span>create_delay_corner <span style=color:#f92672>-</span>name fast_rcbest<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -library_set fast<span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -rc_corner rc_best
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### mode : (func + shift + capture)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#一般对不同情况有多个sdc文件，比如现在有两种delay_corner,就可以写两个，不过现在只有一个现成的sdc文件所以只写一个
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>create_constraint_mode <span style=color:#f92672>-</span>name functional <span style=color:#960050;background-color:#1e0010>\</span>
</span></span><span style=display:flex><span>    -sdc_files <span style=color:#66d9ef>[</span>list <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>sdc_file<span style=color:#66d9ef>}]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### define view (mode + delay corner)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>create_analysis_view <span style=color:#f92672>-</span>name func_slow_rcworst <span style=color:#f92672>-</span>constraint_mode functional <span style=color:#f92672>-</span>delay_corner slow_rcworst
</span></span><span style=display:flex><span>create_analysis_view <span style=color:#f92672>-</span>name func_fast_rcbest  <span style=color:#f92672>-</span>constraint_mode functional <span style=color:#f92672>-</span>delay_corner fast_rcbest
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### set analysis view status
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set_analysis_view <span style=color:#f92672>-</span>setup <span style=color:#66d9ef>[</span>list func_slow_rcworst<span style=color:#66d9ef>]</span> <span style=color:#f92672>-</span>hold <span style=color:#66d9ef>[</span>list func_fast_rcbest<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span></code></pre></div><h3 id=3_floorplan>3_floorPlan
<a class=anchor href=#3_floorplan>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>floorPlan <span style=color:#f92672>-</span>site CoreSite <span style=color:#f92672>-</span>d <span style=color:#ae81ff>930</span> <span style=color:#ae81ff>600.28</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1.71</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1.71</span> <span style=color:#f92672>-</span>fplanOrigin llcorner	<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>-</span>d <span style=color:#f92672>&lt;</span>W H Left Bottom Right Top<span style=color:#f92672>&gt;</span> 得到的是Die size<span style=color:#66d9ef>;</span> -s 得到的是Core size<span style=color:#66d9ef>;</span>  <span style=color:#75715e>#-fplanOrigin llcorner 设置原点坐标
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#手动放置marco: shift+r进入移动模式，选中后移动marco
</span></span></span></code></pre></div><p>对齐，移动：用 ctrl 选择多个 macro</p><p><img src=assets/image-20240930213040045.png alt=image-20240930213040045></p><p>导出位置 tcl 文件，方便下次自动化：</p><p><strong>注意！这部分要手工！！</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>1.
</span></span><span style=display:flex><span>选中macrof
</span></span><span style=display:flex><span>2.
</span></span><span style=display:flex><span>writeFPlanScript <span style=color:#f92672>-</span>selected <span style=color:#f92672>-</span>fileName <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>project_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>scripts<span style=color:#f92672>/</span>macro_placement.tcl
</span></span><span style=display:flex><span>3.
</span></span><span style=display:flex><span>source <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>project_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>scripts<span style=color:#f92672>/</span>macro_placement.tcl 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#fix macro
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>dbGet top.insts.cell.subClass block
</span></span><span style=display:flex><span>dbGet <span style=color:#66d9ef>[</span>dbGet top.insts.cell.subClass block <span style=color:#f92672>-</span>p2<span style=color:#66d9ef>]</span>.name
</span></span><span style=display:flex><span>dbSet <span style=color:#66d9ef>[</span>dbGet top.insts.cell.subClass block <span style=color:#f92672>-</span>p2<span style=color:#66d9ef>]</span>.pStatus fixed
</span></span></code></pre></div><p><img src=assets/image-20240930214122673.png alt=image-20240930214122673></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>### create placement and routing halo around hard macros (instance name vs cell name, and reference name)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> halo_left   <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> halo_right  <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> halo_top    <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> halo_bottom <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> rhalo_space <span style=color:#ae81ff>2.0</span>
</span></span><span style=display:flex><span>deleteHaloFromBlock <span style=color:#f92672>-</span>allBlock 
</span></span><span style=display:flex><span>deleteRoutingHalo <span style=color:#f92672>-</span>allBlocks
</span></span><span style=display:flex><span><span style=color:#75715e>#addHaloToBlock $halo_left $halo_bottom $halo_right $halo_top -allBlock
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>foreach</span> macro <span style=color:#66d9ef>[</span>dbGet <span style=color:#66d9ef>[</span>dbGet top.insts.cell.subClass block <span style=color:#f92672>-</span>p2<span style=color:#66d9ef>]</span>.name<span style=color:#66d9ef>]</span> <span style=color:#66d9ef>{</span>
</span></span><span style=display:flex><span>    addHaloToBlock $halo_left $halo_bottom $halo_right $halo_top $macro
</span></span><span style=display:flex><span>    addRoutingHalo <span style=color:#f92672>-</span>space $rhalo_space <span style=color:#f92672>-</span>top Metal11 <span style=color:#f92672>-</span>bottom Metal1 <span style=color:#f92672>-</span>inst $macro
</span></span><span style=display:flex><span><span style=color:#66d9ef>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>### place ports
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> input_ports <span style=color:#66d9ef>[</span>dbGet <span style=color:#66d9ef>[</span>dbGet top.terms.direction input <span style=color:#f92672>-</span>p<span style=color:#66d9ef>]</span>.name<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>editPin <span style=color:#f92672>-</span>pinWidth <span style=color:#ae81ff>0.08</span> <span style=color:#f92672>-</span>pinDepth <span style=color:#ae81ff>0.32</span> <span style=color:#f92672>-</span>fixOverlap <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span>unit TRACK <span style=color:#f92672>-</span>spreadDirection clockwise <span style=color:#f92672>-</span>layer <span style=color:#ae81ff>5</span> <span style=color:#f92672>-</span>spreadType START <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>4</span> <span style=color:#f92672>-</span>start <span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>200</span> <span style=color:#f92672>-</span>pin $input_ports <span style=color:#f92672>-</span>fixedPin <span style=color:#f92672>-</span>side LEFT
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> output_ports <span style=color:#66d9ef>[</span>dbGet <span style=color:#66d9ef>[</span>dbGet top.terms.direction output <span style=color:#f92672>-</span>p<span style=color:#66d9ef>]</span>.name<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>editPin <span style=color:#f92672>-</span>pinWidth <span style=color:#ae81ff>0.08</span> <span style=color:#f92672>-</span>pinDepth <span style=color:#ae81ff>0.32</span> <span style=color:#f92672>-</span>fixOverlap <span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span>unit TRACK <span style=color:#f92672>-</span>spreadDirection counterclockwise <span style=color:#f92672>-</span>layer <span style=color:#ae81ff>5</span> <span style=color:#f92672>-</span>spreadType START <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>4</span> <span style=color:#f92672>-</span>start <span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>200</span> <span style=color:#f92672>-</span>pin $output_ports <span style=color:#f92672>-</span>fixedPin <span style=color:#f92672>-</span>side RIGHT
</span></span><span style=display:flex><span>dbSet top.terms.pStatus fixed
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#放置blockage
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>2.
</span></span><span style=display:flex><span>writeFPlanScript <span style=color:#f92672>-</span>selected <span style=color:#f92672>-</span>fileName <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>project_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>scripts<span style=color:#f92672>/</span>blockage_placement.tcl
</span></span><span style=display:flex><span>3.
</span></span><span style=display:flex><span>source <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>project_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>scripts<span style=color:#f92672>/</span>blockage_placement.tcl 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#一些endcap, welltap
</span></span></span><span style=display:flex><span><span style=color:#75715e>### insert boundary cells (endcap)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> endcap_prefix   <span style=color:#e6db74>&#34;ENDCAP&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> endcap_left     <span style=color:#e6db74>&#34;FILL2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> endcap_right    <span style=color:#e6db74>&#34;FILL2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> endcap_top      <span style=color:#e6db74>&#34;FILL1&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>set</span> endcap_bottom   <span style=color:#e6db74>&#34;FILL1&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>deleteFiller <span style=color:#f92672>-</span>prefix $endcap_prefix
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>reset
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>topEdge $endcap_top
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>bottomEdge $endcap_bottom
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>leftEdge $endcap_left
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>rightEdge $endcap_left
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>leftBottomCorner $endcap_bottom
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>leftTopCorner $endcap_top
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>rightBottomCorner $endcap_bottom
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>rightTopCorner $endcap_top
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>leftBottomEdge $endcap_left
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>leftTopEdge $endcap_left
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>rightBottomEdge $endcap_right
</span></span><span style=display:flex><span>setEndCapMode <span style=color:#f92672>-</span>rightTopEdge $endcap_right
</span></span><span style=display:flex><span>addEndCap <span style=color:#f92672>-</span>prefix $endcap_prefix
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### create well tap cells (fix latch up)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> welltap_prefix   <span style=color:#e6db74>&#34;WELLTAP&#34;</span>
</span></span><span style=display:flex><span>deleteFiller <span style=color:#f92672>-</span>prefix $welltap_prefix
</span></span><span style=display:flex><span>addWellTap <span style=color:#f92672>-</span>prefix $welltap_prefix <span style=color:#f92672>-</span>cell $welltap_ref <span style=color:#f92672>-</span>cellInterval <span style=color:#ae81ff>70</span> <span style=color:#f92672>-</span>checkerBoard
</span></span></code></pre></div><h3 id=4_powerplan>4_powerPlan
<a class=anchor href=#4_powerplan>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>### remove all existing power routing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>editDelete <span style=color:#f92672>-</span>use <span style=color:#66d9ef>{</span>POWER<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>shape <span style=color:#66d9ef>{</span>RING STRIPE FOLLOWPIN IOWIRE COREWIRE BLOCKWIRE PADRING BLOCKRING FILLWIRE FILLWIREOPC DRCFILL<span style=color:#66d9ef>}</span>
</span></span></code></pre></div><p><img src=assets/image-20241002210533514.png alt=image-20241002210533514></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#Add power Stripe
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>setAddStripeMode <span style=color:#f92672>-</span>reset
</span></span><span style=display:flex><span>setAddStripeMode <span style=color:#f92672>-</span>stacked_via_bottom_layer Metal1 <span style=color:#f92672>-</span>stacked_via_top_layer Metal1<span style=color:#960050;background-color:#1e0010>#</span>指定最底层和最顶层要用via连接的是哪些层<span style=color:#960050;background-color:#1e0010>，</span>此处我们只create Metal1最底层的rails<span style=color:#960050;background-color:#1e0010>，</span>所以top_layer和bottom_layer都是Metal1<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>addStripe <span style=color:#f92672>-</span>nets <span style=color:#66d9ef>{</span> VDD <span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>layer Metal1 <span style=color:#f92672>-</span>direction horizontal <span style=color:#f92672>-</span>width <span style=color:#ae81ff>0.120</span> <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>1.710</span> <span style=color:#f92672>-</span>set_to_set_distance <span style=color:#ae81ff>3.420</span> <span style=color:#f92672>-</span>start <span style=color:#66d9ef>[expr</span> <span style=color:#ae81ff>1.71</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.120</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2.0</span><span style=color:#66d9ef>]</span> <span style=color:#f92672>-</span>stop $die_y1 <span style=color:#f92672>-</span>area $die_area <span style=color:#f92672>-</span>area_blockage $macro_region 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#f92672>-</span>nets 指定是VDD
</span></span><span style=display:flex><span><span style=color:#75715e>#-layer 指定使用的层，此处是Metal1
</span></span></span><span style=display:flex><span><span style=color:#75715e>#-direction 指定方向，此处为horizontal
</span></span></span><span style=display:flex><span><span style=color:#75715e>#-width 一般来说是std cell的VDD的width是多少就设为多少，下图所示是0.12，所以我们也设为0.12
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>addStripe <span style=color:#f92672>-</span>nets <span style=color:#66d9ef>{</span> VSS <span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>layer Metal1 <span style=color:#f92672>-</span>direction horizontal <span style=color:#f92672>-</span>width <span style=color:#ae81ff>0.120</span> <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>1.710</span> <span style=color:#f92672>-</span>set_to_set_distance <span style=color:#ae81ff>3.420</span> <span style=color:#f92672>-</span>start <span style=color:#66d9ef>[expr</span> <span style=color:#ae81ff>1.71</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.120</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2.0</span><span style=color:#66d9ef>]</span> <span style=color:#f92672>-</span>stop $die_y1 <span style=color:#f92672>-</span>area $die_area <span style=color:#f92672>-</span>area_blockage $macro_region
</span></span></code></pre></div><p><img src=assets/image-20241002210613856.png alt=image-20241002210613856></p><p><img src=assets/image-20241002210622058.png alt=image-20241002210622058></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>##给macro通过ring加上power strip
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>### create power rings for memory cells {Metal8 &amp; Metal9}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>setAddRingMode <span style=color:#f92672>-</span>reset
</span></span><span style=display:flex><span>deselectAll
</span></span><span style=display:flex><span>selectInst <span style=color:#66d9ef>[</span>dbGet <span style=color:#66d9ef>[</span>dbGet top.insts.cell.subClass block <span style=color:#f92672>-</span>p2<span style=color:#66d9ef>]</span>.name<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>setAddRingMode <span style=color:#f92672>-</span>stacked_via_bottom_layer Metal1 <span style=color:#f92672>-</span>stacked_via_top_layer Metal9
</span></span><span style=display:flex><span>addRing <span style=color:#f92672>-</span>nets <span style=color:#66d9ef>{</span>VDD VSS<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>type block_rings <span style=color:#f92672>-</span>around selected <span style=color:#f92672>-</span>layer <span style=color:#66d9ef>{</span>top Metal9 bottom Metal9 left Metal8 right Metal8<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>width <span style=color:#66d9ef>{</span>top <span style=color:#ae81ff>5</span> bottom <span style=color:#ae81ff>5</span> left <span style=color:#ae81ff>5</span> right <span style=color:#ae81ff>5</span><span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>spacing <span style=color:#66d9ef>{</span>top <span style=color:#ae81ff>1.25</span> bottom <span style=color:#ae81ff>1.25</span> left <span style=color:#ae81ff>1.25</span> right <span style=color:#ae81ff>1.25</span><span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>offset <span style=color:#66d9ef>{</span>top <span style=color:#ae81ff>5</span> bottom <span style=color:#ae81ff>5</span> left <span style=color:#ae81ff>5</span> right <span style=color:#ae81ff>5</span><span style=color:#66d9ef>}</span>
</span></span><span style=display:flex><span>deselectAll
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### create power stripes (Metal8 and Metal9)
</span></span></span><span style=display:flex><span><span style=color:#75715e>#editDelete -use {POWER} -shape {RING STRIPE FOLLOWPIN IOWIRE COREWIRE BLOCKWIRE PADRING BLOCKRING FILLWIRE FILLWIREOPC DRCFILL}
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>setAddStripeMode <span style=color:#f92672>-</span>reset
</span></span><span style=display:flex><span>setAddStripeMode <span style=color:#f92672>-</span>break_at <span style=color:#66d9ef>{</span>block_ring<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>stacked_via_bottom_layer Metal1 <span style=color:#f92672>-</span>stacked_via_top_layer Metal9
</span></span><span style=display:flex><span>addStripe <span style=color:#f92672>-</span>nets <span style=color:#66d9ef>{</span>VDD VSS<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>layer Metal9 <span style=color:#f92672>-</span>direction horizontal <span style=color:#f92672>-</span>width <span style=color:#ae81ff>5</span> <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>1.25</span> <span style=color:#f92672>-</span>set_to_set_distance <span style=color:#ae81ff>72</span> <span style=color:#f92672>-</span>start_from bottom <span style=color:#f92672>-</span>start_offset <span style=color:#ae81ff>40</span> <span style=color:#f92672>-</span>stop_offset <span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span>block_ring_top_layer_limit Metal9 <span style=color:#f92672>-</span>block_ring_bottom_layer_limit Metal1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>setAddStripeMode <span style=color:#f92672>-</span>reset
</span></span><span style=display:flex><span>setAddStripeMode <span style=color:#f92672>-</span>break_at <span style=color:#66d9ef>{</span>block_ring<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>stacked_via_bottom_layer Metal1 <span style=color:#f92672>-</span>stacked_via_top_layer Metal9
</span></span><span style=display:flex><span>addStripe <span style=color:#f92672>-</span>nets <span style=color:#66d9ef>{</span>VDD VSS<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>layer Metal8 <span style=color:#f92672>-</span>direction vertical <span style=color:#f92672>-</span>width <span style=color:#ae81ff>5</span> <span style=color:#f92672>-</span>spacing <span style=color:#ae81ff>1.25</span> <span style=color:#f92672>-</span>set_to_set_distance <span style=color:#ae81ff>75</span> <span style=color:#f92672>-</span>start_from left <span style=color:#f92672>-</span>start_offset <span style=color:#ae81ff>35</span> <span style=color:#f92672>-</span>stop_offset <span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span>block_ring_top_layer_limit Metal9 <span style=color:#f92672>-</span>block_ring_bottom_layer_limit Metal1
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#check
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> report_drc_dir  <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>project_root<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>reports<span style=color:#f92672>/</span><span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>current_step<span style=color:#66d9ef>}</span>
</span></span><span style=display:flex><span>file mkdir <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>report_drc_dir<span style=color:#66d9ef>}</span>
</span></span><span style=display:flex><span>verify_drc <span style=color:#f92672>-</span>limit <span style=color:#ae81ff>99999</span> <span style=color:#f92672>-</span>report <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>report_drc_dir<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>verify_drc.rpt<span style=color:#960050;background-color:#1e0010>#</span>给一个error数量的限制 <span style=color:#f92672>-</span>limit <span style=color:#ae81ff>99999</span>
</span></span><span style=display:flex><span>verifyConnectivity <span style=color:#f92672>-</span>net <span style=color:#66d9ef>{</span>VDD VSS<span style=color:#66d9ef>}</span> <span style=color:#f92672>-</span>error <span style=color:#ae81ff>99999</span> <span style=color:#f92672>-</span>report <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>report_drc_dir<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>verifyConnectivity.rpt <span style=color:#960050;background-color:#1e0010>#</span>给一个error数量的限制 <span style=color:#f92672>-</span>limit <span style=color:#ae81ff>99999</span>
</span></span><span style=display:flex><span>redirect <span style=color:#f92672>-</span>tee <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#66d9ef>{</span>report_drc_dir<span style=color:#66d9ef>}</span><span style=color:#f92672>/</span>checkPlace.rpt <span style=color:#66d9ef>{</span>checkPlace<span style=color:#66d9ef>}</span>
</span></span></code></pre></div><p>可以在这里查看报告：</p><p><img src=assets/image-20241002221201441.png alt=image-20241002221201441></p><p><img src=assets/image-20241002221224592.png alt=image-20241002221224592></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span><span style=color:#75715e>#上面这个bug：
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>deleteRouteBlk <span style=color:#f92672>-</span>name $rblkg_prefix
</span></span></code></pre></div><h3 id=5_place_opt>5_place_opt
<a class=anchor href=#5_place_opt>#</a></h3><ul><li><p>setDesignMode</p><p><img src=assets/image-20241005100017174.png alt=image-20241005100017174></p><ul><li><p>-node，别称“超级开关”，是比较重要的一个设置，可以针对 <strong>某一种特定的工艺做一些基础的设置</strong>。它的选项很多，分别对应不同 Foundary 的不同工艺的区别，N 系列就是台积电的，S 系列就是三星的。。。</p></li><li><p>-process，相比于-node，-process 是更 <strong>通用的设置</strong>，因为可以看到-node 里面的都是 20 以下的，此处用到的工艺是 45，所以使用更为通用的-process 45。在成熟的工艺中，都有特定的数字去代替，比如 40，28 等等。</p></li><li><p>-topRoutingLayer,-bottomRoutingLayer. 就是告诉工具只能用哪些层进行绕线</p></li></ul></li><li><p>setAnalysisMode</p><p><img src=assets/image-20241005100057734.png alt=image-20241005100057734></p><ul><li><p>-analysisType {single | bcwc | onChipVariation}</p><blockquote><p>其中(onChipVariation)模拟的 PVT 条件的偏差会更接近实际情况，会减少一些不必要的悲观量。</p><p>一般都用 OCV</p></blockquote></li><li><p>-cppr 是关于 clock line 上的 common path 的一个处理方式</p></li></ul></li><li><p>setOptMode</p><ul><li><p>-addInstancePrefix, -addNetPrefix</p><blockquote><p>工具在优化的过程中会增加很多新的 Cell，对于这些 Cell，我们希望他们都带一个我们能快速辨别他们的名字。也就是 Prefix（前缀）。当然，可以给 Instance 加 Prefix，那么也可以给 Net 加 Prefix</p><p>e.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>setOptMode <span style=color:#f92672>-</span>addInstancePrefix <span style=color:#e6db74>&#34;PRECTS_&#34;</span> <span style=color:#f92672>-</span>addNetPrefix <span style=color:#e6db74>&#34;PRECTS_NET_&#34;</span>
</span></span></code></pre></div></blockquote></li><li><p>-powerEffort {none|low|high}</p></li><li><p>-maxDensity <density></p></li><li><p>-maxLength <length></p></li></ul></li><li><p>setTieHiLoMode</p><p>这条命令本身只是去控制那些加的 Tie-high 和 Tie-low 的 Cell，也就是说在电路中某些地方电平需要拉高和拉低，就需要 <strong>专门的 Cell</strong> 去做这些连接。</p><ul><li>-maxFanout 2 ，就是设置一个 Tie cell 可以连接几个 Fanout。若设置的太大，可能出现的问题：需要拉高的时候拉不高，需要拉低的时候拉不低。若是设置的太小，可能导致 Tie Cell 最后局部的 density 会出现问题。</li><li>-honorDontTouch true ，就是设置为 honorDontTouch 的情况下到底要不要加 Tie，一般加的 DontTouch 都是工程师自己加的，也就是真的不希望动的地方，所以设置为 true</li><li>-honorDontUse true，同上一样，是工程师真的不需要用到的，所以设置为 true。</li><li>-prefix “PRECTS_TIE_” , 给加的 Tie cell 加一个 Prefix（前缀）。便于识别。</li><li>-cell {TIEHI TIELO} 就是指定我们需要加的 Tie Cell 的类型</li></ul></li><li><p>setNanoRouteMode</p><p>这里的绕线是 <strong>global route</strong></p><ul><li>-routeWithTimingDriven -true 也就是告诉工具在绕线的时候考虑时序。</li></ul></li><li><p>group_path, setPathGroupOptions</p><p><img src=assets/image-20241005101521934.png alt=image-20241005101521934></p><p><img src=assets/image-20241005101604972.png alt=image-20241005101604972></p><ul><li>-effortLevel 对不同的 path group 的关注不一样，如此处，我们 <strong>关心 reg2reg</strong>，所以把 reg2reg 的 effortLevel 设置为 high</li></ul></li><li><p>set_dont_use_cells</p><p>一般用于优化 PPA 的时候, 把一些面积大的, 功耗大的删掉</p><p><img src=assets/image-20241005101727826.png alt=image-20241005101727826></p></li><li><p>set_clock_uncertainty</p><p>set_clock_uncertainty 150 [all_clocks] -setup</p><ul><li>place : jitter + clock skew + route correlation (si) + extra margin</li><li>clock : jitter + route correlation (si) + extra margin</li><li>route : jitter + extra margin</li><li>signoff : jitter + extra margin</li></ul></li><li><p>set_max_transition</p><p>一般可以按照 clock_cycle 的比例来定，对 clock 上面的 transition 一般定为 5%-8%，对 data 上面的 transition 一般定为 15%-20%</p><p>库里面也有一些关于 max_transition 的限制, 但是往往比较宽松, 需要自己设置</p><ul><li><p>-clock_path xxx [all_clocks]</p></li><li><p>-data_path xxx [all_clocks]</p></li><li><p>-override, 覆盖其他地方的关于 max_transition 的设置</p></li></ul></li><li><p>place_opt_design</p><p>使用 GigaPlace 进行布局优化</p><ul><li><p>-expanded_views 就是告诉工具不要做 view 的 merge</p></li><li><p>-out_dir 就是告诉工具输出的 path 放在哪个地方</p></li><li><p>-prefix ”innovus_placeopt“</p></li></ul></li></ul><h3 id=6_cts>6_CTS
<a class=anchor href=#6_cts>#</a></h3><ul><li><p>set_ccopt_property</p><ul><li>查看 clk_buffer 种类：<code>get_lib_cell *CLK*BUF*</code>，一般不选 hvt</li><li>buffer_cells</li><li>clock_gating_cells</li><li>use_inverters</li><li>effort</li><li>max_fanout</li><li>target_skew</li><li>target_max_trans</li><li>target_insertion_delay</li><li>route_type</li><li>use_estimated_routes_during_final_implementation</li></ul></li><li><p>add_ndr</p><p>NDR:(Non-Default Rule)</p><p>clock 上的 route 需要和 standard cell 上的不一样，需要更大的间距。。。</p></li><li><p>ccopt_design</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl></code></pre></div><h3 id=7_cts_opt>7_cts_opt
<a class=anchor href=#7_cts_opt>#</a></h3><p><code>optDesign -expandedViews -setup -hold -drv -outDir "myreports/${current_step}/innovus_clockopt" -postCTS -prefix "innovus_clockopt"</code></p><h3 id=8_route>8_route
<a class=anchor href=#8_route>#</a></h3><h2 id=优化>优化
<a class=anchor href=#%e4%bc%98%e5%8c%96>#</a></h2><h3 id=优化目标>优化目标
<a class=anchor href=#%e4%bc%98%e5%8c%96%e7%9b%ae%e6%a0%87>#</a></h3><p>时序(Performance)</p><ul><li>设计规则(DRV): transition(slew)/cap/wire length</li><li>setup / hold /recovery/ removal /other</li><li>噪声: Sl violation</li></ul><p>功耗(Power):</p><ul><li>leakage/internal/switching</li></ul><p>面积(Area): total standard cell area</p><p>DFM: 电迁移(EM)</p><h3 id=innovus-优化流程>innovus 优化流程
<a class=anchor href=#innovus-%e4%bc%98%e5%8c%96%e6%b5%81%e7%a8%8b>#</a></h3><p><img src=assets/image-20241005210209336.png alt=image-20241005210209336></p><p>有些公司不做 postCTS_opt, 应为还没有进行真实的布线，RC 延时估算不准，尤其是对 hold 来说。</p><p>做关于 hold 的优化是很有限的，基本上只有插入 buffer 和调整 size，CTS 之后基本不会将存在的 buffer 删掉，因此一般没什么优化</p><p>在 placement 就存在的 vio 很难在后面的优化中去掉</p><h2 id=文件名称>文件名称
<a class=anchor href=#%e6%96%87%e4%bb%b6%e5%90%8d%e7%a7%b0>#</a></h2><p><img src=assets/image-20240930112843520.png alt=image-20240930112843520></p><h3 id=gdsii><strong>GDSII：</strong>
<a class=anchor href=#gdsii>#</a></h3><p>它是用来描述掩模几何图形的事实标准，是二进制格式，内容包括层和几何图形的基本组成。</p><h3 id=cif><strong>CIF：</strong>
<a class=anchor href=#cif>#</a></h3><p>（caltech intermediate format）, 叫 caltech 中介格式，是另一种基本文本的掩模描述语言。</p><h3 id=lef><strong>LEF：</strong>
<a class=anchor href=#lef>#</a></h3><p><img src=assets/image-20240930112930850.png alt=image-20240930112930850></p><p><img src=assets/image-20240930113044656.png alt=image-20240930113044656></p><p>（library exchange format）, 叫库交换格式，它是描述库单元的物理属性，包括端口位置、层定义和通孔定义。它抽象了单元的底层几何细节，提供了足够的信息，以便允许布线器在不对内部单元约束来进行修订的基础上进行单元连接。</p><p><strong>包含了工艺的技术信息，如布线的层数、最小的线宽、线与线之间的最小距离以及每个被选用 cell，BLOCK，PAD 的大小和 pin 的实际位置。</strong> cell，PAD 的这些信息由厂家提供的 LEF 文件给出，自己定制的 BLOCK 的 LEF 文件描述经 ABSTRACT 后生成，只要把这两个 LEF 文件整合起来就可以了。</p><ul><li>Layer：<ul><li>pitch: track 之间的最小距离</li><li>offset：track 到边缘的最小距离</li><li>area：一块金属的最小面积</li><li>SPACINGTABLE:</li></ul></li><li><h2 id=standard-cell>Standard cell
<a class=anchor href=#standard-cell>#</a></h2></li></ul><h3 id=def><strong>DEF：</strong>
<a class=anchor href=#def>#</a></h3><p><img src=assets/image-20240930114430260.png alt=image-20240930114430260></p><p>（design exchange format），叫设计交换格式，它描述的是 <strong>实际的设计</strong>，对库单元及它们的位置和连接关系进行了列表，使用 DEF 来在不同的设计系统间传递设计，同时又可以保持设计的内容不变。<strong>DEF 与只传递几何信息的 GDSII 不一样。它还给出了器件的物理位置关系和时序限制等信息</strong>。</p><p><strong>主要包含如下内容:</strong></p><blockquote><ul><li><p>版本和设计名称</p></li><li><p>单位和数据库设置</p></li></ul><p><img src=assets/image-20241117204117159.png alt=image-20241117204117159></p><p><img src=assets/image-20241117204222733.png alt=image-20241117204222733></p><p><img src=assets/image-20241117204414948.png alt=image-20241117204414948></p><ul><li><p>设计组件（Components）</p></li><li><p>引脚（Pins）</p></li><li><p>网表（Nets）</p></li><li><p>轨道（Tracks）和 GCell 网格</p></li></ul><p><img src=assets/image-20241117215838810.png alt=image-20241117215838810></p><ul><li><p>区域（Regions）和楼层规划（Floorplanning）区域</p></li><li><p>组（Groups）和组约束</p></li><li><p>VIAs</p></li><li><p>特殊网表（Special Nets）</p></li><li><p>属性（Properties）</p></li></ul></blockquote><p><strong>一个实例:</strong></p><pre tabindex=0><code>VERSION 5.8 ;
 
DIVIDERCHAR &#34;/&#34; ;
 
BUSBITCHARS &#34;[]&#34; ;
 
DESIGN my_chip_design ;
 
UNITS DISTANCE MICRONS 1000 ;
 
 
 
DIEAREA ( 0 0 ) ( 100000 100000 ) ;
 
 
 
// Components
 
COMPONENTS 300 ;
 
- comp1 cell1 + PLACED ( 10000 10000 ) N ;
 
- comp2 cell2 + PLACED ( 20000 20000 ) N ;
 
...
 
END COMPONENTS
 
 
 
// Pins
 
PINS 50 ;
 
- pin1 + NET net1 + DIRECTION INPUT + USE SIGNAL
 
  + PORT
 
    + LAYER metal1 ( 0 0 ) ( 100 100 )
 
    + PLACED ( 5000 5000 ) N ;
 
...
 
END PINS
 
 
 
// Nets
 
NETS 200 ;
 
- net1
 
  + ROUTED
 
    + metal1 ( 10000 10000 ) ( 15000 15000 )
 
    + VIA via1 ( 15000 15000 )
 
    + metal2 ( 15000 15000 ) ( 20000 20000 ) ;
 
...
 
END NETS
 
 
 
// Tracks and GCells Grid
 
TRACKS
 
...
 
END TRACKS
 
 
 
GCELLGRID
 
...
 
END GCELLGRID
 
 
 
// Regions and Floorplan
 
REGIONS
 
...
 
END REGIONS
 
 
 
// Groups and Constraints
 
GROUPS
 
...
 
END GROUPS
 
 
 
// VIAs
 
VIAS 10 ;
 
- via1
 
  + RECT metal1 ( -5 -5 ) ( 5 5 )
 
  + RECT via ( -5 -5 ) ( 5 5 )
 
  + RECT metal2 ( -5 -5 ) ( 5 5 ) ;
 
...
 
END VIAS
 
 
 
// Special Nets
 
SPECIALNETS
 
...
 
END SPECIALNETS
 
 
 
// Properties
 
PROPERTYDEFINITIONS
 
...
 
END PROPERTYDEFINITIONS
 
 
 
END DESIGN
</code></pre><p><img src=assets/image-20241116234403526.png alt=image-20241116234403526></p><p><strong>相关指令</strong></p><p><code>defin</code></p><p><code>defout</code></p><p>[def 文件的作用及相关操作_.def 文件-CSDN 博客](
<a href="https://blog.csdn.net/NCG951204/article/details/126570067#:~:text=defin">https://blog.csdn.net/NCG951204/article/details/126570067#:~:text=defin</a> ：加载一)</p><h3 id=lib><strong>Lib:</strong>
<a class=anchor href=#lib>#</a></h3><p><img src=assets/image-20240930114652271.png alt=image-20240930114652271></p><p><img src=assets/image-20240930114805592.png alt=image-20240930114805592></p><p>命名规则：</p><p>​ lib 文件</p><p><img src=assets/image-20240930115750698.png alt=image-20240930115750698></p><p>​ cell：</p><p><img src=assets/image-20240930120417833.png alt=image-20240930120417833></p><ul><li><strong>文本格式</strong>: <code>.lib</code> 文件通常是文本文件，使用人类可读的 ASCII 文本来描述。</li><li><strong>标准化</strong>: <code>.lib</code> 文件使用的是 Liberty 格式，这是一个业界标准，用于描述电子电路库的性能。</li><li><strong>可携带性和可读性</strong>: 由于它是一个文本文件，所以很容易通过文本编辑器查看和修改，并且容易在不同的设计工具和平台之间转移。</li><li><strong>用途</strong>: Liberty 文件主要用于逻辑合成和静态时序分析（STA）。它包含有关单元（如门、触发器等）的时序和功耗特性</li></ul><h3 id=sdf><strong>SDF：</strong>
<a class=anchor href=#sdf>#</a></h3><p>(Standard delay format), 叫标准延时格式，是 IEEE 标准，它描述设计中的时序信息，指明了模块管脚和管脚之间的延迟、时钟到数据的延迟和内部连接延迟。</p><h3 id=dspfrspfsbpf-和-spef><strong>DSPF、RSPF、SBPF 和 SPEF：</strong>
<a class=anchor href=#dspfrspfsbpf-%e5%92%8c-spef>#</a></h3><p>DSPF（detailed standard parasitic format）, 叫详细标准寄生格式，属于 CADENCE 公司的文件格式。</p><p>RSPF（reduced standard parasitic format）, 叫精简标准寄生格式，属于 CADENCE 公司的文件格式。</p><p>SBPF（synopsys binary parasitic format）, 叫新思科技二进制寄生格式，属于 SYNOPSYS 公司的文件格式。</p><p>SPEF（standard parasitic exchange format）, 叫标准寄生交换格式，属于 IEEE 国际标准文件格式。</p><p>以上四种文件格式都是从网表中提取出来的表示 RC 值信息，是在提取工具与时序验证工具之间传递 RC 信息的文件格式。</p><h3 id=alf><strong>ALF：</strong>
<a class=anchor href=#alf>#</a></h3><p>(Advanved library format), 叫先进库格式，是一种用于描述基本库单元的格式。它包含电性能参数。</p><h3 id=pdef><strong>PDEF：</strong>
<a class=anchor href=#pdef>#</a></h3><p>（physical design exchange format）叫物理设计交换格式。它是 SYNOPSYS 公司用在前端和后端工具之间传递信息的文件格式。描述了与单元层次分组相关的互连信息。这种文件格式只有在使用 SYNOPSYS 公司的 Physical Compiler 工具才会用到，而且.13 以下工艺基本都会用到该工具。</p><h3 id=tlf><strong>TLF</strong>
<a class=anchor href=#tlf>#</a></h3><p>TLF 文件是描述 cell 时序的文件，标准单元的 rise time，hold time，fall time 都在 TLF 内定义。时序分析时就调用 TLF 文件，根据 cell 的输入信号强度和 cell 的负载来计算 cell 的各种时序信息。</p><h3 id=gcf><strong>GCF</strong>
<a class=anchor href=#gcf>#</a></h3><p>GCF 文件包括 TLF/CTLF 文件的路径，以及综合时序、面积等约束条件。在布局布线前，GCF 文件将设计者对电路的时序要求提供给 SE。这些信息将在时序驱动布局布线以及静态时序分析中被调用。</p><h2 id=install>install
<a class=anchor href=#install>#</a></h2><p><strong>环境：ubuntu20.04, innovus20</strong></p><p>安装包：
<a href=E:%5cinstaller%5cinnovus20_installer.7z>innovus20_install</a></p><h3 id=依赖>依赖
<a class=anchor href=#%e4%be%9d%e8%b5%96>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get -y install openjdk-11-jdk
</span></span><span style=display:flex><span>sudo apt-get install ksh
</span></span><span style=display:flex><span>sudo apt-get install csh
</span></span><span style=display:flex><span>sudo apt-get install xterm
</span></span><span style=display:flex><span>sudo add-apt-repository ppa:linuxuprising/libpng12
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install libpng12-0
</span></span><span style=display:flex><span>sudo apt install libjpeg62
</span></span><span style=display:flex><span>sudo apt install libncurses5
</span></span></code></pre></div><p>1.进入
<a href=http://ftp.xfree86.org/pub/XFree86/4.8.0/binaries/Linux-x86_64-glibc23/>官网</a> 下载 Xbin.tgz 这个文件</p><p><img src=assets/image-20240929161609281.png alt=image-20240929161609281></p><h3 id=解压>解压
<a class=anchor href=#%e8%a7%a3%e5%8e%8b>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#解压3个innovus20压缩包</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#InstallScape是一个安装cadence软件的工具，解压以后进入03.InstallScape/iscape/bin/</span>
</span></span><span style=display:flex><span>sh iscape.sh
</span></span></code></pre></div><h3 id=安装>安装
<a class=anchor href=#%e5%ae%89%e8%a3%85>#</a></h3><p><img src=assets/image-20240929161325074.png alt=image-20240929161325074></p><p><img src=assets/image-20240929161335684.png alt=image-20240929161335684></p><p><img src=assets/image-20240929161347388.png alt=image-20240929161347388></p><p><img src=assets/image-20240929161354564.png alt=image-20240929161354564></p><p>等待，弹出终端选 no，然后回车结束</p><h3 id=破解>破解
<a class=anchor href=#%e7%a0%b4%e8%a7%a3>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#在crack文件夹中</span>
</span></span><span style=display:flex><span>./1patch.sh /your/install/path
</span></span><span style=display:flex><span>python cdslicgen.py <span style=color:#75715e>#生成license.dat</span>
</span></span><span style=display:flex><span>cp patch/license.dat /path/you/want/to/place/License/ <span style=color:#75715e>#把license放到一个你要放的位置</span>
</span></span></code></pre></div><p>cdslicgen.py 破解改动在这里，我只是发现了别人的脚本在这里会报错，改了一点：</p><p><img src=assets/image-20240929160637105.png alt=image-20240929160637105></p><p><img src=assets/image-20240929160603054.png alt=image-20240929160603054></p><h3 id=环境变量>环境变量
<a class=anchor href=#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f>#</a></h3><p>根据你的安装路径和 license 路径对应修改</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># &gt;&gt;&gt; innovus initialize &gt;&gt;&gt;</span>
</span></span><span style=display:flex><span>export INNOVUS_HOME<span style=color:#f92672>=</span>/opt/EDA_Tools/cadence/innovus20
</span></span><span style=display:flex><span><span style=color:#75715e># license</span>
</span></span><span style=display:flex><span>export LM_LICENSE_FILE<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>INNOVUS_HOME<span style=color:#e6db74>}</span>/License/license.dat
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export LD_LIBRARY_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>LD_LIBRARY_PATH<span style=color:#e6db74>}</span>:<span style=color:#e6db74>${</span>INNOVUS_HOME<span style=color:#e6db74>}</span>/tools.lnx86/lib/64bit:<span style=color:#e6db74>${</span>INNOVUS_HOME<span style=color:#e6db74>}</span>/tools.lnx86
</span></span><span style=display:flex><span>export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>PATH<span style=color:#e6db74>}</span>:<span style=color:#e6db74>${</span>INNOVUS_HOME<span style=color:#e6db74>}</span>/tools.lnx86/bin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># &lt;&lt;&lt; innovus initialize &lt;&lt;&lt;</span>
</span></span></code></pre></div><h3 id=大致结束>大致结束
<a class=anchor href=#%e5%a4%a7%e8%87%b4%e7%bb%93%e6%9d%9f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>innovus &amp;
</span></span></code></pre></div><p><img src=assets/image-20240929160000093.png alt=image-20240929160000093></p><p><img src=assets/image-20240929160148358.png alt=image-20240929160148358></p><h3 id=其他相关-bug>其他相关 bug
<a class=anchor href=#%e5%85%b6%e4%bb%96%e7%9b%b8%e5%85%b3-bug>#</a></h3><p>1.libstdc++.so.6</p><p><img src=assets/image-20240929192331139.png alt=image-20240929192331139></p><p>[Cadence Innovus2020 在 Ubuntu20.04 上的安装教程【超详细】_innovus 安装-CSDN 博客](
<a href=https://blog.csdn.net/qq_44447544/article/details/122698979?ops_request_misc>https://blog.csdn.net/qq_44447544/article/details/122698979?ops_request_misc</a> =%7B%22request%5Fid%22%3A%22A2277519-6B4E-4DD3-952A-1958A9EA40EA%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id = A2277519-6B4E-4DD3-952A-1958A9EA40EA&amp;biz_id = 0&amp;utm_medium = distribute.pc_search_result.none-task-blog-2<del>all</del>top_click~default-2-122698979-null-null.142^v100^control&amp;utm_term = innovus 安装&amp;spm = 1018.2226.3001.4187)</p><p>sudo ln -s /lib/x86_64-linux-gnu/libstdc++.so.6.0.30 libstdc++.so.6</p><p>2.No LSB modules are available.</p><p>sudo apt-get install lsb-core</p><p>3.place_opt_design 后</p><pre tabindex=0><code>terminate called after throwing an instance of &#39;std::runtime_error&#39;
  what():  locale::facet::_S_create_c_locale name not valid
Innovus terminated by internal (ABORT) error/signal...
*** Stack trace:
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x12f9ffe5]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(syStackTrace+0xa5)[0x12fa0456]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x4aa5ef3]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN15goSignalHandler13executeActionEiP7siginfoPv+0x47)[0x7c97667]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN15goSignalHandler16executeSigActionEiP7siginfoPv+0x84)[0x7c98494]
/lib/x86_64-linux-gnu/libc.so.6(+0x4251f)[0x7f2653c1951f]
/lib/x86_64-linux-gnu/libc.so.6(pthread_kill+0x12c)[0x7f2653c6d9fc]
/lib/x86_64-linux-gnu/libc.so.6(raise+0x15)[0x7f2653c19475]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd2)[0x7f2653bff7f2]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(+0xa2b9d)[0x7f265ac76b9d]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(+0xae20b)[0x7f265ac8220b]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(_ZSt9terminatev+0x16)[0x7f265ac82276]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(__cxa_throw+0x47)[0x7f265ac824d7]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(_ZSt21__throw_runtime_errorPKc+0x3f)[0x7f265ac7951c]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(_ZNSt6locale5facet18_S_create_c_localeERP15_ _locale_structPKcS2_+0x27)[0x7f265aca5257]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(_ZNSt6locale5_ImplC2EPKcm+0x54)[0x7f265ac96d04]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libstdc++.so.6(_ZNSt6localeC1EPKc+0x144)[0x7f265ac978e4]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZNK11oiInstCntCL5printERKSsb+0x2a)[0x7490eaa]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN15oiPhyDesignMcCL6createERK22oiPhyDesignGridParamCLiib+0x290)[0x74948e0]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_Z17oiPhyInitDesignMci+0x22)[0x7495112]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x4d546fb]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN10tcmBaseCmd7executeEP10Tcl_InterpiPPc+0x166)[0x15264886]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN6tcmMgr9cmdParserEPvP10Tcl_InterpiPPc+0x693)[0x15257fe3]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclInvokeStringCommand+0x7f)[0x20ed56df]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclNRRunCallbacks+0x46)[0x20eda056]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x20edc527]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_EvalEx+0x15)[0x20edce55]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_Eval+0x14)[0x20edce74]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN5oiTcl9CmdInterp6evalOKEPKc+0x2d)[0x4d87a8d]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZNK14rdaOptDesignCL3runEv+0x9c3)[0x4d2b543]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x4d4da81]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN10tcmBaseCmd7executeEP10Tcl_InterpiPPc+0x166)[0x15264886]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN6tcmMgr9cmdParserEPvP10Tcl_InterpiPPc+0xad2)[0x15258422]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclInvokeStringCommand+0x7f)[0x20ed56df]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclNRRunCallbacks+0x46)[0x20eda056]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x20edc527]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_EvalEx+0x15)[0x20edce55]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclNREvalObjEx+0x6e)[0x20edcefe]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x20f9270a]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x20ef0150]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(TclNRRunCallbacks+0x46)[0x20eda056]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_RecordAndEvalObj+0xf3)[0x20f78753]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_RecordAndEval+0x37)[0x20f788b7]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_Z17rdaEditCmdLineEndPc+0x344)[0x4b68f44]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN9seConsole7sesMode9DoExecuteERKSsPv+0xc6)[0xfb3bc66]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN7Redline9EmacsMode10AcceptLineEv+0x3b)[0x10cac8eb]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN7Redline11ModeCommandINS_9EmacsModeEE15CommandFnNoKeysERKN5boost8functionIFvRS1_EEERNS_6EditorE+0x60)[0x10cb4e70]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN5boost6detail8function26void_function_obj_invoker2INS_3_bi6bind_tINS3_11unspecifiedENS_8functionIFvRN7Redline6EditorEEEENS3_5list1INS_3argILi1EEEEEEEvS9_RKNS7_14KeyCombinationEE6invokeERNS1_15function_bufferES9_SJ_+0x1a)[0x10cc46ca]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZNK7Redline7Command3RunERNS_6EditorERKNS_14KeyCombinationE+0x1b)[0x10cc43eb]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_ZN7Redline6Editor9Internals3RunEb+0xdf)[0x10ca8f0f]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x20fdce36]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_ServiceEvent+0x86)[0x20f9e886]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_DoOneEvent+0x128)[0x20f9eb88]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libtq.so(_ZN17TqEventDispatcher13processEventsE6QFlagsIN10QEventLoop17ProcessEventsFlagEE+0x69)[0x7f265741b239]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/Qt/v5//64bit/lib/libcdsQt5Core.so.5(_ZN10QEventLoop4execE6QFlagsINS_17ProcessEventsFlagEE+0xe9)[0x7f2656ad00c9]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/Qt/v5//64bit/lib/libcdsQt5Core.so.5(_ZN16QCoreApplication4execEv+0x83)[0x7f2656ad8953]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/lib/64bit/libtq.so(_ZN13TqApplication4execEv+0x176)[0x7f265741a896]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(_Z12edi_app_initP10Tcl_Interp+0x2a8)[0x4b510d8]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(Tcl_MainEx+0x176)[0x20f993c6]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus(main+0x1d1)[0x41d4b71]
/lib/x86_64-linux-gnu/libc.so.6(+0x29d8f)[0x7f2653c00d8f]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x7f)[0x7f2653c00e3f]
/opt/EDA_Tools/cadence/innovus20/tools.lnx86/innovus/bin/64bit/innovus [0x4aa2c1c]
==== ==== ==== ==== ==== ==== ==== ==== ==== ====
                gdb
==== ==== ==== ==== ==== ==== ==== ==== ==== ====
Using: gdb
Could not attach to process.  If your uid matches the uid of the target
process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try
again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf
ptrace: Operation not permitted.
/home/pengxuan/Project/mylab/innovus/lab2/work/1314912: No such file or directory.
</code></pre><h3 id=参考-4>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-4>#</a></h3><p><a href="https://blog.csdn.net/qq_44447544/article/details/122698979?ops_request_misc=%7B%22request%5Fid%22%3A%22A2277519-6B4E-4DD3-952A-1958A9EA40EA%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=A2277519-6B4E-4DD3-952A-1958A9EA40EA&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-2-122698979-null-null.142%5ev100%5econtrol&amp;utm_term=innovus%e5%ae%89%e8%a3%85&amp;spm=1018.2226.3001.4187">Cadence Innovus2020 在Ubuntu20.04上的安装教程【超详细】_innovus安装-CSDN博客</a></p><p><a href="https://blog.csdn.net/dacming/article/details/129873358?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-129873358-blog-138365651.235%5ev43%5econtrol&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-129873358-blog-138365651.235%5ev43%5econtrol&amp;utm_relevant_index=2">innovus2020安装_innovus安装-CSDN博客</a></p><p><a href=https://blog.csdn.net/RONAL_DINHO/article/details/139830971>Ubuntu18.04安装Cadence Innovus2021_innovus安装-CSDN博客</a></p><h2 id=参考-5>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-5>#</a></h2><ol><li><p>官方文档：UserGuide, Command reference</p><p><img src=assets/image-20240930110542683.png alt=image-20240930110542683></p></li><li></li></ol><h1 id=openroadorfsopenlane>OpenROAD/ORFS/OpenLane
<a class=anchor href=#openroadorfsopenlane>#</a></h1><h2 id=特点>特点
<a class=anchor href=#%e7%89%b9%e7%82%b9>#</a></h2><h3 id=优点>优点
<a class=anchor href=#%e4%bc%98%e7%82%b9>#</a></h3><ul><li><p>开源，可以自定义修改</p></li><li><p>该领域的热门应用</p></li><li><p>作者回复迅速（一般第二天就会回复）</p></li><li><p>自动化程度较高</p></li><li><p>还在不断更新中，更新快</p><p><img src=assets/image-20241216092602072.png alt=image-20241216092602072></p></li></ul><h3 id=缺点>缺点
<a class=anchor href=#%e7%bc%ba%e7%82%b9>#</a></h3><ul><li>有一些商用工具有的功能他没有</li></ul><h2 id=relation-between-openroadsrfsopenlane>relation between openroad/SRFS/openlane
<a class=anchor href=#relation-between-openroadsrfsopenlane>#</a></h2><h3 id=openroad>openroad
<a class=anchor href=#openroad>#</a></h3><ul><li>basic model</li><li>netlist2gds, 也可以hdl2gds，但是比较麻烦， 用abc做综合</li><li>越来越流行了，比赛也开始用了</li></ul><h3 id=orfs>ORFS
<a class=anchor href=#orfs>#</a></h3><ul><li>hdl2gds</li><li>pdk friendly， 可以直接跑7nm</li><li>支持重新编译OpenROAD（自定义修改）</li><li>gui不知道为什么用起来很卡</li><li>内置AutoTuner，一个扫参自动优化PPA的工具</li><li>支持在线使用（Colab）</li></ul><h3 id=openlance><strong>openlance</strong>
<a class=anchor href=#openlance>#</a></h3><ul><li>hdl2gds</li><li>most auto</li><li>内置只有sky130 PDK</li><li>不支持重新编译OpenROAD</li><li></li></ul><h2 id=architecture>Architecture
<a class=anchor href=#architecture>#</a></h2><p><strong>openlane</strong></p><p><img src=assets/image-20241012145943913.png alt=image-20241012145943913></p><h2 id=openlane-flow-stages>OpenLane Flow Stages
<a class=anchor href=#openlane-flow-stages>#</a></h2><p>OpenLane flow consists of several stages. By default all flow steps are run in sequence. Each stage may consist of multiple sub-stages. OpenLane can also be run interactively as shown [here][25].</p><ol><li><strong>Synthesis</strong><ol><li><a href=https://github.com/yosyshq/yosys>Yosys</a> - Perform RTL synthesis and technology mapping.</li><li><a href=https://github.com/the-openroad-project/opensta>OpenSTA</a> - Performs static timing analysis on the resulting netlist to generate timing reports</li></ol></li><li><strong>Floorplaning</strong><ol><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/ifp>OpenROAD/Initialize Floorplan</a> - Defines the core area for the macro as well as the rows (used for placement) and the tracks (used for routing)</li><li>OpenLane IO Placer - Places the macro input and output ports</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/pdn>OpenROAD/PDN Generator</a> - Generates the power distribution network</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/tap>OpenROAD/Tapcell</a> - Inserts welltap and endcap cells in the floorplan</li></ol></li><li><strong>Placement</strong><ol><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/gpl>OpenROAD/RePlace</a> - Performs global placement</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/rsz>OpenROAD/Resizer</a> - Performs optional optimizations on the design</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/dpl>OpenROAD/OpenDP</a> - Performs detailed placement to legalize the globally placed components</li></ol></li><li><strong>CTS</strong><ol><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/cts>OpenROAD/TritonCTS</a> - Synthesizes the clock distribution network (the clock tree)</li></ol></li><li><strong>Routing</strong><ol><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/grt>OpenROAD/FastRoute</a> - Performs global routing to generate <strong>a guide file</strong> for the detailed router</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/drt>OpenROAD/TritonRoute</a> - Performs detailed routing</li><li><a href=https://github.com/the-openroad-project/openroad/tree/master/src/rcx>OpenROAD/OpenRCX</a> - Performs SPEF extraction</li></ol></li><li><strong>Tapeout</strong><ol><li><a href=https://github.com/rtimothyedwards/magic>Magic</a> - Streams out the final GDSII layout file from the routed def</li><li><a href=https://github.com/klayout/klayout>KLayout</a> - Streams out the final GDSII layout file from the routed def as a back-up</li></ol></li><li><strong>Signoff</strong><ol><li><a href=https://github.com/rtimothyedwards/magic>Magic</a> - Performs DRC Checks & Antenna Checks</li><li><a href=https://github.com/klayout/klayout>Magic</a> - Performs DRC Checks & an XOR sanity-check between the two generated GDS-II files</li><li><a href=https://github.com/rtimothyedwards/netgen>Netgen</a> - Performs LVS Checks</li></ol></li></ol><p>All tools in the OpenLane flow are free, libre and open-source software. While OpenLane itself as a script (and its associated build scripts) are under the Apache License, version 2.0, tools may fall under stricter licenses.</p><blockquote><p>Everything in Floorplanning through Routing is done using
<a href=https://github.com/The-OpenROAD-Project/OpenROAD>OpenROAD</a> and its various sub-utilities, hence the name “OpenLane.”</p></blockquote><h2 id=pdk>PDK
<a class=anchor href=#pdk>#</a></h2><p>The OpenROAD application is PDK independent. However, it has been tested and validated with specific PDKs in the context of various flow controllers.</p><p>OpenLane supports SkyWater 130nm and GlobalFoundries 180nm.</p><p>OpenROAD-flow-scripts supports several public and private PDKs including:</p><h4 id=open-source-pdks>Open-Source PDKs
<a class=anchor href=#open-source-pdks>#</a></h4><ul><li><code>GF180</code> - 180nm</li><li><code>SKY130</code> - 130nm</li><li><code>Nangate45</code> - 45nm</li><li><code>ASAP7</code> - Predictive FinFET 7nm</li></ul><h4 id=proprietary-pdks>Proprietary PDKs
<a class=anchor href=#proprietary-pdks>#</a></h4><p>These PDKS are supported in <strong>OpenROAD-flow-scripts only</strong>. They are used to test and calibrate OpenROAD against commercial platforms and ensure good QoR. The PDKs and platform-specific files for these kits cannot be provided due to NDA restrictions. However, if you are able to access these platforms independently, you can create the necessary platform-specific files yourself.</p><ul><li><code>GF55</code> - 55nm</li><li><code>GF12</code> - 12nm</li><li><code>Intel22</code> - 22nm</li><li><code>Intel16</code> - 16nm</li><li><code>TSMC65</code> - 65nm</li></ul><h2 id=basic-run>Basic Run
<a class=anchor href=#basic-run>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>openroad <span style=color:#f92672>[</span>-help<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-version<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-no_init<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-exit<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-gui<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>         <span style=color:#f92672>[</span>-threads count|max<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-log file_name<span style=color:#f92672>]</span> cmd_file
</span></span><span style=display:flex><span>  -help              show help and exit
</span></span><span style=display:flex><span>  -version           show version and exit
</span></span><span style=display:flex><span>  -no_init           <span style=color:#66d9ef>do</span> not read .openroad init file
</span></span><span style=display:flex><span>  -threads count|max use count threads
</span></span><span style=display:flex><span>  -no_splash         <span style=color:#66d9ef>do</span> not show the license splash at startup
</span></span><span style=display:flex><span>  -exit              exit after reading cmd_file
</span></span><span style=display:flex><span>  -gui               start in gui mode
</span></span><span style=display:flex><span>  -python            start with python interpreter <span style=color:#f92672>[</span>limited to db operations<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>  -log &lt;file_name&gt;   write a log in &lt;file_name&gt;
</span></span><span style=display:flex><span>  cmd_file           source cmd_file
</span></span></code></pre></div><p>OpenROAD sources the Tcl command file <code>~/.openroad</code> unless the command line option <code>-no_init</code> is specified.</p><p>OpenROAD then sources the command file <code>cmd_file</code> if it is specified on the command line. Unless the <code>-exit</code> command line flag is specified, it enters an interactive Tcl command interpreter.</p><p>A list of the available tools/modules included in the OpenROAD app and their descriptions are available
<a href=https://openroad.readthedocs.io/en/latest/contrib/Logger.html#openroad-tool-list>here</a>.</p><h2 id=basic-command>Basic Command
<a class=anchor href=#basic-command>#</a></h2><h3 id=area>area
<a class=anchor href=#area>#</a></h3><p>ord::get_die_area
ord::get_core_area</p><h3 id=save-image>Save Image
<a href=https://openroad.readthedocs.io/en/latest/main/src/gui/README.html#save-image>#</a>
<a class=anchor href=#save-image>#</a></h3><p>This command can be both be used when the GUI is active and not active to save a screenshot with various options.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tcl data-lang=tcl><span style=display:flex><span>save_image 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>-resolution microns_per_pixel<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>-area <span style=color:#66d9ef>{</span>x0 y0 x1 y1<span style=color:#66d9ef>}]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>-width width<span style=color:#66d9ef>]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>[</span>-display_option <span style=color:#66d9ef>{</span>option value<span style=color:#66d9ef>}]</span>
</span></span><span style=display:flex><span>    filename
</span></span></code></pre></div><h4 id=options>Options
<a class=anchor href=#options>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>filename</code></td><td>path to save the image to.</td></tr><tr><td><code>-area</code></td><td>x0, y0 - first corner of the layout area (in microns) to be saved, default is to save what is visible on the screen unless called when gui is not active and then it selected the whole block. x1, y1 - second corner of the layout area (in microns) to be saved, default is to save what is visible on the screen unless called when gui is not active and then it selected the whole block.</td></tr><tr><td><code>-resolution</code></td><td>resolution in microns per pixel to use when saving the image, default will match what the GUI has selected.</td></tr><tr><td><code>-width</code></td><td>width of the output image in pixels, default will be computed from the resolution. Cannot be used with <code>-resolution</code>.</td></tr><tr><td><code>-display_option</code></td><td>specific setting for a display option to show or hide specific elements. For example, to hide metal1 <code>-display_option {Layers/metal1 false}</code>, to show routing tracks <code>-display_option {Tracks/Pref true}</code>, or to show everthing <code>-display_option {* true}</code></td></tr></tbody></table><h3 id=select-objects>Select Objects
<a class=anchor href=#select-objects>#</a></h3><p>This command selects object based on options. Returns: number of objects selected.</p><pre tabindex=0><code>select 
    -type object_type
    [-name glob_pattern]
    [-filter attribute = value]
    [-case_insensitive]
    [-highlight group]
</code></pre><h4 id=options-1>Options
<a class=anchor href=#options-1>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>-type</code></td><td>name of the object type. For example, <code>Inst</code> for instances, <code>Net</code> for nets, and <code>Marker</code> for database markers.</td></tr><tr><td><code>-name</code></td><td>(optional) filter selection by the specified name. For example, to only select clk nets <code>*clk*</code>. Use <code>-case_insensitive</code> to filter based on case insensitive instead of case sensitive.</td></tr><tr><td><code>-filter</code></td><td>(optional) filter selection based on the objects’ properties. <code>attribute</code> represents the property’s name and <code>value</code> the property’s value. In case the property holds a collection (e. g. BTerms in a Net) or a table (e. g. Layers in a Generate Via Rule) <code>value</code> can be any element within those. A special case exists for checking whether a collection is empty or not by using the value <code>CONNECTED</code>. This can be useful to select a specific group of elements (e. g. BTerms=CONNECTED will select only Nets connected to Input/Output Pins).</td></tr><tr><td><code>-highlight</code></td><td>(optional) add the selection to the specific highlighting group. Values can be 0 to 7.</td></tr></tbody></table><h3 id=add-a-single-net-to-selection>Add a single net to selection
<a class=anchor href=#add-a-single-net-to-selection>#</a></h3><p>To add a single net to the selected items:</p><pre tabindex=0><code>gui:: selection_add_net 
    name
</code></pre><h4 id=options-2>Options
<a class=anchor href=#options-2>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>name of the net to add.</td></tr></tbody></table><h3 id=add-multiple-nets-to-selection>Add multiple nets to selection
<a class=anchor href=#add-multiple-nets-to-selection>#</a></h3><p>To add several nets to the selected items using a regex:</p><pre tabindex=0><code>gui:: selection_add_nets 
    name_regex
</code></pre><h4 id=options-3>Options
<a class=anchor href=#options-3>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name_regex</code></td><td>regular expression of the net names to add.</td></tr></tbody></table><h3 id=add-a-single-inst-to-selection>Add a single inst to selection
<a class=anchor href=#add-a-single-inst-to-selection>#</a></h3><p>To add a single instance to the selected items:</p><pre tabindex=0><code>gui:: selection_add_inst 
    name
</code></pre><h4 id=options-4>Options
<a class=anchor href=#options-4>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>name of the instance to add.</td></tr></tbody></table><h3 id=add-multiple-insts-to-selection>Add multiple insts to selection
<a class=anchor href=#add-multiple-insts-to-selection>#</a></h3><p>To add several instances to the selected items using a regex:</p><pre tabindex=0><code>gui:: selection_add_insts 
    name_regex
</code></pre><h4 id=options-5>Options
<a class=anchor href=#options-5>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name_regex</code></td><td>regular expression of the instance names to add.</td></tr></tbody></table><h3 id=select-at-point-or-area>Select at point or area
<a class=anchor href=#select-at-point-or-area>#</a></h3><p>To add items at a specific point or in an area:</p><p>Example usage:</p><pre tabindex=0><code>gui:: select_at x y
gui:: select_at x y append
gui:: select_at x0 y0 x1 y1
gui:: select_at x0 y0 x1 y1 append
</code></pre><pre tabindex=0><code>gui:: select_at 
    x0 y0 x1 y1
    [append]

Or

gui:: select_at
    x y 
    [append]
</code></pre><h4 id=options-6>Options
<a class=anchor href=#options-6>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>x, y</code></td><td>point in the layout area in microns.</td></tr><tr><td><code>x0, y0, x1, y1</code></td><td>first and second corner of the layout area in microns.</td></tr><tr><td><code>append</code></td><td>if <code>true</code> (the default value) append the new selections to the current selection list, else replace the selection list with the new selections.</td></tr></tbody></table><h3 id=select-next-item-from-selection>Select next item from selection
<a class=anchor href=#select-next-item-from-selection>#</a></h3><p>To navigate through multiple selected items: Returns: current index of the selected item.</p><pre tabindex=0><code>gui:: select_next
</code></pre><h3 id=select-previous-item-from-selection>Select previous item from selection
<a class=anchor href=#select-previous-item-from-selection>#</a></h3><p>To navigate through multiple selected items: Returns: current index of the selected item.</p><pre tabindex=0><code>gui:: select_previous 
</code></pre><h3 id=clear-selection>Clear Selection
<a class=anchor href=#clear-selection>#</a></h3><p>To clear the current set of selected items:</p><pre tabindex=0><code>gui:: clear_selections
</code></pre><h3 id=set-heatmap>Set Heatmap
<a class=anchor href=#set-heatmap>#</a></h3><p>To control the settings in the heat maps:</p><p>The currently availble heat maps are:</p><ul><li><code>Power</code></li><li><code>Routing</code></li><li><code>Placement</code></li><li><code>IRDrop</code></li><li><code>RUDY</code> [
<a href=https://openroad.readthedocs.io/en/latest/main/src/gui/README.html#rudy>1]</a></li></ul><p>These options can also be modified in the GUI by double-clicking the underlined display control for the heat map.</p><pre tabindex=0><code>gui:: set_heatmap 
    name
    [option]
    [value]
</code></pre><h4 id=options-7>Options
<a class=anchor href=#options-7>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>is the name of the heatmap.</td></tr><tr><td><code>option</code></td><td>is the name of the option to modify. If option is <code>rebuild</code> the map will be destroyed and rebuilt.</td></tr><tr><td><code>value</code></td><td>is the new value for the specified option. This is not used when rebuilding map.</td></tr></tbody></table><h3 id=dump-heatmap-to-file>Dump Heatmap to file
<a class=anchor href=#dump-heatmap-to-file>#</a></h3><p>To save the raw data from the heat maps ins a comma separated value (CSV) format:</p><pre tabindex=0><code>gui:: dump_heatmap 
    name 
    filename
</code></pre><h4 id=options-8>Options
<a class=anchor href=#options-8>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>is the name of the heatmap.</td></tr><tr><td><code>filename</code></td><td>path to the file to write the data to.</td></tr></tbody></table><h2 id=init>init
<a class=anchor href=#init>#</a></h2><h2 id=floorplant>floorplant
<a class=anchor href=#floorplant>#</a></h2><h2 id=placement-1>placement
<a class=anchor href=#placement-1>#</a></h2><h2 id=routing>Routing
<a class=anchor href=#routing>#</a></h2><h3 id=globle-routing>globle routing
<a class=anchor href=#globle-routing>#</a></h3><h4 id=write-guides>Write Guides
<a class=anchor href=#write-guides>#</a></h4><p>This command writes global routing guides, which can be used as input for global routing.</p><p>Example: <code>write_guides route.guide</code>.</p><pre tabindex=0><code>write_guides file_name
</code></pre><h4 id=options-9>Options
<a class=anchor href=#options-9>#</a></h4><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>file_name</code></td><td>Guide file name.</td></tr></tbody></table><h2 id=report-and-dump>report and dump
<a class=anchor href=#report-and-dump>#</a></h2><h3 id=write-macro-placement>Write Macro Placement
<a class=anchor href=#write-macro-placement>#</a></h3><p>This command writes macro placement.</p><pre tabindex=0><code>write_macro_placement file_name
</code></pre><h2 id=global-routing---fastroute41>Global Routing - FastRoute4.1
<a class=anchor href=#global-routing---fastroute41>#</a></h2><p><a href=https://github.com/the-openroad-project/openroad/tree/master/src/grt>OpenROAD/src/grt at master · The-OpenROAD-Project/OpenROAD</a></p><table><thead><tr><th>Switch Name</th><th>Description</th></tr></thead><tbody><tr><td><code>-guide_file</code></td><td>Set the output guides file name (e.g., <code>route.guide</code>).</td></tr><tr><td><code>-congestion_iterations</code></td><td>Set the number of iterations made to remove the overflow of the routing. The default value is <code>50</code>, and the allowed values are integers <code>[0, MAX_INT]</code>.</td></tr><tr><td><code>-congestion_report_file</code></td><td>Set the file name to save the congestion report. The file generated can be read by the DRC viewer in the GUI (e.g., <code>report_file.rpt</code>).</td></tr><tr><td><code>-congestion_report_iter_step</code></td><td>Set the number of iterations to report. The default value is <code>0</code>, and the allowed values are integers <code>[0, MAX_INT]</code>.</td></tr><tr><td><code>-grid_origin</code></td><td>Set the (x, y) origin of the routing grid in DBU. For example, <code>-grid_origin {1 1}</code> corresponds to the die (0, 0) + 1 DBU in each x&ndash;, y- direction.</td></tr><tr><td><code>-critical_nets_percentage</code></td><td>Set the percentage of nets with the worst slack value that are considered timing critical, having preference over other nets during congestion iterations (e.g. <code>-critical_nets_percentage 30</code>). The default value is <code>0</code>, and the allowed values are integers <code>[0, MAX_INT]</code>.</td></tr><tr><td><code>-allow_congestion</code></td><td>Allow global routing results to be generated with remaining congestion. The default is false.</td></tr><tr><td><code>-verbose</code></td><td>This flag enables the full reporting of the global routing.</td></tr><tr><td><code>-start_incremental</code></td><td>This flag initializes the GRT listener to get the net modified. The default is false.</td></tr><tr><td><code>-end_incremental</code></td><td>This flag run incremental GRT with the nets modified. The default is false.</td></tr></tbody></table><h2 id=using-macro-in-openlane>Using Macro in openlane
<a class=anchor href=#using-macro-in-openlane>#</a></h2><h2 id=debug-in-openroad>debug in openroad
<a class=anchor href=#debug-in-openroad>#</a></h2><h4 id=make-as-follow>make as follow
<a class=anchor href=#make-as-follow>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd OpenROAD
</span></span><span style=display:flex><span>mkdir build_debug
</span></span><span style=display:flex><span>cd build_debug
</span></span><span style=display:flex><span>cmake .. -DCMAKE_BUILD_TYPE<span style=color:#f92672>=</span>DEBUG
</span></span><span style=display:flex><span><span style=color:#75715e>#wait</span>
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span><span style=color:#75715e>#make  -j $thread_to_make</span>
</span></span></code></pre></div><h3 id=my-lancunjson>my lancun.json
<a class=anchor href=#my-lancunjson>#</a></h3><pre tabindex=0><code>{
    &#34;configurations&#34;: [
    {
        &#34;name&#34;: &#34;(gdb) Launch&#34;,
        &#34;type&#34;: &#34;cppdbg&#34;,
        &#34;request&#34;: &#34;launch&#34;,
        &#34;program&#34;: &#34;/you/path/OpenROAD/build_debug/src/openroad&#34;,
        &#34;args&#34;: [],
        &#34;stopAtEntry&#34;: false,
        &#34;cwd&#34;: &#34;/you/path/OpenROAD-flow-scripts/tools/OpenROAD/build_debug/src/&#34;,
        &#34;environment&#34;: [],
        &#34;externalConsole&#34;: false,
        &#34;MIMode&#34;: &#34;gdb&#34;,
        &#34;setupCommands&#34;: [
            {
                &#34;description&#34;: &#34;Enable pretty-printing for gdb&#34;,
                &#34;text&#34;: &#34;-enable-pretty-printing&#34;,
                &#34;ignoreFailures&#34;: true
            },
            {
                &#34;description&#34;: &#34;Set Disassembly Flavor to Intel&#34;,
                &#34;text&#34;: &#34;-gdb-set disassembly-flavor intel&#34;,
                &#34;ignoreFailures&#34;: true
            }
        ]
    }
    ]
}
</code></pre><p>after add your breakpoints, click the triangle to debug
and you have to wait a minutes
<img src=https://github.com/user-attachments/assets/31ea56d6-d450-4e57-9bf8-9ba68e831a08 alt=image></p><p>then you can input you command to debug openroad in terminal
<img src=https://github.com/user-attachments/assets/1deb746c-ab28-4cdb-8c94-ab83beabdd02 alt=image></p><p>I just found out how to do that too, holp this help.</p><h2 id=install-1>install
<a class=anchor href=#install-1>#</a></h2><p><a href=https://openroad.readthedocs.io/en/latest/user/Build.html#install-dependencies>Installing OpenROAD — OpenROAD documentation</a></p><pre tabindex=0><code>#在ubuntu:20.04新的docker容器中
apt update
apt-get update --fix-missing
apt install git
git clone --recursive https://github.com/The-OpenROAD-Project/OpenROAD.git
cd OpenROAD/
./etc/DependencyInstaller.sh
cd build/
make
make install
openroad -help
</code></pre><p><strong>install in a new ubuntu20.04 container</strong></p><p>现在openroad中安装依赖，再直接build ORFS</p><p><a href=https://openroad-flow-scripts.readthedocs.io/en/latest/user/BuildWithDocker.html>Build from sources using Docker — OpenROAD Flow documentation</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt install swig
</span></span><span style=display:flex><span>apt-get install libboost-all-dev
</span></span></code></pre></div><p>a bug:</p><blockquote><p>Ign:1
<a href=https://download.docker.com/linux/ubuntu>https://download.docker.com/linux/ubuntu</a> focal InRelease</p><p>Err:2
<a href=https://download.docker.com/linux/ubuntu>https://download.docker.com/linux/ubuntu</a> focal Release</p><p>Could not handshake: Error in the pull function. [IP: 13.35.210.84 443]</p><p>Hit:3
<a href=http://security.ubuntu.com/ubuntu>http://security.ubuntu.com/ubuntu</a> focal-security InRelease</p><p>Hit:4
<a href=http://archive.ubuntu.com/ubuntu>http://archive.ubuntu.com/ubuntu</a> focal InRelease</p><p>Hit:5
<a href=http://archive.ubuntu.com/ubuntu>http://archive.ubuntu.com/ubuntu</a> focal-updates InRelease</p><p>Hit:6
<a href=http://archive.ubuntu.com/ubuntu>http://archive.ubuntu.com/ubuntu</a> focal-backports InRelease</p><p>Reading package lists&mldr; Done</p><p>E: The repository &lsquo;
<a href=https://download.docker.com/linux/ubuntu>https://download.docker.com/linux/ubuntu</a> focal Release&rsquo; no longer has a Release file.</p><p>N: Updating from such a repository can&rsquo;t be done securely, and is therefore disabled by default.</p><p>N: See apt-secure(8) manpage for repository creation and user configuration details.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>build in docker, not in locally
</span></span></code></pre></div><h1 id=开源工具>开源工具
<a class=anchor href=#%e5%bc%80%e6%ba%90%e5%b7%a5%e5%85%b7>#</a></h1><p>openroad，openlane rtl-dgs全流程</p><p><strong>ALIGN2（“模拟布局，从网表智能生成”</strong>）</p><p><img src=assets/image-20241012163718048.png alt=image-20241012163718048></p><p>Global Router:</p><p>NCTUGR 2.0: can generate precise congestion maps</p><p>FastRoute1 [ICCAD 06]:</p><p>FastRoute2 :</p><p>FastRoute3 :</p><p>FastRoute4 :</p><p>Labyrinth [TCAD 2002] :</p><p>Chi Dispersion router [DAC 2003] :</p><h1 id=数据集>数据集
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e9%9b%86>#</a></h1><p>openroad 也有一些数据集?</p><p>比如:</p><p><img src=assets/image-20241102185431432.png alt=image-20241102185431432></p><p>CircuitNet:</p><p><img src=assets/image-20240928165929023.png alt=image-20240928165929023></p><p>在某些应用中，基于 GNN 的解决方案仍然没有达到完全的准确性。这可以使用 GNN 的结果作为进一步后处理步骤的输入来解决，如 GANA [30] 中那样。然而，我们希望未来的工作能够扩大训练数据和特征集以提高准确性，正如 GRANNITE [71] 中所提出的那样。更大的数据集将启用更深层次的模型，这可以转化为更好的结果。对于数据集生成，我们期望更多地使用开源 EDA 工具和技术。一个开放和标准的数据收集基础设施将最大限度地减少图形构建、映射和标记工作。此外，它将增强对 GNN 和 EDA 的研究，并实现研究结果比较和基准测试。</p><p>Chipyard</p><p>Opencores</p><h1 id=pdk-1>PDK
<a class=anchor href=#pdk-1>#</a></h1><p>DK即Process Design Kit 工艺设计包，是连接IC设计公司、代工厂和EDA公司的桥梁. PDK包含了从芯片设计到制造的各个环节所需的数据和信息，为了更直观地了解它，我们可以将<strong>PDK比作芯片设计过程中的“指导手册”</strong></p><p>PDK的主要作用是将晶圆代工厂的制造工艺要求转化为芯片设计师能够理解的信息。设计师利用PDK中的数据来确保他们的设计能够顺利制造，并将PDK导入到EDA软件中，进行设计、模拟和验证。一旦完成设计，设计师就可以将设计文件发送给晶圆代工厂进行生产。</p><p>A Process Design Kit (PDK) serves as the fundamental building block for integrated circuit (IC) design, playing a crucial role in transforming chip designs into <strong>silicon reality</strong>. These files serve as essential inputs for Electronic Design Automation (EDA) tools during chip design. Clients engage with a foundry&rsquo;s PDKs before production to ensure that their chip designs align with the foundry&rsquo;s capabilities and intended functionality.EDA Tool Ecosystem and PDK Integration. These tools rely on <strong>accurate PDK data to generate layouts, verify designs, and simulate performance.</strong> <strong>Standardized interfaces</strong> across diverse technology platforms enhance PDK usability.</p><h2 id=内容>内容
<a class=anchor href=#%e5%86%85%e5%ae%b9>#</a></h2><p><img src=assets/image-20241030144210841.png alt=image-20241030144210841></p><p><img src=assets/image-20241030144818640.png alt=image-20241030144818640></p><p><img src=assets/image-20241030145734998.png alt=image-20241030145734998></p><p><img src=assets/image-20241030150017974.png alt=image-20241030150017974></p><h2 id=生态>生态
<a class=anchor href=#%e7%94%9f%e6%80%81>#</a></h2><p><img src=assets/image-20241030142942533.png alt=image-20241030142942533></p><p>上游到下游</p><p><img src=assets/image-20241030143150122.png alt=image-20241030143150122></p><h2 id=开源pdk>开源PDK
<a class=anchor href=#%e5%bc%80%e6%ba%90pdk>#</a></h2><h3 id=sky130>sky130
<a class=anchor href=#sky130>#</a></h3><p><img src=assets/image-20241030135407199.png alt=image-20241030135407199></p><p><img src=assets/image-20241030150721498.png alt=image-20241030150721498></p><p><img src=assets/image-20241030153630245.png alt=image-20241030153630245></p><p><img src=assets/image-20241030153816684.png alt=image-20241030153816684></p><p><img src=assets/image-20241030154313594.png alt=image-20241030154313594></p><p><img src=assets/image-20241030154345423.png alt=image-20241030154345423></p><p><img src=assets/image-20241030154638631.png alt=image-20241030154638631></p><p><img src=assets/image-20241030154711517.png alt=image-20241030154711517></p><p><img src=assets/image-20241030154828143.png alt=image-20241030154828143></p><p><img src=assets/image-20241030155001235.png alt=image-20241030155001235></p><p><img src=assets/image-20241030155014644.png alt=image-20241030155014644></p><p><img src=assets/image-20241030155116167.png alt=image-20241030155116167></p><h3 id=gf180>GF180
<a class=anchor href=#gf180>#</a></h3><h3 id=freepdk45>FreePDK45
<a class=anchor href=#freepdk45>#</a></h3><h3 id=nangate45><a href=https://github.com/rbarzic/platform_nangate45>nangate45</a>
<a class=anchor href=#nangate45>#</a></h3><p>FreePDK45 是<strong>北卡罗来纳州立大学</strong>的电子设计自动化实验室提供的免费开源的45nm工艺库，使用了MOSIS工艺</p><h3 id=ihp-open-source-pdk>IHP Open Source PDK
<a class=anchor href=#ihp-open-source-pdk>#</a></h3><h3 id=asap7>ASAP7
<a class=anchor href=#asap7>#</a></h3><p>7nm Predictive PDK</p><h3 id=asap5>ASAP5
<a class=anchor href=#asap5>#</a></h3><p>5nm</p><p><a href=https://github.com/The-OpenROAD-Project/asap5>The-OpenROAD-Project/asap5</a></p><p>貌似还用不了</p><h2 id=参考-6>参考
<a class=anchor href=#%e5%8f%82%e8%80%83-6>#</a></h2><p><a href=DesignAutomationConference_SFO_2024.pdf>DesignAutomationConference_SFO_2024</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/867a96decfd822b12870ebe14a551d1f46c8f43f title='最后修改者 pxhg02 | 二月 20, 2025' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>二月 20, 2025</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content.zh/docs/Digtal/flow/flow.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>编辑本页</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ai-4-science>AI 4 Science</a></li><li><a href=#数字集成电路后端设计整体流程>数字集成电路后端设计整体流程</a><ul><li><a href=#floorplanning布图>Floorplanning（布图)</a></li><li><a href=#placement布局>Placement（布局）</a></li><li><a href=#clock-tree-synthesis-cts时钟树-综合>Clock Tree Synthesis (CTS)（<a href="https://zhida.zhihu.com/search?content_id=233534347&amp;content_type=Article&amp;match_order=1&amp;q=%E6%97%B6%E9%92%9F%E6%A0%91&amp;zhida_source=entity">时钟树</a> 综合）</a></li><li><a href=#routing布线>Routing（布线）</a></li><li><a href=#physical-verification物理验证>Physical Verification（物理验证）</a></li><li><a href=#sign-off-checks>Sign-off Checks</a></li></ul></li><li><a href=#eda-软件研发难点>EDA 软件研发难点</a><ul><li><a href=#参考>参考</a></li></ul></li><li><a href=#eda-重要性>EDA 重要性</a></li><li><a href=#eda-发展历史>EDA 发展历史</a><ul><li><a href=#中国大陆>中国大陆</a></li><li><a href=#参考-1>参考</a><ul><li><a href=#超大规模集成电路物理设计-从图分割到时序收敛第一章>超大规模集成电路物理设计-从图分割到时序收敛：第一章</a></li></ul></li></ul></li><li><a href=#ai4eda>AI4EDA</a><ul><li><ul><li><a href=#传统-eda-缺点>传统 EDA 缺点</a></li></ul></li><li><a href=#gnn>GNN</a><ul><li><a href=#relate-work-素材>relate work 素材</a></li></ul></li><li><a href=#rl>RL</a></li><li><a href=#市场>市场</a><ul><li><a href=#三巨头>三巨头：</a></li></ul></li><li><a href=#历史>历史</a></li><li><a href=#eda-流程>EDA 流程</a><ul><li><a href=#数字前端>数字前端</a></li><li><a href=#数字后端>数字后端</a></li><li><a href=#模拟>模拟</a></li><li><a href=#llm-大语言模型>LLM 大语言模型</a></li></ul></li><li><a href=#lcm>LCM</a></li><li><a href=#团队>团队</a></li><li><a href=#参考-3>参考</a></li></ul></li><li><a href=#innovus>innovus</a><ul><li><a href=#flow>flow</a><ul><li><a href=#floorplan>floorplan</a></li><li><a href=#placement>placement</a></li><li><a href=#cts>CTS</a></li><li><a href=#route>route</a></li><li><a href=#sign-off>sign off</a></li></ul></li><li><a href=#common-command>common command</a></li><li><a href=#实战-c>实战 c</a><ul><li><a href=#0_所需文件>0_所需文件：</a></li><li><a href=#1_数据初始化>1_数据初始化</a></li><li><a href=#2_import>2_import</a></li><li><a href=#3_floorplan>3_floorPlan</a></li><li><a href=#4_powerplan>4_powerPlan</a></li><li><a href=#5_place_opt>5_place_opt</a></li><li><a href=#6_cts>6_CTS</a></li><li><a href=#7_cts_opt>7_cts_opt</a></li><li><a href=#8_route>8_route</a></li></ul></li><li><a href=#优化>优化</a><ul><li><a href=#优化目标>优化目标</a></li><li><a href=#innovus-优化流程>innovus 优化流程</a></li></ul></li><li><a href=#文件名称>文件名称</a><ul><li><a href=#gdsii><strong>GDSII：</strong></a></li><li><a href=#cif><strong>CIF：</strong></a></li><li><a href=#lef><strong>LEF：</strong></a></li></ul></li><li><a href=#standard-cell>Standard cell</a><ul><li><a href=#def><strong>DEF：</strong></a></li><li><a href=#lib><strong>Lib:</strong></a></li><li><a href=#sdf><strong>SDF：</strong></a></li><li><a href=#dspfrspfsbpf-和-spef><strong>DSPF、RSPF、SBPF 和 SPEF：</strong></a></li><li><a href=#alf><strong>ALF：</strong></a></li><li><a href=#pdef><strong>PDEF：</strong></a></li><li><a href=#tlf><strong>TLF</strong></a></li><li><a href=#gcf><strong>GCF</strong></a></li></ul></li><li><a href=#install>install</a><ul><li><a href=#依赖>依赖</a></li><li><a href=#解压>解压</a></li><li><a href=#安装>安装</a></li><li><a href=#破解>破解</a></li><li><a href=#环境变量>环境变量</a></li><li><a href=#大致结束>大致结束</a></li><li><a href=#其他相关-bug>其他相关 bug</a></li><li><a href=#参考-4>参考</a></li></ul></li><li><a href=#参考-5>参考</a></li></ul></li><li><a href=#openroadorfsopenlane>OpenROAD/ORFS/OpenLane</a><ul><li><a href=#特点>特点</a><ul><li><a href=#优点>优点</a></li><li><a href=#缺点>缺点</a></li></ul></li><li><a href=#relation-between-openroadsrfsopenlane>relation between openroad/SRFS/openlane</a><ul><li><a href=#openroad>openroad</a></li><li><a href=#orfs>ORFS</a></li><li><a href=#openlance><strong>openlance</strong></a></li></ul></li><li><a href=#architecture>Architecture</a></li><li><a href=#openlane-flow-stages>OpenLane Flow Stages</a></li><li><a href=#pdk>PDK</a><ul><li></li></ul></li><li><a href=#basic-run>Basic Run</a></li><li><a href=#basic-command>Basic Command</a><ul><li><a href=#area>area</a></li><li><a href=#save-image>Save Image<a href=https://openroad.readthedocs.io/en/latest/main/src/gui/README.html#save-image>#</a></a></li><li><a href=#select-objects>Select Objects</a></li><li><a href=#add-a-single-net-to-selection>Add a single net to selection</a></li><li><a href=#add-multiple-nets-to-selection>Add multiple nets to selection</a></li><li><a href=#add-a-single-inst-to-selection>Add a single inst to selection</a></li><li><a href=#add-multiple-insts-to-selection>Add multiple insts to selection</a></li><li><a href=#select-at-point-or-area>Select at point or area</a></li><li><a href=#select-next-item-from-selection>Select next item from selection</a></li><li><a href=#select-previous-item-from-selection>Select previous item from selection</a></li><li><a href=#clear-selection>Clear Selection</a></li><li><a href=#set-heatmap>Set Heatmap</a></li><li><a href=#dump-heatmap-to-file>Dump Heatmap to file</a></li></ul></li><li><a href=#init>init</a></li><li><a href=#floorplant>floorplant</a></li><li><a href=#placement-1>placement</a></li><li><a href=#routing>Routing</a><ul><li><a href=#globle-routing>globle routing</a></li></ul></li><li><a href=#report-and-dump>report and dump</a><ul><li><a href=#write-macro-placement>Write Macro Placement</a></li></ul></li><li><a href=#global-routing---fastroute41>Global Routing - FastRoute4.1</a></li><li><a href=#using-macro-in-openlane>Using Macro in openlane</a></li><li><a href=#debug-in-openroad>debug in openroad</a><ul><li></li><li><a href=#my-lancunjson>my lancun.json</a></li></ul></li><li><a href=#install-1>install</a></li></ul></li><li><a href=#开源工具>开源工具</a></li><li><a href=#数据集>数据集</a></li><li><a href=#pdk-1>PDK</a><ul><li><a href=#内容>内容</a></li><li><a href=#生态>生态</a></li><li><a href=#开源pdk>开源PDK</a><ul><li><a href=#sky130>sky130</a></li><li><a href=#gf180>GF180</a></li><li><a href=#freepdk45>FreePDK45</a></li><li><a href=#nangate45><a href=https://github.com/rbarzic/platform_nangate45>nangate45</a></a></li><li><a href=#ihp-open-source-pdk>IHP Open Source PDK</a></li><li><a href=#asap7>ASAP7</a></li><li><a href=#asap5>ASAP5</a></li></ul></li><li><a href=#参考-6>参考</a></li></ul></li></ul></nav></div></aside></main></body></html>